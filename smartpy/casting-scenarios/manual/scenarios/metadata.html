<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating and publishing metadata | SmartPy</title>
    <meta name="description" content="A comprehensive solution for developing, testing, and deploying smart contracts on the Tezos blockchain. All in familiar Python syntax.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/previews/smartpy/casting-scenarios/assets/style.dTpqm1BY.css" as="style">
    <link rel="preload stylesheet" href="/previews/smartpy/casting-scenarios/vp-icons.css" as="style">
    
    <script type="module" src="/previews/smartpy/casting-scenarios/assets/app.B1VsI0d_.js"></script>
    <link rel="preload" href="/previews/smartpy/casting-scenarios/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/previews/smartpy/casting-scenarios/assets/chunks/theme.CPCt_s_o.js">
    <link rel="modulepreload" href="/previews/smartpy/casting-scenarios/assets/chunks/framework.BHElM6wE.js">
    <link rel="modulepreload" href="/previews/smartpy/casting-scenarios/assets/chunks/DocFunction.Doty0qhz.js">
    <link rel="modulepreload" href="/previews/smartpy/casting-scenarios/assets/manual_scenarios_metadata.md.DVB2hQFD.lean.js">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@smartpy_io">
    <meta name="twitter:title" content="SmartPy">
    <meta name="twitter:description" content="Smart contracts on Tezos">
    <meta name="twitter:image" content="///localhost:5173/img/logo-with-margin.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/previews/smartpy/casting-scenarios/" data-v-9f43907a><!--[--><!--]--><!--[--><!--[--><!--[--><img class="VPImage dark logo" src="///localhost:5173/img/logo-only.svg" alt="SmartPy" data-v-ab19afbb><!--]--><!--[--><img class="VPImage light logo" src="///localhost:5173/img/logo-only.svg" alt="SmartPy" data-v-ab19afbb><!--]--><!--]--><!--]--><span data-v-9f43907a>SmartPy</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd style="--3b1f974e:initial;"><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key"></span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/previews/smartpy/casting-scenarios/manual/introduction/overview" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Manual</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/previews/smartpy/casting-scenarios/tutorials" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Tutorials</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/previews/smartpy/casting-scenarios/releases" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Releases</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://localhost:5173/ide" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>IDE</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://localhost:5173/experimental-notebook/" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Notebook</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://gitlab.com/smartpy.io/smartpy" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://forum.smartpy.io/" aria-label="discourse" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-discourse"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/tezos" aria-label="discord" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://x.com/smartpy_io" aria-label="x" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="http://t.me/smartpy_io" aria-label="telegram" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-telegram"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://gitlab.com/smartpy.io/smartpy" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://forum.smartpy.io/" aria-label="discourse" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-discourse"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/tezos" aria-label="discord" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://x.com/smartpy_io" aria-label="x" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="http://t.me/smartpy_io" aria-label="telegram" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-telegram"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Introduction</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/introduction/overview" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/introduction/web_ide" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Web IDE</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/introduction/installation" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/introduction/local_development" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Local development</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/introduction/differences" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Differences from Python</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/introduction/faq" data-v-0009425e><!--[--><p class="text" data-v-0009425e>FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/introduction/troubleshooting" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Troubleshooting</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Syntax</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/syntax/modules" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Modules</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/syntax/contracts" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Contracts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/syntax/exceptions" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Exceptions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/syntax/debugging" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Debugging</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Data types</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/types" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Types</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>Primitive types</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/integers-and-mutez" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Integers and mutez</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/strings-and-bytes" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Strings and bytes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/booleans" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Booleans</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/timestamps" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Timestamps</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>Tezos-specific types</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/addresses" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Addresses</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/contracts" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Contracts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/operations" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Operations</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/tickets" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Tickets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/unit" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Unit</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>Complex types</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/lists-sets-and-maps" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Lists, sets, and maps</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/records" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Records</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/tuples" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Tuples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/options-and-variants" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Options and variants</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/lambdas" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Lambdas</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/effects" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Effects</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>Cryptographic types</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/keys-and-signatures" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Keys and signatures</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/bls12-381" data-v-0009425e><!--[--><p class="text" data-v-0009425e>BLS12-381</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/hashing-functions" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Hashing functions</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/data-types/casting" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Casting</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Testing</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/scenarios/test_scenarios" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Test scenarios</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/scenarios/test_accounts" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Test accounts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/scenarios/testing_contracts" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Testing contracts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/scenarios/metadata" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Creating and publishing metadata</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Compiling</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/compilation/compiling" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Compiling contracts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/compilation/deploying" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Deploying contracts</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Libraries</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/stdlib/library" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Standard libraries</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>FA2 lib</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/overview" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/base_classes" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Base classes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/entrypoints" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Entrypoints</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/mixins" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Mixins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/transfer-policies" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Policies</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/token_metadata" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Token metadata</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/contract_metadata" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Contract metadata</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/previews/smartpy/casting-scenarios/manual/libraries/FA2-lib/errors" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Errors</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _previews_smartpy_casting-scenarios_manual_scenarios_metadata" data-v-e6f2a212><div><h1 id="creating-and-publishing-metadata" tabindex="-1">Creating and publishing metadata <a class="header-anchor" href="#creating-and-publishing-metadata" aria-label="Permalink to &quot;Creating and publishing metadata&quot;">​</a></h1><p>Contract metadata provides context and descriptive information about smart contracts to wallets, explorers, dApps, and other off-chain applications.</p><p>In most cases, smart contracts store their metadata off-chain and keep only a link to the metadata in their storage. Therefore, on-chain applications including contracts cannot access metadata. To store data off-chain in a decentralized way, many Tezos developers use <a href="https://ipfs.tech/" target="_blank" rel="noreferrer">IPFS</a>.</p><p>The primary Tezos standard for metadata is <a href="https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-16/tzip-16.md" target="_blank" rel="noreferrer">TZIP-016 (Tezos Metadata Standard)</a>. SmartPy includes tools to help you create standard-compliant metadata and store it in IPFS.</p><h2 id="creating-metadata" tabindex="-1">Creating metadata <a class="header-anchor" href="#creating-metadata" aria-label="Permalink to &quot;Creating metadata&quot;">​</a></h2><dl class="function" data-v-21214205><!--[--><dt class="signature" data-name="sp.create_tzip16_metadata" data-v-21214205><a id="sp.create_tzip16_metadata" class="header-anchor" href="#sp.create_tzip16_metadata" aria-label="Link to sp.create_tzip16_metadata" data-v-21214205></a><span class="name" data-v-21214205>sp.create_tzip16_metadata</span><span class="parens" data-v-21214205>(</span>name: str, description: str, version: str, license_name: str, license_details: str, interfaces: List[str], authors: List[str], homepage: str, source_uri: str<span class="parens" data-v-21214205>)</span><span style="" data-v-21214205><span data-v-21214205> → dict[str, any]</span></span></dt><!--]--><dd data-v-21214205><!--[--><p>Return a TZIP-016 compliant metadata dictionary. All arguments are optional.</p><p>Parameters:</p><ul><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span></span></code></span>: The name of the contract, which should identify its purpose.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description</span></span></code></span>: A description of the contract.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span></span></code></span>: The version of the contract. The version together with the name should be unique on the chain. For example: <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.0</span></span></code></span>.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">license_name</span></span></code></span>: License name. See Debian <a href="https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/#license-short-name" target="_blank" rel="noreferrer">guidelines</a>.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">license_details</span></span></code></span>: Optional license details.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">interfaces</span></span></code></span>: A list of the TZIP interfaces supported by the contract. <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TZIP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">16</span></span></code></span> is automatically added to this list. For example: <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TZIP-012&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></span>.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">authors</span></span></code></span>: A list of the authors of the contract. For example: <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SmartPy &lt;https://smartpy.io/&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></span>.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">homepage</span></span></code></span>: The homepage is for human consumption. It can be the location of the decentralized app website, a git repository, a SmartPy IDE link, where to submit issue tickets, a more elaborate description, etc.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source_uri</span></span></code></span>: The URI of a document giving all details to rebuild the contract from SmartPy source in the format <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipfs:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">//&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></span>. For example, <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipfs:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">//</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">QmaV5gQ6p9ND9pjc1BPD3dc8oyi8CWEDdueSmkmasiaWGA</span></span></code></span>. See <a href="#uploading-and-linking-to-source-code">Uploading and linking to source code</a>.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">offchain_views</span></span></code></span>: The compiled off-chain views of the contract.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">error_map</span></span></code></span>: A dictionary that maps error codes to error messages. See <a href="./testing_contracts#contract.get_error_map">contracts#contract.get_error_map</a>.</li></ul><p>For example, this code creates metadata for a contract:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> smartpy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@sp.module</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">():</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyContract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Contract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        @sp.entrypoint</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            raise</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;An error occurred&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scenario </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.test_scenario(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyTest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, main)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scenario.add_flag(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;exceptions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;metadata-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">contract </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> main.MyContract()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata_dict </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.create_tzip16_metadata(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyContract&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    license_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CC0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;This is a demo contract using SmartPy.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    authors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SmartPy &lt;https://smartpy.io/&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    homepage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://smartpy.io/ide?template=contract_metadata.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Uncomment if you want to upload the SmartPy source code of the</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # contract to IPFS and specify them in the metadata dictionary.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # source_uri=sp.pin_on_ipfs(c1.get_source(), name = &quot;Source code for my contract&quot;),</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    offchain_views</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">contract.get_offchain_views(),</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    error_map</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">contract.get_error_map(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><!--]--></dd></dl><p>The TZIP-16 standard is flexible, which means that you can add any non-standard field with information as needed. For example, you can add a calendar URL to the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata_dict</span></span></code></span> object in the previous example with this code: <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata_dict[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;calendar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&lt;url&gt;.ics&quot;</span></span></code></span></p><p>You can also create and import a metadata JSON file on your own with this code:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">encoded_metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json.dumps(metadata_dict)</span></span></code></pre></div><h2 id="uploading-metadata" tabindex="-1">Uploading metadata <a class="header-anchor" href="#uploading-metadata" aria-label="Permalink to &quot;Uploading metadata&quot;">​</a></h2><p>To be available to off-chain applications, you must convert the metadata dictionary to JSON and upload it to off-chain hosting.</p><p>SmartPy provides a utility to help you upload and pin the JSON data on IPFS through the <a href="https://app.pinata.cloud" target="_blank" rel="noreferrer">Pinata</a> service.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Pinning data on IPFS ensures that content remains accessible and is not garbage collected. As long as at least one node pins the content, it remains available to the network. Moreover, any party in possession of the data can re-upload it to IPFS. Because the data&#39;s hash remains consistent, the content becomes instantly accessible via the original URI.</p></div><p>To upload your metadata to IPFS and ensure its continued availability, you can use the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sp.pin_on_ipfs</span></span></code></span> function. This function uses the Pinata service, a popular IPFS pinning provider, to store your data on the decentralized web.</p><p>To use this function, you must <a href="https://app.pinata.cloud" target="_blank" rel="noreferrer">create an account on Pinata</a> and create an API key with the &quot;pinJSONToIPFS&quot; permission, which allows it to pin JSON data.</p><dl class="function" data-v-21214205><!--[--><dt class="signature" data-name="sp.pin_on_ipfs" data-v-21214205><a id="sp.pin_on_ipfs" class="header-anchor" href="#sp.pin_on_ipfs" aria-label="Link to sp.pin_on_ipfs" data-v-21214205></a><span class="name" data-v-21214205>sp.pin_on_ipfs</span><span class="parens" data-v-21214205>(</span>data: dict[str, any], api_key: str = None, secret_key: str = None, name: str = None<span class="parens" data-v-21214205>)</span><span style="" data-v-21214205><span data-v-21214205> → str</span></span></dt><!--]--><dd data-v-21214205><!--[--><p>Pin a JSON file to IPFS through Pinata.</p><p>Parameters:</p><ul><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data</span></span></code></span>: The metadata to pin, such as the data returned by <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sp.create_tzip16_metadata(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></span> or by <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">contract.get_source()</span></span></code></span>.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key</span></span></code></span>: The API key of your Pinata API keypair. You can also put the key in the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PINATA_KEY</span></span></code></span> environment variable.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">secret_key</span></span></code></span>: The secret key of your Pinata API keypair. You can also put the secret key in the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PINATA_SECRET</span></span></code></span> environment variable.</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span></span></code></span>: The name to give the file in Pinata.</li></ul><p>For example:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pin the source code on IPFS and retrieve the URI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source_uri </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.pin_on_ipfs(contract.get_source())</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Create a TZIP-16 metadata object including the URI to the source code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata_dict </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.create_tzip16_metadata(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">source_uri</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source_uri)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pin the metadata to IPFS and get the URI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata_uri </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.pin_on_ipfs(metadata_dict, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;My contract metadata&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Now when you compile the contract, SmartPy pins the metadata to IPFS automatically.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>You can set environment variables such as <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PINATA_KEY</span></span></code></span> and <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PINATA_SECRET</span></span></code></span> in your operating system or within your development environment.</p></div><!--]--></dd></dl><h2 id="linking-to-metadata" tabindex="-1">Linking to metadata <a class="header-anchor" href="#linking-to-metadata" aria-label="Permalink to &quot;Linking to metadata&quot;">​</a></h2><p>Contracts store a link to their metadata in a <a href="/previews/smartpy/casting-scenarios/manual/data-types/lists-sets-and-maps#big-maps">big map</a> of type <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sp.big_map[sp.string, sp.bytes]</span></span></code></span>. This big map is stored in a variable named <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata</span></span></code></span> in the contract storage. This big map always contains the empty key <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span></code></span> and its value is an encoded URI that points to a JSON document (the one created with <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sp.create_tzip16_metadata</span></span></code></span>).</p><p>While you can provide additional metadata directly in the contract&#39;s storage, the JSON document should be the main place to store metadata.</p><dl class="function" data-v-21214205><!--[--><dt class="signature" data-name="sp.scenario_utils.metadata_of_url" data-v-21214205><a id="sp.scenario_utils.metadata_of_url" class="header-anchor" href="#sp.scenario_utils.metadata_of_url" aria-label="Link to sp.scenario_utils.metadata_of_url" data-v-21214205></a><span class="name" data-v-21214205>sp.scenario_utils.metadata_of_url</span><span class="parens" data-v-21214205>(</span>url: str<span class="parens" data-v-21214205>)</span><span style="" data-v-21214205><span data-v-21214205> → sp.big_map[sp.string, sp.bytes]</span></span></dt><!--]--><dd data-v-21214205><!--[--><p>Create a big map with an empty key with the encoded URL for its value.</p><p>For example:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata_big_map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.scenario_utils.metadata_of_url(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;ipfs://QmaV5gQ6p9ND9pjc1BPD3dc8oyi8CWEDdueSmkmasiaWGA&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Equivalent to</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata_big_map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.big_map({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: sp.bytes(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.encode(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).hex())})</span></span></code></pre></div><p>Then you can use this big map as the value of the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata</span></span></code></span> field in the contract storage.</p><!--]--></dd></dl><h2 id="uploading-and-linking-to-source-code" tabindex="-1">Uploading and linking to source code <a class="header-anchor" href="#uploading-and-linking-to-source-code" aria-label="Permalink to &quot;Uploading and linking to source code&quot;">​</a></h2><p>If you want to expose the source code of your contract, you can retrieve it with <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">contract.get_source()</span></span></code></span> and pin it to IPFS as described in <a href="#uploading-metadata">Uploading metadata</a>. You can then include the resulting URI (starting with <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipfs:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">//</span></span></code></span>) in the contract metadata.</p><p>Here is <a href="https://ipfs.io/ipfs/QmNam86n8CwFUT5Cr9uTWiqgBtxLEW6oDd7hrhX9u1fzaA" target="_blank" rel="noreferrer">an example</a> of SmartPy source code uploaded to IPFS. It contains the following elements:</p><ul><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">module_</span></span></code></span>: The module from which the contract was built</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span></span></code></span>: The class name</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">param</span></span></code></span>: The parameters given to the constructor after evaluation</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">modules</span></span></code></span>: All the modules imported in the scenario</li><li><span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flags</span></span></code></span>: The flags given to the compilation</li></ul><h2 id="verifying-source-code" tabindex="-1">Verifying source code <a class="header-anchor" href="#verifying-source-code" aria-label="Permalink to &quot;Verifying source code&quot;">​</a></h2><p>Anyone can verify that the source code indicated in the metadata corresponds to the Michelson code uploaded on the Tezos blockchain.</p><dl class="function" data-v-21214205><!--[--><dt class="signature" data-name="sp.get_metadata" data-v-21214205><a id="sp.get_metadata" class="header-anchor" href="#sp.get_metadata" aria-label="Link to sp.get_metadata" data-v-21214205></a><span class="name" data-v-21214205>sp.get_metadata</span><span class="parens" data-v-21214205>(</span>address: str, network = &quot;mainnet&quot;<span class="parens" data-v-21214205>)</span><span style="" data-v-21214205><span data-v-21214205> → dict</span></span></dt><!--]--><dd data-v-21214205><!--[--><p>Fetches and returns the metadata dictionary for a given contract address and network from an explorer API like <a href="https://tzkt.io/api" target="_blank" rel="noreferrer">TZKT</a>.</p><!--]--></dd></dl><dl class="function" data-v-21214205><!--[--><dt class="signature" data-name="sp.get_metadata_code" data-v-21214205><a id="sp.get_metadata_code" class="header-anchor" href="#sp.get_metadata_code" aria-label="Link to sp.get_metadata_code" data-v-21214205></a><span class="name" data-v-21214205>sp.get_metadata_code</span><span class="parens" data-v-21214205>(</span>metadata: dict<span class="parens" data-v-21214205>)</span><span style="" data-v-21214205><span data-v-21214205> → dict</span></span></dt><!--]--><dd data-v-21214205><!--[--><p>Fetches and returns the code metadata for a contract&#39;s metadata through an IPFS endpoint, for example <a href="https://ipfs.io/ipfs/" target="_blank" rel="noreferrer">ipfs.io</a>.</p><!--]--></dd></dl><dl class="function" data-v-21214205><!--[--><dt class="signature" data-name="sp.get_code" data-v-21214205><a id="sp.get_code" class="header-anchor" href="#sp.get_code" aria-label="Link to sp.get_code" data-v-21214205></a><span class="name" data-v-21214205>sp.get_code</span><span class="parens" data-v-21214205>(</span>address: str, network: &quot;mainnet&quot;<span class="parens" data-v-21214205>)</span><span style="" data-v-21214205><span data-v-21214205> → str</span></span></dt><!--]--><dd data-v-21214205><!--[--><p>Fetches and returns the Michelson code of a contract from an explorer API like <a href="https://tzkt.io/api" target="_blank" rel="noreferrer">TZKT</a>.</p><!--]--></dd></dl><dl class="function" data-v-21214205><!--[--><dt class="signature" data-name="sp.check_validity" data-v-21214205><a id="sp.check_validity" class="header-anchor" href="#sp.check_validity" aria-label="Link to sp.check_validity" data-v-21214205></a><span class="name" data-v-21214205>sp.check_validity</span><span class="parens" data-v-21214205>(</span>metadata: dict, code_metadata: dict, onchain_michelson: str<span class="parens" data-v-21214205>)</span><span style="display:none;" data-v-21214205><span data-v-21214205> → </span></span></dt><!--]--><dd data-v-21214205><!--[--><p>Checks that the code given in the metadata generates the same on-chain code. Raises <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CodeMismatchException</span></span></code></span> if the codes do not match.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The metadata dictionary is used to ensure that the version of SmartPy you are using is compatible with the version specified in the metadata. If you need to verify metadata for a contract created with a different version of SmartPy, you should run this function using that specific version of SmartPy.</p></div><p>For example, this code verifies the code of a SmartPy contract that was compiled with SmartPy version 0.19.0a2:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> smartpy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">address </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;KT1EQLe6AbouoX9RhFYHKeYQUAGAdGyFJXoi&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.get_metadata(address, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">network</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ghostnet&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">code_metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.get_metadata_code(metadata)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onchain_michelson </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.get_michelson_code(address, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">network</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ghostnet&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sp.check_validity(metadata, code_metadata, onchain_michelson)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Metadata code is valid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">except</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sp.CodeMismatchException </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Generated michelson:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.generated_michelson)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Details of the first difference:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.diff_details)</span></span></code></pre></div><!--]--></dd></dl></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/previews/smartpy/casting-scenarios/manual/scenarios/testing_contracts" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Testing contracts</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/previews/smartpy/casting-scenarios/manual/compilation/compiling" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Compiling contracts</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><!----><p class="copyright" data-v-566314d4>Copyright 2025 - present Trilitech Limited, 2022-2024 Morum LLC<br/>Copyright 2019-2022 Smart Chain Arena LLC</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"BTuFEVPO\",\"manual_compilation_compiling.md\":\"D3uqLR35\",\"manual_compilation_deploying.md\":\"CEj1OsBD\",\"manual_data-types_addresses.md\":\"DY93Gkqh\",\"manual_data-types_bls12-381.md\":\"Dx62Nlyv\",\"manual_data-types_booleans.md\":\"CM0QKlUB\",\"manual_data-types_casting.md\":\"CCvv_-3A\",\"manual_data-types_contracts.md\":\"K4ooTpmK\",\"manual_data-types_effects.md\":\"D26ot89W\",\"manual_data-types_hashing-functions.md\":\"1C0fQqry\",\"manual_data-types_integers-and-mutez.md\":\"u0TbSmGb\",\"manual_data-types_keys-and-signatures.md\":\"32cThYcc\",\"manual_data-types_lambdas.md\":\"DQZIKZz1\",\"manual_data-types_lists-sets-and-maps.md\":\"CbVxIvb4\",\"manual_data-types_operations.md\":\"BhqnmJ8s\",\"manual_data-types_options-and-variants.md\":\"B_7Z0F27\",\"manual_data-types_records.md\":\"ByhYwoqg\",\"manual_data-types_strings-and-bytes.md\":\"CZkpeb6d\",\"manual_data-types_tickets.md\":\"GUw5L6cp\",\"manual_data-types_timestamps.md\":\"BAhylWpe\",\"manual_data-types_tuples.md\":\"BFVXVAOG\",\"manual_data-types_types.md\":\"BvCP7iK0\",\"manual_data-types_unit.md\":\"DwbfHx0N\",\"manual_introduction_differences.md\":\"CxYB-bBx\",\"manual_introduction_faq.md\":\"D8ejb43e\",\"manual_introduction_installation.md\":\"DRtEkbHY\",\"manual_introduction_local_development.md\":\"Bw_cjHIA\",\"manual_introduction_overview.md\":\"WysuAdAr\",\"manual_introduction_troubleshooting.md\":\"BbHKV2Pi\",\"manual_introduction_web_ide.md\":\"rQUKxZ6m\",\"manual_libraries_fa2-lib_base_classes.md\":\"D6--T_d1\",\"manual_libraries_fa2-lib_contract_metadata.md\":\"D-y6kbfX\",\"manual_libraries_fa2-lib_entrypoints.md\":\"BmZ_E6cd\",\"manual_libraries_fa2-lib_errors.md\":\"BpdhEsjo\",\"manual_libraries_fa2-lib_mixins.md\":\"CIVMuv_U\",\"manual_libraries_fa2-lib_overview.md\":\"DkmvROpx\",\"manual_libraries_fa2-lib_token_metadata.md\":\"Bi-b2yll\",\"manual_libraries_fa2-lib_transfer-policies.md\":\"CE8asIRx\",\"manual_scenarios_metadata.md\":\"DVB2hQFD\",\"manual_scenarios_test_accounts.md\":\"DPzf4x3p\",\"manual_scenarios_test_scenarios.md\":\"CVcPW0Wt\",\"manual_scenarios_testing_contracts.md\":\"CtwuYyyX\",\"manual_syntax_contracts.md\":\"nAAeoOuY\",\"manual_syntax_debugging.md\":\"YnLdlcwe\",\"manual_syntax_exceptions.md\":\"BMJajRr1\",\"manual_syntax_modules.md\":\"nCX8iZG3\",\"releases.md\":\"8jMvs1D_\",\"tutorials.md\":\"Dqoehiey\",\"tutorials_fa2-fungible.md\":\"BrtfUV8_\",\"tutorials_fa2-fungible_adding-metadata.md\":\"DLsYVq87\",\"tutorials_fa2-fungible_basic-fa2-token.md\":\"B7pMcOXY\",\"tutorials_fa2-fungible_customizing-operations.md\":\"BCyIukDP\",\"tutorials_fa2-fungible_deploying-contract.md\":\"BDGGS1Er\",\"tutorials_fa2-fungible_minting-and-burning.md\":\"vA9c242Z\",\"tutorials_smart-contract.md\":\"DHnXXfNs\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"SmartPy\",\"description\":\"A comprehensive solution for developing, testing, and deploying smart contracts on the Tezos blockchain. All in familiar Python syntax.\",\"base\":\"/previews/smartpy/casting-scenarios/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{\"title\":\"SmartPy\",\"description\":\"SmartPy\",\"siteTitle\":\"SmartPy\",\"logo\":{\"light\":\"///localhost:5173/img/logo-only.svg\",\"dark\":\"///localhost:5173/img/logo-only.svg\",\"alt\":\"SmartPy\"},\"outline\":\"deep\",\"nav\":[{\"text\":\"Manual\",\"link\":\"/manual/introduction/overview\",\"activeMatch\":\"^/manual/\"},{\"text\":\"Tutorials\",\"link\":\"/tutorials\"},{\"text\":\"Releases\",\"link\":\"/releases\"},{\"text\":\"IDE\",\"link\":\"https://localhost:5173/ide\"},{\"text\":\"Notebook\",\"link\":\"https://localhost:5173/experimental-notebook/\"}],\"sidebar\":{\"/manual/\":[{\"text\":\"Introduction\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/manual/introduction/overview\"},{\"text\":\"Web IDE\",\"link\":\"/manual/introduction/web_ide\"},{\"text\":\"Installation\",\"link\":\"/manual/introduction/installation\"},{\"text\":\"Local development\",\"link\":\"/manual/introduction/local_development\"},{\"text\":\"Differences from Python\",\"link\":\"/manual/introduction/differences\"},{\"text\":\"FAQ\",\"link\":\"/manual/introduction/faq\"},{\"text\":\"Troubleshooting\",\"link\":\"/manual/introduction/troubleshooting\"}]},{\"text\":\"Syntax\",\"collapsed\":false,\"items\":[{\"text\":\"Modules\",\"link\":\"/manual/syntax/modules\"},{\"text\":\"Contracts\",\"link\":\"/manual/syntax/contracts\"},{\"text\":\"Exceptions\",\"link\":\"/manual/syntax/exceptions\"},{\"text\":\"Debugging\",\"link\":\"/manual/syntax/debugging\"}]},{\"text\":\"Data types\",\"collapsed\":false,\"items\":[{\"text\":\"Types\",\"link\":\"/manual/data-types/types\"},{\"text\":\"Primitive types\",\"collapsed\":true,\"items\":[{\"text\":\"Integers and mutez\",\"link\":\"/manual/data-types/integers-and-mutez\"},{\"text\":\"Strings and bytes\",\"link\":\"/manual/data-types/strings-and-bytes\"},{\"text\":\"Booleans\",\"link\":\"/manual/data-types/booleans\"},{\"text\":\"Timestamps\",\"link\":\"/manual/data-types/timestamps\"}]},{\"text\":\"Tezos-specific types\",\"collapsed\":true,\"items\":[{\"text\":\"Addresses\",\"link\":\"/manual/data-types/addresses\"},{\"text\":\"Contracts\",\"link\":\"/manual/data-types/contracts\"},{\"text\":\"Operations\",\"link\":\"/manual/data-types/operations\"},{\"text\":\"Tickets\",\"link\":\"/manual/data-types/tickets\"},{\"text\":\"Unit\",\"link\":\"/manual/data-types/unit\"}]},{\"text\":\"Complex types\",\"collapsed\":true,\"items\":[{\"text\":\"Lists, sets, and maps\",\"link\":\"/manual/data-types/lists-sets-and-maps\"},{\"text\":\"Records\",\"link\":\"/manual/data-types/records\"},{\"text\":\"Tuples\",\"link\":\"/manual/data-types/tuples\"},{\"text\":\"Options and variants\",\"link\":\"/manual/data-types/options-and-variants\"},{\"text\":\"Lambdas\",\"link\":\"/manual/data-types/lambdas\"},{\"text\":\"Effects\",\"link\":\"/manual/data-types/effects\"}]},{\"text\":\"Cryptographic types\",\"collapsed\":true,\"items\":[{\"text\":\"Keys and signatures\",\"link\":\"/manual/data-types/keys-and-signatures\"},{\"text\":\"BLS12-381\",\"link\":\"/manual/data-types/bls12-381\"},{\"text\":\"Hashing functions\",\"link\":\"/manual/data-types/hashing-functions\"}]},{\"text\":\"Casting\",\"link\":\"/manual/data-types/casting\"}]},{\"text\":\"Testing\",\"collapsed\":false,\"items\":[{\"text\":\"Test scenarios\",\"link\":\"/manual/scenarios/test_scenarios\"},{\"text\":\"Test accounts\",\"link\":\"/manual/scenarios/test_accounts\"},{\"text\":\"Testing contracts\",\"link\":\"/manual/scenarios/testing_contracts\"},{\"text\":\"Creating and publishing metadata\",\"link\":\"/manual/scenarios/metadata\"}]},{\"text\":\"Compiling\",\"collapsed\":false,\"items\":[{\"text\":\"Compiling contracts\",\"link\":\"/manual/compilation/compiling\"},{\"text\":\"Deploying contracts\",\"link\":\"/manual/compilation/deploying\"}]},{\"text\":\"Libraries\",\"collapsed\":false,\"items\":[{\"text\":\"Standard libraries\",\"link\":\"/manual/stdlib/library\"},{\"collapsed\":true,\"text\":\"FA2 lib\",\"items\":[{\"text\":\"Overview\",\"link\":\"/manual/libraries/FA2-lib/overview\"},{\"text\":\"Base classes\",\"link\":\"/manual/libraries/FA2-lib/base_classes\"},{\"text\":\"Entrypoints\",\"link\":\"/manual/libraries/FA2-lib/entrypoints\"},{\"text\":\"Mixins\",\"link\":\"/manual/libraries/FA2-lib/mixins\"},{\"text\":\"Policies\",\"link\":\"/manual/libraries/FA2-lib/transfer-policies\"},{\"text\":\"Token metadata\",\"link\":\"/manual/libraries/FA2-lib/token_metadata\"},{\"text\":\"Contract metadata\",\"link\":\"/manual/libraries/FA2-lib/contract_metadata\"},{\"text\":\"Errors\",\"link\":\"/manual/libraries/FA2-lib/errors\"}]}]}],\"/tutorials\":[{\"text\":\"Overview\",\"link\":\"/tutorials\"},{\"text\":\"Deploy a smart contract\",\"link\":\"/tutorials/smart-contract\",\"items\":[]},{\"text\":\"Create a fungible token with the SmartPy FA2 library\",\"link\":\"/tutorials/fa2-fungible\",\"collapsed\":false,\"items\":[{\"text\":\"Part 1: Setting up a simple FA2 token\",\"link\":\"/tutorials/fa2-fungible/basic-fa2-token\"},{\"text\":\"Part 2: Adding minting and burning entrypoints\",\"link\":\"/tutorials/fa2-fungible/minting-and-burning\"},{\"text\":\"Part 3: Adding metadata\",\"link\":\"/tutorials/fa2-fungible/adding-metadata\"},{\"text\":\"Part 4: Customizing operations\",\"link\":\"/tutorials/fa2-fungible/customizing-operations\"},{\"text\":\"Part 5: Deploying the contract\",\"link\":\"/tutorials/fa2-fungible/deploying-contract\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://gitlab.com/smartpy.io/smartpy\"},{\"icon\":\"discourse\",\"link\":\"https://forum.smartpy.io/\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/tezos\"},{\"icon\":\"x\",\"link\":\"https://x.com/smartpy_io\"},{\"icon\":\"telegram\",\"link\":\"http://t.me/smartpy_io\"}],\"footer\":{\"copyright\":\"Copyright 2025 - present Trilitech Limited, 2022-2024 Morum LLC<br/>Copyright 2019-2022 Smart Chain Arena LLC\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>