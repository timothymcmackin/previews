/* empty css                                                                           */import{D as e}from"./chunks/DocInPlace.iGRf1Du6.js";import{c as l,o,aj as r,G as i,j as s,w as n,a as t}from"./chunks/framework.BHElM6wE.js";/* empty css                                                                          */const m=JSON.parse('{"title":"Exceptions","description":"","frontmatter":{},"headers":[],"relativePath":"manual/syntax/exceptions.md","filePath":"manual/syntax/exceptions.md"}'),c={name:"manual/syntax/exceptions.md"},E=Object.assign(c,{setup(h){return(p,a)=>(o(),l("div",null,[a[2]||(a[2]=r('<h1 id="exceptions" tabindex="-1">Exceptions <a class="header-anchor" href="#exceptions" aria-label="Permalink to &quot;Exceptions&quot;">​</a></h1><p>On Tezos, exceptions cannot be caught; there is no way to intercept exceptions and trigger alternate behavior. If an exception occurs, <strong>the entire transaction is backtracked</strong>. In this case, all of the operations are canceled and any completed operations are reverted, as if the initial call to the contract never happened.</p><p>For this reason, code in SmartPy modules cannot use the standard Python <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try/except</span></span></code></span> block.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>A transaction starts with a call from a user account (sometimes known as an <em>implicit account</em>) and includes all subsequent operations, such as transfers, contract calls, and contract originations that the initial call triggered.</p><p>For example, if a user account calls contract A, contract A calls contract B, contract B calls contract C, and contract C raises an exception, all calls are reverted, including the original call to contract A. The storage states of all of these contracts and the balances of all related accounts are set back to their state before the original call, as if that call never happened.</p></div>',4)),i(e,{name:"raise",symbol:"raise",right:"x: t"},{default:n(()=>a[0]||(a[0]=[s("p",null,[t("Aborts the current transaction and raises an error "),s("span",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"x")])])]),t(" of type "),s("span",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"t")])])]),t(".")],-1),s("div",{class:"language-smartpy vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"smartpy"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"raise"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "NotAdmin"')]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"raise"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"TOKEN_UNDEFINED"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])])],-1)])),_:1,__:[0]}),i(e,{name:"assert",symbol:"assert",right:"x: bool, exception: t"},{default:n(()=>a[1]||(a[1]=[s("p",null,[t("Checks that "),s("span",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"x")])])]),t(" evaluates to "),s("span",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"True")])])]),t(" and raises an exception if it doesn’t.")],-1),s("div",{class:"language-smartpy vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"smartpy"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"assert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," sp.sender "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," self"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".data.administrator, "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"NotAdmin"')])])])],-1)])),_:1,__:[1]}),a[3]||(a[3]=s("h2",{id:"exception-flags",tabindex:"-1"},[t("Exception flags "),s("a",{class:"header-anchor",href:"#exception-flags","aria-label":'Permalink to "Exception flags"'},"​")],-1)),a[4]||(a[4]=s("p",null,[t("You can control the text of error messages with scenario flags to provide more information while debugging or less information to save fees. See "),s("a",{href:"./../scenarios/test_scenarios"},"Test scenarios"),t(" for more information.")],-1))]))}});export{m as __pageData,E as default};
