import{_ as e,c as s,o as i,aj as a}from"./chunks/framework.BHElM6wE.js";const n="/previews/smartpy/casting-scenarios/img/tutorials/fa2-fungible-mint-bcd.png",o="/previews/smartpy/casting-scenarios/img/tutorials/fa2-fungible-temple-assets-list.png",h="/previews/smartpy/casting-scenarios/img/tutorials/fa2-fungible-temple-manage-assets.png",l="/previews/smartpy/casting-scenarios/img/tutorials/fa2-fungible-temple-add-asset.png",p="/previews/smartpy/casting-scenarios/img/tutorials/fa2-fungible-temple-adding-token.png",r="/previews/smartpy/casting-scenarios/img/tutorials/fa2-fungible-in-temple.png",y=JSON.parse('{"title":"Part 5: Deploying the contract","description":"","frontmatter":{},"headers":[],"relativePath":"tutorials/fa2-fungible/deploying-contract.md","filePath":"tutorials/fa2-fungible/deploying-contract.md"}'),c={name:"tutorials/fa2-fungible/deploying-contract.md"};function d(k,t,g,u,m,f){return i(),s("div",null,t[0]||(t[0]=[a(`<h1 id="part-5-deploying-the-contract" tabindex="-1">Part 5: Deploying the contract <a class="header-anchor" href="#part-5-deploying-the-contract" aria-label="Permalink to &quot;Part 5: Deploying the contract&quot;">​</a></h1><p>So far you have used the token in the SmartPy test scenario and in the Octez client local sandbox. To test it on a live network, you can use the Ghostnet test network.</p><p>For more information about testnets, see <a href="https://docs.tezos.com/developing/testnets" target="_blank" rel="noreferrer">Testing on testnets</a> on docs.tezos.com.</p><h2 id="configuring-the-octez-client-for-ghostnet" tabindex="-1">Configuring the Octez client for Ghostnet <a class="header-anchor" href="#configuring-the-octez-client-for-ghostnet" aria-label="Permalink to &quot;Configuring the Octez client for Ghostnet&quot;">​</a></h2><p>Follow these steps to set up your installation of the Octez client to work with Ghostnet:</p><ol><li><p>Go to <a href="https://teztnets.com/ghostnet-about" target="_blank" rel="noreferrer">https://teztnets.com/ghostnet-about</a> and copy the URL of a public RPC node for Ghostnet, such as <a href="https://rpc.ghostnet.teztnets.com" target="_blank" rel="noreferrer">https://rpc.ghostnet.teztnets.com</a>.</p></li><li><p>Use that URL to configure the Octez client in this command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">octez-client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://rpc.ghostnet.teztnets.com</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div></li><li><p>If you don&#39;t have an account on Ghostnet, create or import one with the instructions in <a href="https://docs.tezos.com/developing/octez-client/accounts" target="_blank" rel="noreferrer">Creating accounts</a> on docs.tezos.com.</p></li><li><p>Use the <a href="https://faucet.ghostnet.teztnets.com/" target="_blank" rel="noreferrer">Ghostnet faucet</a> to get some tez for the account.</p></li></ol><h2 id="setting-the-admin-account-in-the-contract" tabindex="-1">Setting the admin account in the contract <a class="header-anchor" href="#setting-the-admin-account-in-the-contract" aria-label="Permalink to &quot;Setting the admin account in the contract&quot;">​</a></h2><p>Currently, the admin account in the contract is an automatically-generated account. Follow these steps to use your account as the admin account instead:</p><ol><li><p>Compile the contract with the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">python</span></span></code></span> command as you did in previous steps.</p></li><li><p>Get the address of your account by running this command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">octez-client</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> known</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addresses</span></span></code></pre></div></li><li><p>Update the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">step_003_cont_0_storage.tz</span></span></code></span> file and replace the first address listed with your account. This is the field that stores the admin account in the contract storage.</p></li><li><p>Deploy the contract to Ghostnet by passing your account alias, the compiled contract, and initial storage value to the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">originate contract</span></span></code></span> command. For example, if your account is named <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">my_account</span></span></code></span> and the compiled files are in the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fa2_lib_fungible</span></span></code></span> folder, the command looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">octez-client</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> originate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> contract</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smartpy_fa2_fungible</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    transferring</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_account</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    running</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fa2_lib_fungible/step_003_cont_0_contract.tz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --init</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fa2_lib_fungible/step_003_cont_0_storage.tz)&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --burn-cap</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span></span></code></pre></div></li><li><p>Copy the address of the contract from the output of the command. The contract address starts with <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">KT1</span></span></code></span>.</p></li><li><p>Look up the contract on the block explorer <a href="https://better-call.dev/" target="_blank" rel="noreferrer">Better Call Dev</a></p><p>Note that the block explorer recognizes that the contract is FA2-compliant and shows an FA2 icon at the top of the page. The block explorer also shows information about the tokens on the Tokens tab.</p></li><li><p>Mint some tokens and send them to your account from the Interact tab. For example, to mint tokens of an existing token type, click <strong>Add</strong>, select <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">existing</span></span></code></span> for the transaction, and specify your address and the number of tokens to create, as in this picture:</p><p><img src="`+n+'" alt="Specifying parameters for the mint transaction" width="300px"></p></li></ol><h2 id="interact-with-the-token-in-a-wallet" tabindex="-1">Interact with the token in a wallet <a class="header-anchor" href="#interact-with-the-token-in-a-wallet" aria-label="Permalink to &quot;Interact with the token in a wallet&quot;">​</a></h2><p>Because the token is FA2-compliant, wallet applications can work with it directly. However, you must add the token contract to your wallet for it to recognize the token.</p><p>The process for adding a token contract to a wallet depends on the wallet application. Here are steps for the Temple wallet:</p><ol><li><p>Copy the address of the contract. You can use the command <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">octez</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">client </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> known contracts</span></span></code></span> to print the addresses of contracts that the Octez client knows about.</p></li><li><p>Open the Temple wallet and sign in.</p></li><li><p>Under the list of tokens, click <strong>Manage assets list</strong>:</p><p><img src="'+o+'" alt="The new token in the Temple wallet" width="300px"></p></li><li><p>From the popup window, click <strong>Manage</strong>:</p><p><img src="'+h+'" alt="The Manage button in the popup window" width="300px"></p></li><li><p>Click <strong>Add Asset</strong>:</p><p><img src="'+l+'" alt="Adding an asset to the tokens list" width="300px"></p></li><li><p>In the window that opens add information about the token, including the contract address, the token ID (such as 0 or 1), and the the symbol for the token, such as <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TOK0</span></span></code></span>:</p><p><img src="'+p+'" alt="Adding information about the token" width="300px"></p></li><li><p>Click <strong>Add Asset</strong>.</p></li></ol><p>Now the token appears in your wallet just like any other token:</p><p><img src="'+r+'" alt="Opening the asset list filter" width="300px"></p><p>From here, you can run transactions on the token, such as sending it to a different account.</p><h2 id="next-steps" tabindex="-1">Next steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next steps&quot;">​</a></h2><p>Now that you have an FA2-compliant token, you can use it with all kinds of Tezos dApps. If you want to continue working with the token, here are some ideas:</p><ul><li>Implement an exchange rate for the <span class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">convert</span></span></code></span> entrypoint</li><li>Implement other custom behaviors for your token while keeping it FA2-compliant</li><li>Build a front-end application to make it easier to interact with it</li><li>Add other token types and metadata for them</li><li>Try creating a single asset contract or an NFT contract with the SmartPy FA2 library</li></ul><p>You can also explore other tutorials at <a href="https://docs.tezos.com/tutorials" target="_blank" rel="noreferrer">https://docs.tezos.com/tutorials</a>.</p>',20)]))}const F=e(c,[["render",d]]);export{y as __pageData,F as default};
