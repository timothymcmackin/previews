import"./chunks/DocFunction.vue_vue_type_style_index_0_scoped_21214205_lang.4ed993c7.js";import{D as s}from"./chunks/DocInPlace.04c2ab1e.js";import{o,c as i,v as e,a,C as n,y as l}from"./chunks/framework.741828c6.js";import"./chunks/DocInPlace.vue_vue_type_style_index_0_scoped_8490fbaf_lang.4ed993c7.js";const f=JSON.parse('{"title":"Exceptions","description":"","frontmatter":{},"headers":[],"relativePath":"manual/syntax/exceptions.md","filePath":"manual/syntax/exceptions.md"}'),r={name:"manual/syntax/exceptions.md"},g=Object.assign(r,{setup(c){return(p,t)=>(o(),i("div",null,[t[2]||(t[2]=e("h1",{id:"exceptions",tabindex:"-1"},[a("Exceptions "),e("a",{class:"header-anchor",href:"#exceptions","aria-label":'Permalink to "Exceptions"'},"​")],-1)),t[3]||(t[3]=e("p",null,[a("On Tezos, exceptions cannot be caught; there is no way to intercept exceptions and trigger alternate behavior. If an exception occurs, "),e("strong",null,"the entire transaction is backtracked"),a(". In this case, all of the operations are canceled and any completed operations are reverted, as if the initial call to the contract never happened.")],-1)),t[4]||(t[4]=e("div",{class:"info custom-block"},[e("p",{class:"custom-block-title"},"INFO"),e("p",null,[a("A transaction starts with a call from a user account (sometimes known as an "),e("em",null,"implicit account"),a(") and includes all subsequent operations, such as transfers, contract calls, and contract originations that the initial call triggered.")]),e("p",null,"For example, if a user account calls contract A, contract A calls contract B, contract B calls contract C, and contract C raises an exception, all calls are reverted, including the original call to contract A. The storage states of all of these contracts and the balances of all related accounts are set back to their state before the original call, as if that call never happened.")],-1)),n(s,{name:"raise",symbol:"raise",right:"x: t"},{default:l(()=>t[0]||(t[0]=[e("p",null,[a("Aborts the current transaction and raises an error "),e("span",{class:"inline shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#BABED8"}},"x")])])]),a(" of type "),e("span",{class:"inline shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#BABED8"}},"t")])])]),a(".")],-1),e("div",{class:"language-smartpy"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"smartpy"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#babed8"}},'raise "NotAdmin"')]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#babed8"}},'raise ("TOKEN_UNDEFINED", 404)')])])])],-1)])),_:1}),n(s,{name:"assert",symbol:"assert",right:"x: bool, exception: t"},{default:l(()=>t[1]||(t[1]=[e("p",null,[a("Checks that "),e("span",{class:"inline shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#BABED8"}},"x")])])]),a(" evaluates to "),e("span",{class:"inline shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"True")])])]),a(" and raises an exception if it doesn’t.")],-1),e("div",{class:"language-smartpy"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"smartpy"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#babed8"}},'assert sp.sender == self.data.administrator, "NotAdmin"')])])])],-1)])),_:1}),t[5]||(t[5]=e("h2",{id:"exception-flags",tabindex:"-1"},[a("Exception flags "),e("a",{class:"header-anchor",href:"#exception-flags","aria-label":'Permalink to "Exception flags"'},"​")],-1)),t[6]||(t[6]=e("p",null,[a("You can control the text of error messages with scenario flags to provide more information while debugging or less information to save fees. See "),e("a",{href:"./../scenarios/test_scenarios"},"Test scenarios"),a(" for more information.")],-1))]))}});export{f as __pageData,g as default};
