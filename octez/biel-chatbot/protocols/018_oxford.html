
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Protocol Oxford &#8212; Octez &amp; Protocol products documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=e44384e2" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=70b85459"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-KT3Z3X4Y82"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-KT3Z3X4Y82');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-KT3Z3X4Y82');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'protocols/018_oxford';</script>
    <script src="../_static/js/custom.js?v=e7f469e6"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Protocol Nairobi" href="017_nairobi.html" />
    <link rel="prev" title="Protocol Paris" href="020_paris.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="Octez & Protocol products documentation - Home"/>
    <script>document.write(`<img src="../_static/logo.svg" class="logo__image only-dark" alt="Octez & Protocol products documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introduction/tezos.html">Octez &amp; Protocol overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../introduction/howtoget.html">Installing Octez</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/cosign-verify.html">Verifying Octez Docker Images with Cosign</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/get_troubleshooting.html">Installation troubleshooting</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/howtouse.html">Getting started with Octez</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/howtorun.html">Running Octez</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/services.html">Setting up Octez Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/serokell.html">Migrating from Serokell’s to Nomadic Labs’ packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/versioning.html">Octez &amp; Protocol versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/breaking_changes.html">BREAKING CHANGES</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Octez User manual</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../user/setup-client.html">Setting up the client</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/client-configuration.html">Client Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/key-management.html">Key Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/sandbox.html">Sandboxed mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/mockup.html">Mockup mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/proxy.html">Proxy mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/light.html">Light mode</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user/setup-node.html">Setting up the node</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/node-configuration.html">Node Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/multinetwork.html">Connecting to a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/history_modes.html">History modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/snapshots.html">Snapshots</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/node-monitoring.html">Monitoring an Octez Node</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/openmetrics.html">Supported Open Metrics</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../user/teztale.html">Monitoring the consensus protocol</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../user/multisig.html">Built-in multisig contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/fa12.html">FA1.2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/logging.html">Logging features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/exits.html">Exit codes and signals</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Octez Reference manual</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../shell/the_big_picture.html">Octez Software Architecture</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../shell/shell.html">The Octez Shell</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../shell/validation.html">The validation subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/prevalidation.html">The Prevalidator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/storage.html">The storage layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/sync.html">Synchronisation heuristic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/p2p.html">The peer-to-peer layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/protocol_environment.html">Protocol Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/micheline.html">Micheline</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../shell/dal.html">Data Availability Layer</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_overview.html">DAL overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_node.html">The DAL node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_run.html">Running a DAL attester node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_bakers.html">Bakers &amp; the DAL</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../shell/smart_rollup_node.html">Smart rollup node</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/rollup_metrics.html">Supported Open Metrics</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/p2p_api.html">P2P message format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/cli-commands.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/rpc.html">Shell RPCs - Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Protocol Reference Manuals</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../active/index.html">Quebec Protocol Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../active/protocol.html">Economic protocol features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../active/protocol_overview.html">Overview of the economic protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/proof_of_stake.html">Proof-of-stake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/randomness_generation.html">Randomness generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/baking_power.html">Baking Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/consensus.html">The consensus algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/voting.html">The Amendment (and Voting) Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/accounts.html">Accounts and addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/michelson.html">Michelson: the language of Smart Contracts in Tezos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/views.html">On-chain Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/timelock.html">Time-lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/sapling.html">Sapling support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/liquidity_baking.html">Liquidity Baking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/global_constants.html">Global Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/michelson_anti_patterns.html">Michelson Anti-Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/token_management.html">Token transfers and balance updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/precheck.html">Prechecking of manager operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/smart_rollups.html">Smart Optimistic Rollups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/plugins.html">Protocol Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/event.html">Contract events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/blocks_ops.html">Blocks and Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/validation.html">Validation and Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/tickets.html">Tickets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/adaptive_issuance.html">Adaptive Issuance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/staking.html">Staking mechanism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/adaptive_slashing.html">Adaptive Slashing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/dal_support.html">DAL support</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../active/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../active/cli-commands.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../active/rpc.html">Quebec RPCs - Reference</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../alpha/index.html">Alpha Dev Protocol Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../alpha/protocol.html">Economic protocol features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../alpha/protocol_overview.html">Overview of the economic protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/proof_of_stake.html">Proof-of-stake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/randomness_generation.html">Randomness generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/baking_power.html">Baking Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/consensus.html">The consensus algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/voting.html">The Amendment (and Voting) Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/accounts.html">Accounts and addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/michelson.html">Michelson: the language of Smart Contracts in Tezos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/views.html">On-chain Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/timelock.html">Time-lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/sapling.html">Sapling support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/liquidity_baking.html">Liquidity Baking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/global_constants.html">Global Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/michelson_anti_patterns.html">Michelson Anti-Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/token_management.html">Token transfers and balance updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/mempool.html">Mempool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/smart_rollups.html">Smart Optimistic Rollups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/plugins.html">Protocol Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/event.html">Contract events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/blocks_ops.html">Blocks and Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/validation.html">Validation and Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/tickets.html">Tickets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/adaptive_issuance.html">Adaptive Issuance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/staking.html">Staking mechanism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/adaptive_slashing.html">Adaptive Slashing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/dal_support.html">DAL support</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../alpha/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alpha/cli-commands.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alpha/rpc.html">Alpha RPCs - Reference</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tezos developer Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../developer/rpc.html">JSON/RPC interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/errors.html">RPC Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/openapi.html">RPCs - OpenAPI reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Changes in Octez releases</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../releases/releases.html">Release System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/version-21.html">Version 21.2</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../releases/history.html">Older Versions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-20.html">Version 20.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-19.html">Version 19.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-18.html">Version 18.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-17.html">Version 17.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-16.html">Version 16.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-15.html">Version 15.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-14.html">Version 14.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-13.html">Version 13.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-12.html">Version 12.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-11.html">Version 11.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-10.html">Version 10.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-9.html">Version 9.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-8.html">Version 8.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-7.html">Version 7.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/january-2020.html">Mainnet January 2020</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/december-2019.html">Mainnet December 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/october-2019.html">Mainnet-Staging October 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/september-2019.html">Mainnet September 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/may-2019.html">Mainnet May 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/april-2019.html">Mainnet April 2019</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Changes in protocol versions</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="naming.html">Protocol versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="021_quebec.html">Protocol Quebec</a></li>
<li class="toctree-l1"><a class="reference internal" href="alpha.html">Protocol Alpha</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="history.html">Older Protocols</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="020_paris.html">Protocol Paris</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Protocol Oxford</a></li>
<li class="toctree-l2"><a class="reference internal" href="017_nairobi.html">Protocol Nairobi</a></li>
<li class="toctree-l2"><a class="reference internal" href="016_mumbai.html">Protocol Mumbai</a></li>
<li class="toctree-l2"><a class="reference internal" href="015_lima.html">Protocol Lima</a></li>
<li class="toctree-l2"><a class="reference internal" href="014_kathmandu.html">Protocol Kathmandu</a></li>
<li class="toctree-l2"><a class="reference internal" href="013_jakarta.html">Protocol Jakarta</a></li>
<li class="toctree-l2"><a class="reference internal" href="012_ithaca.html">Protocol Ithaca</a></li>
<li class="toctree-l2"><a class="reference internal" href="011_hangzhou.html">Protocol Hangzhou</a></li>
<li class="toctree-l2"><a class="reference internal" href="010_granada.html">Protocol Granada</a></li>
<li class="toctree-l2"><a class="reference internal" href="009_florence.html">Protocol Florence</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_edo.html">Protocol Edo</a></li>
<li class="toctree-l2"><a class="reference internal" href="007_delphi.html">Protocol Delphi</a></li>
<li class="toctree-l2"><a class="reference internal" href="006_carthage.html">Protocol Carthage</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_babylon.html">Protocol Babylon</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_Pt24m4xi.html">Protocol Athens</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_PsddFKi3.html">Protocol 003_PsddFKi3</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/contributing_index.html">How to contribute</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/contributing.html">How to contribute to Octez</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/contributing-adding-a-new-opam-dependency.html">How to add or update opam dependencies</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merge_team.html">Octez Merge Team</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/guidelines.html">Documentation and coding guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/repository_scope.html">Scope of the Octez repository</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/programming.html">Programming tutorials</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/gadt.html">Generalized Algebraic Data Types (GADTs)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/error_monad.html">The Error Monad</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p1_result.html">Part 1: <code class="docutils literal notranslate"><span class="pre">result</span></code>, Lwt, and Lwt-<code class="docutils literal notranslate"><span class="pre">result</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p2_tzresult.html">Part 2: <code class="docutils literal notranslate"><span class="pre">tzresult</span></code> and Lwt-<code class="docutils literal notranslate"><span class="pre">tzresult</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p3_advanced.html">Part 3: Advanced topics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p4_appendices.html">Part 4: Appendices</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/clic.html">The <code class="docutils literal notranslate"><span class="pre">clic</span></code> library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/data_encoding.html">The <code class="docutils literal notranslate"><span class="pre">data_encoding</span></code> library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/event_logging_framework.html">Using The Event Logging Framework</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/octez_architecture.html">Octez Architecture Details</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/baker.html">Baker application’s architecture</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/testing_index.html">Testing in Octez</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/testing.html">Overview of Testing in Octez</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/ppx_expect.html">Ppx_expect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/tezt.html">Tezt: OCaml Tezos Test Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/long-tezts.html">Tezt: Long Tests and Performance Regression Test Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/alcotezt.html">Alcotezt: An Alcotest Compatibility Wrapper for Tezt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/unit_testing_legacy_code.html">Making legacy code unit-testable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/proposal_testing.html">How to Test a Protocol Proposal</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/maintaining.html">Maintaining</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/entering_alpha.html">How to start reading protocol Alpha</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/michelson_instructions.html">Adding a new instruction to Michelson language</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/protocol_playbook.html">Protocol Proposals</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/protocol_release_checklist.html">Protocol Release Checklist</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/howto-freeze-protocols.html">How to Freeze Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/protocol_environment_upgrade.html">Adding a new protocol environment</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Documenting</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/tools.html">Platform Development tools</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/profiling.html">Profiling the Octez node</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/profiler_heap.html">Memory profiling the OCaml heap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/profiler_valgrind.html">Memory profiling the C heap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/profiler_perf.html">Performance profiling</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../developer/profiler_module.html">The Profiler module</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/ppx_profiler.html">Profiler PPX</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/snoop.html">Benchmarking with Snoop</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_arch.html">Architecture of <code class="docutils literal notranslate"><span class="pre">octez-snoop</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_tutorial.html">Snoop usage tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_example.html">In-depth usage example: more control over your benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/tezos_micheline_rewriting.html">Rewriting Micheline with <code class="docutils literal notranslate"><span class="pre">tezos-micheline-rewriting</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_interpreter.html">Snoop and the Michelson Interpreter</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/time_measurement_ppx.html">Time measurement PPX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/python_environment.html">Python Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/pre_commit_hook.html">Pre-Commit Hook</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/encodings.html">Encodings</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/merkle-proof-encoding-formats.html">Merkle Proof Encoding Formats</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v1-tree32.html">V1 for Tree32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v1-tree2.html">V1 for Tree2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v2-tree32.html">V2 for Tree32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v2-tree2.html">V2 for Tree2</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api-inline.html">OCaml APIs - Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Grafazos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../grafazos-doc/index.html">Grafazos: Grafana dashboards for Octez node monitoring.</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-gitlab"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://gitlab.com/tezos/tezos" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-gitlab"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://gitlab.com/tezos/tezos/-/issues/new?issue[title]=Issue%20on%20page%20%2Fprotocols/018_oxford.html&issue[description]=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Protocol Oxford</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-version">Environment Version</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#smart-rollups">Smart Rollups</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptive-issuance-experimental">Adaptive Issuance (experimental)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rpc-changes">RPC Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#operation-receipts">Operation receipts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-parameters">Protocol parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug Fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-changes">Minor Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internal">Internal</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="protocol-oxford">
<h1>Protocol Oxford<a class="headerlink" href="#protocol-oxford" title="Link to this heading">#</a></h1>
<p>This page documents the changes brought by protocol Oxford with respect
to Nairobi (see <a class="reference internal" href="naming.html#naming-convention"><span class="std std-ref">Protocol naming</span></a>).</p>
<p>The code can be found in directory <a class="reference external" href="https://gitlab.com/tezos/tezos/-/tree/master/src/proto_018_Proxford">src/proto_018_Proxford</a> of the <code class="docutils literal notranslate"><span class="pre">master</span></code>
branch of Octez.</p>
<section id="environment-version">
<h2>Environment Version<a class="headerlink" href="#environment-version" title="Link to this heading">#</a></h2>
<p>This protocol requires a different protocol environment version than Nairobi.
It requires protocol environment V11, compared to V9 for Nairobi.</p>
<ul class="simple">
<li><p>Simplify the timelock <code class="docutils literal notranslate"><span class="pre">opening_result</span></code> type in the environment as we do not deal with <code class="docutils literal notranslate"><span class="pre">Bogus_cipher</span></code> any longer. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8404">!8404</a>)</p></li>
<li><p>Expose encoding with legacy attestation name. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8620">!8620</a>)</p></li>
</ul>
</section>
<section id="smart-rollups">
<h2>Smart Rollups<a class="headerlink" href="#smart-rollups" title="Link to this heading">#</a></h2>
<ul>
<li><p>Add the support for bootstrapped smart rollups in storage initialization,
similarly to bootstrapped accounts and smart contracts. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8552">!8552</a>)</p></li>
<li><p>Remove the origination proof from the smart rollups’ origination operation.
(MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8817">!8817</a>)</p></li>
<li><p>The field <code class="docutils literal notranslate"><span class="pre">commitment</span></code> in the operation <code class="docutils literal notranslate"><span class="pre">Sc_rollup_cement</span></code> is now removed.
It was no longer used and was deprecated in Nairobi. This also mean that the
commitment does not need to be provided in the client command. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8850">!8850</a>)</p>
<dl class="simple">
<dt>Before::</dt><dd><p>./octez-client cement commitment &lt;commitment hash&gt; from &lt;src&gt; for smart rollup &lt;smart rollup address&gt;</p>
</dd>
<dt>Now::</dt><dd><p>./octez-client cement commitment from &lt;src&gt; for smart rollup &lt;smart rollup address&gt;</p>
</dd>
</dl>
</li>
<li><p>Enable the latest version of the WASM PVM (<code class="docutils literal notranslate"><span class="pre">2.0.0-r2</span></code>). Existing smart
rollups will see their PVM automatically upgrade, and newly originated smart
rollups will use this version directly (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9051">!9051</a>)</p></li>
<li><p>Add one new host function to the WASM PVM: <code class="docutils literal notranslate"><span class="pre">store_exists</span></code> (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9204">!9204</a>).</p></li>
<li><p>Remove dead refutation games at migration time. A game is dead if both players
are no longer staking. (MMR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8975">!8975</a>)</p></li>
<li><p>Reduce cost for internal transaction to smart rollup (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9284">!9284</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">smart_rollup_originate</span></code> operation now also takes an optional
whitelist of public key hashes. This whitelist cannot be used yet
(the <code class="docutils literal notranslate"><span class="pre">sc_rollup.private_enable</span></code> flag has to be set to true). (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9401">!9401</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">transferring</span></code> parameter from smart rollup client command
<code class="docutils literal notranslate"><span class="pre">get</span> <span class="pre">proof</span> <span class="pre">for</span> <span class="pre">message</span> <span class="pre">&lt;index&gt;</span> <span class="pre">of</span> <span class="pre">outbox</span> <span class="pre">at</span> <span class="pre">level</span> <span class="pre">&lt;level&gt;</span></code> is now optional. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9461">!9461</a>)</p></li>
<li><p>Enable the latest version of the WASM PVM (<code class="docutils literal notranslate"><span class="pre">2.0.0-r3</span></code>). Existing smart
rollups will see their PVM automatically upgrade, and newly originated smart
rollups will use this version directly (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9735">!9735</a>)</p></li>
<li><p>Added the updated whitelist for private rollups in the receipt of
the outbox message execution receipt. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10095">!10095</a>)</p></li>
<li><p>Add private rollups: smart rollup with an updatable whitelist stakers. Only stakers on the whitelist can publish commitment and participate in a refutation game. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9823">!9823</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10104">!10104</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9823">!9823</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9572">!9572</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9427">!9427</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9472">!9472</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9439">!9439</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9401">!9401</a>)</p></li>
</ul>
</section>
<section id="adaptive-issuance-experimental">
<h2>Adaptive Issuance (experimental)<a class="headerlink" href="#adaptive-issuance-experimental" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>This protocol expands the voting system for bakers to include
Adaptive Issuance alongside Liquidity Baking. This vote is ignored
on Mainnet (as explained below), but active on testnets for
testing purposes. Bakers may use the per-block votes
file, or CLI option <code class="docutils literal notranslate"><span class="pre">--adaptive-issuance-vote</span></code>. If they do
not vote for the Adaptive Issuance feature, the vote defaults to
“pass” (unlike the case of Liquidity Baking, whose vote remains mandatory).</p></li>
<li><p>Adaptive Issuance is locked behind a feature flag and cannot be activated for
this proposal. The voting mechanism for Adaptive Issuance remains accessible,
but is ignored and can never activate the feature. Moreover, the vote EMA will
be reset before reactivating the feature flag. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10371">!10371</a>)</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">stake</span></code> and <code class="docutils literal notranslate"><span class="pre">unstake</span></code> operations are currently deactivated on Mainnet, calls to
these operations will fail. Staking and unstaking transfers are still used
internally, and may appear in balance receipts. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10849">!10849</a>)</p></li>
<li><p>The new staking mechanism is used internally to freeze deposits automatically
at cycle ends, and mimic Nairobi’s behavior. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10562">!10562</a>)</p></li>
<li><p>Most rewards (baking rewards, baking bonuses, attestation rewards, revelation
rewards) are partially paid on the frozen deposits balance in addition to the spendable
balance. Manager operations fees and denunciation rewards are still paid on
the spendable balance. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8091">!8091</a>)</p></li>
<li><p>Denunciation rewards computation updated to depend on <code class="docutils literal notranslate"><span class="pre">limit_of_staking_over_baking</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8939">!8939</a>)</p></li>
</ul>
<p>When the feature flag is enabled (testnets only), the following extra changes happen:</p>
<ul class="simple">
<li><p>Add parameter <code class="docutils literal notranslate"><span class="pre">limit_of_staking_over_baking</span></code> as the limit of the ratio of tez staked by other delegators over the baker’s own, for a given baker. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8744">!8744</a>)</p></li>
<li><p>Multiplicative coefficient (with a dynamic part) applied to reward values. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8860">!8860</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8861">!8861</a>)</p></li>
<li><p>EMA and launch cycle. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8967">!8967</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9002">!9002</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9025">!9025</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9058">!9058</a>)</p></li>
<li><p>Staking and deposits. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8940">!8940</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8957">!8957</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8958">!8958</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8965">!8965</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8966">!8966</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8973">!8973</a>,
<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9000">!9000</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9014">!9014</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9018">!9018</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9022">!9022</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9023">!9023</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9031">!9031</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9033">!9033</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9039">!9039</a>,
<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9040">!9040</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9052">!9052</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9054">!9054</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9055">!9055</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9069">!9069</a>)</p></li>
<li><p>New RPCs introduced: total supply, total frozen stake, launch cycle.
(MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8982">!8982</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8995">!8995</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8997">!8997</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9057">!9057</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">unstake</span></code> client command uses the <code class="docutils literal notranslate"><span class="pre">amount</span></code> field instead of an extra parameter. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10377">!10377</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10429">!10429</a>)</p></li>
<li><p>Balance updates now include more information related to staking in general,
including slashing and rewards. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10485">!10485</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10486">!10486</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10487">!10487</a>,
<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10488">!10488</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10496">!10496</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10526">!10526</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10766">!10766</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10853">!10853</a>)</p></li>
<li><p>Unstaked frozen deposits, i.e recently unstaked funds, can be used by bakers
to be staked again (unless the baker has been slashed). They are used in
addition to liquid funds for staking, prioritizing the most recent unstake
requests. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10781">!10781</a>)</p></li>
</ul>
</section>
<section id="breaking-changes">
<h2>Breaking Changes<a class="headerlink" href="#breaking-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Protocol parameter <code class="docutils literal notranslate"><span class="pre">ratio_of_frozen_deposits_slashed_per_double_endorsement</span></code>
is converted from the ratio <code class="docutils literal notranslate"><span class="pre">1/2</span></code> into the percentage <code class="docutils literal notranslate"><span class="pre">50%</span></code> and renamed to
<code class="docutils literal notranslate"><span class="pre">percentage_of_frozen_deposits_slashed_per_double_attestation</span></code>. (MRs
<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8753">!8753</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9440">!9440</a>)</p></li>
<li><p>Protocol parameter <code class="docutils literal notranslate"><span class="pre">double_baking_punishment</span></code> is converted from a fixed
value of <code class="docutils literal notranslate"><span class="pre">640tz</span></code> into the percentage <code class="docutils literal notranslate"><span class="pre">5%</span></code> and renamed to
<code class="docutils literal notranslate"><span class="pre">percentage_of_frozen_deposits_slashed_per_double_baking</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8753">!8753</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10431">!10431</a>)</p></li>
<li><p>Since protocol Ithaca, the ratio of delegated tez over the delegate’s frozen deposit
must be at most 9. Until now, this was ensured by a protocol parameter named
<code class="docutils literal notranslate"><span class="pre">frozen_deposits_percentage</span></code> (whose value is 10%) representing the minimal percentage
of frozen deposit. We convert it from a percentage to a factor named
<code class="docutils literal notranslate"><span class="pre">limit_of_delegation_over_baking</span></code> whose value is 9. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8884">!8884</a>)</p></li>
<li><p>Receipts involving the <code class="docutils literal notranslate"><span class="pre">Deposits</span></code> kind of balance are updated in a
non-backward-compatible manner. It allows non-delegates, and
distinguishes updates to a delegate’s balance from sharing of rewards
and punishments. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9498">!9498</a>)</p></li>
<li><p>Field <code class="docutils literal notranslate"><span class="pre">for_double_endorsing</span></code> from context storage has been renamed into
<code class="docutils literal notranslate"><span class="pre">for_double_attesting</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9486">!9486</a>)</p></li>
<li><p>Field <code class="docutils literal notranslate"><span class="pre">endorsing_reward_per_slot</span></code> from rewards storage has been renamed into
<code class="docutils literal notranslate"><span class="pre">attesting_reward_per_slot</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9486">!9486</a>)</p></li>
<li><p>Field <code class="docutils literal notranslate"><span class="pre">missed_endorsements</span></code> from contract storage has been renamed into
<code class="docutils literal notranslate"><span class="pre">missed_attestations</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9486">!9486</a>)</p></li>
<li><p>Fields <code class="docutils literal notranslate"><span class="pre">preendorsements_seen</span></code>, <code class="docutils literal notranslate"><span class="pre">endorsements_seen</span></code> and
<code class="docutils literal notranslate"><span class="pre">double_endorsing_evidences_seen</span></code> from the mempool’s <code class="docutils literal notranslate"><span class="pre">operation_state</span></code>
encoding has been renamed <code class="docutils literal notranslate"><span class="pre">preattestations_seen</span></code>, <code class="docutils literal notranslate"><span class="pre">attestation_seen</span></code> and
<code class="docutils literal notranslate"><span class="pre">double_attesting_evidences_seen</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9440">!9440</a>)</p></li>
<li><p>A DAL attestation operation now contains a new <code class="docutils literal notranslate"><span class="pre">slot</span></code> field, while the
<code class="docutils literal notranslate"><span class="pre">attestor</span></code> field is removed. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10183">!10183</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10294">!10294</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10317">!10317</a>)</p></li>
</ul>
</section>
<section id="rpc-changes">
<h2>RPC Changes<a class="headerlink" href="#rpc-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Split duplicated argument <code class="docutils literal notranslate"><span class="pre">pkh</span></code> in RPC <code class="docutils literal notranslate"><span class="pre">smart_rollups/smart_rollup/&lt;address&gt;/staker1/&lt;pkh&gt;/staker2/&lt;pkh&gt;/timeout</span></code>
and <code class="docutils literal notranslate"><span class="pre">smart_rollups/smart_rollup/&lt;address&gt;/staker1/&lt;pkh&gt;/staker2/&lt;pkh&gt;/timeout_reached</span></code> into <code class="docutils literal notranslate"><span class="pre">/staker1/&lt;staker1_pkh&gt;/staker2/&lt;staker2_pkh&gt;</span></code>.
This changes the RPC description but not its use. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8339">!8339</a>)</p></li>
<li><p>Update context with new reward parameters. This changes the JSON from the RPC
<code class="docutils literal notranslate"><span class="pre">/chains/main/blocks/head/context/constants</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8657">!8657</a>)</p></li>
<li><p>Remove the RPC for computing smart rollups’ origination proofs
<code class="docutils literal notranslate"><span class="pre">smart_rollups/all/origination_proof</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8817">!8817</a>)</p></li>
<li><p>Add the consensus key’s public key to the reponse of the
<code class="docutils literal notranslate"><span class="pre">../context/delegates/&lt;delegate_pkh&gt;/consensus_key</span></code> RPC. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8856">!8856</a>)</p></li>
<li><p>Three new variants of the <code class="docutils literal notranslate"><span class="pre">voting_power</span></code> RPC (which returns the
voting power of a delegate based on the stake it had when voting
snapshot was taken) have been added:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">current_voting_power</span></code> the voting power of a delegate based on
its current stake (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9329">!9329</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_baking_power</span></code> computes the baking power of a delegate
based on its current stake (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9350">!9350</a>)</p></li>
</ul>
</li>
<li><p>Two new variants of the <code class="docutils literal notranslate"><span class="pre">voting_power</span></code> RPC (which returns the
<code class="docutils literal notranslate"><span class="pre">expected_endorsing_rewards</span></code> field from <code class="docutils literal notranslate"><span class="pre">/participation</span></code> RPC has been
renamed in <code class="docutils literal notranslate"><span class="pre">expected_attesting_rewards</span></code>.</p></li>
</ul>
</section>
<section id="operation-receipts">
<h2>Operation receipts<a class="headerlink" href="#operation-receipts" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>To handle the new staking mechanism, the following changes
to receipts have been made:</p>
<ul>
<li><p>the <code class="docutils literal notranslate"><span class="pre">Deposits</span></code> kind of balance, which used to be associated to
the public key hash of a delegate, has been generalized to handle
non-delegate staking and sharing of rewards and punishments; it is
now associated to either a <code class="docutils literal notranslate"><span class="pre">Single</span></code> delegator (represented by a
pair of the delegator address and its delegate public key hash) or
<code class="docutils literal notranslate"><span class="pre">Shared</span></code> between all the delegators of a given delegate in
proportion to their stake (represented by the public key hash of
the delegate). (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9498">!9498</a>)</p></li>
<li><p>a new <code class="docutils literal notranslate"><span class="pre">Unstaked_deposits</span></code> kind of balance has been added to
represent tez for which unstaking has been requested. This kind of
balance is associated with the cycle at which the tez become
liquid and, like in the <code class="docutils literal notranslate"><span class="pre">Deposits</span></code> case, it is either associated
with a <code class="docutils literal notranslate"><span class="pre">Single</span></code> delegator or <code class="docutils literal notranslate"><span class="pre">Shared</span></code> between a delegate and
its delegators. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9498">!9498</a>)</p></li>
</ul>
</li>
</ul>
</section>
<section id="protocol-parameters">
<h2>Protocol parameters<a class="headerlink" href="#protocol-parameters" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>The protocol constant <code class="docutils literal notranslate"><span class="pre">max_slashing_period</span></code> has been moved from parametric
constants to fixed constants. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10451">!10451</a>)</p></li>
</ul>
</section>
<section id="bug-fixes">
<h2>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Fix the JSON field <code class="docutils literal notranslate"><span class="pre">kind</span></code> of the smart rollup preveal
encoding. This constant field was wrongfully set for the
<code class="docutils literal notranslate"><span class="pre">metadata</span></code> and <code class="docutils literal notranslate"><span class="pre">request_dal_page</span></code> case. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9307">!9307</a>)</p></li>
<li><p>Fix reporting of gas in traced execution of Michelson scripts. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/6558">!6558</a>)</p></li>
</ul>
</section>
<section id="minor-changes">
<h2>Minor Changes<a class="headerlink" href="#minor-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Improve the error for implicit account type check. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/7714">!7714</a>)</p></li>
<li><p>Remove infinite source <code class="docutils literal notranslate"><span class="pre">Double_signing_evidence_rewards</span></code> and take reward from the punishment instead. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/7758">!7758</a>)</p></li>
<li><p>Remove zero tickets from a big map of a mainnet contract during migration. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8111">!8111</a>)</p></li>
<li><p>Add a Total supply counter in the storage. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8732">!8732</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8739">!8739</a>)</p></li>
<li><p>Allow to choose the bootstrapped contracts hashes. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9176">!9176</a>)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">endorsement</span></code> into <code class="docutils literal notranslate"><span class="pre">attestation</span></code> in protocol errors (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9192">!9192</a>)</p></li>
<li><p>Arithmetic errors on Michelson <code class="docutils literal notranslate"><span class="pre">mutez</span></code> type have been exported so
they can now be caught outside of the protocol. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9934">!9934</a>)</p></li>
<li><p>Slashing penalties for double-signing are now applied at the end of the cycle where denunciations were included, rather than immediately. The same applies for rewards allocated from denunciations. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10389">!10389</a>)</p></li>
<li><p>The semantics of forbidden delegates has been adjusted: a delegate becomes
forbidden if it has been slashed for more than 51% of its frozen stake over
the last 2 cycles. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10382">!10382</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/10844">!10844</a>)</p></li>
</ul>
</section>
<section id="internal">
<h2>Internal<a class="headerlink" href="#internal" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Fail earlier when a smart rollup commitment is in conflict when cementing.
(MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8128">!8128</a>)</p></li>
<li><p>split smart rollup origination fct for readibility. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8276">!8276</a>)</p></li>
<li><p>Remove the deprecated and unused <code class="docutils literal notranslate"><span class="pre">tx_rollup_l2_address</span></code> Michelson
type. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8546">!8546</a>)</p></li>
<li><p>Add an internal represention case for the <code class="docutils literal notranslate"><span class="pre">UNIT</span></code> Michelson instruction. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8579">!8579</a>)</p></li>
<li><p>Encoding that supports <code class="docutils literal notranslate"><span class="pre">endorsement</span></code> kind in JSON are now suffixed with
<code class="docutils literal notranslate"><span class="pre">_with_legacy_attestation_name</span></code>. Non legacy encoding supports
<code class="docutils literal notranslate"><span class="pre">attestation</span></code> kind. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8563">!8563</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8531">!8531</a>)</p></li>
<li><p>Michelson: remove legacy behaviour related to contract type. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/5800">!5800</a>)</p></li>
<li><p>Michelson: cleanup legacy annotation management. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8208">!8208</a>)</p></li>
<li><p>Michelson: refactor management of metadata in ty smart constructors. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8420">!8420</a>)</p></li>
<li><p>Michelson: remove unused deprecated tx_rollup_l2_address type. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8546">!8546</a>)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">source</span></code> into <code class="docutils literal notranslate"><span class="pre">sender</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/7373">!7373</a>)</p></li>
<li><p>Improve efficiency of solving the baker PoW challenge. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8403">!8403</a>)</p></li>
<li><p>Refactor declarations of <code class="docutils literal notranslate"><span class="pre">make_empty_context</span></code> and <code class="docutils literal notranslate"><span class="pre">make_empty_tree</span></code> for easier use.
(MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8550">!8550</a>)</p></li>
<li><p>Move notions of Smart rollup address and various smart rollup hashes types to
the shell to make them common to all protocols though the environment. (MR
<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8562">!8562</a>, MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8625">!8625</a>)</p></li>
<li><p>Refactoring : stake splitted between a frozen part and a delegated part. (MRs <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8051">!8051</a>, <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8885">!8885</a>)</p></li>
<li><p>Refactoring : rewards computed as a relative portion of the total amount of tez
rewarded per minute (about 85tez/min). (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8657">!8657</a>)</p></li>
<li><p>Introduce the notion of rollups “machine” which can compute the semantics of
a given rollup, but cannot be used to generate or verify proof. (MR
<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8815">!8815</a>)</p></li>
<li><p>Consensus: optimized validation of attestations by maintaining a set
of forbidden delegates instead of checking through an I/O that the
delegate has a sufficient frozen deposit. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8722">!8722</a>)</p></li>
<li><p>Refactor punishing transfers to be closer to each other. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/7759">!7759</a>)</p></li>
<li><p>Remove almost all transaction rollup logic from the protocol. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8466">!8466</a>)</p></li>
<li><p>Fix encoding names for rewards. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8716">!8716</a>)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">pair</span></code> type instead of <code class="docutils literal notranslate"><span class="pre">*`</span></code> for Michelson pairs. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8720">!8720</a>)</p></li>
<li><p>Add new function <code class="docutils literal notranslate"><span class="pre">of_list</span></code> to build a Merkle list. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8853">!8853</a>)</p></li>
<li><p>Improve some aspects in the PlonK code. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8730">!8730</a>)</p></li>
<li><p>Store a history of percentages of slashed deposits. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8828">!8828</a>)</p></li>
<li><p>Renaming the <code class="docutils literal notranslate"><span class="pre">endorsement_power</span></code> and <code class="docutils literal notranslate"><span class="pre">preendorsement_power</span></code> fields from
consensus operation receipt to <code class="docutils literal notranslate"><span class="pre">consensus_power</span></code> in the non legacy encoding.
(MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8531">!8531</a>)</p></li>
<li><p>Improve storage cleaning at the end of a refutation game. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8881">!8881</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version_value</span></code> moved from <code class="docutils literal notranslate"><span class="pre">raw_context.ml</span></code> to <code class="docutils literal notranslate"><span class="pre">constants_repr.ml</span></code>. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8867">!8867</a>)</p></li>
<li><p>Transaction rollup: removed left parameters (<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/8700">!8700</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">balance_update_encoding</span></code> now output <code class="docutils literal notranslate"><span class="pre">attesting</span> <span class="pre">rewards</span></code> and <code class="docutils literal notranslate"><span class="pre">lost</span>
<span class="pre">attesting</span> <span class="pre">rewards</span></code> in JSON.
<code class="docutils literal notranslate"><span class="pre">balance_update_encoding_with_legacy_attestation_name</span></code> has been added and
output legacy <code class="docutils literal notranslate"><span class="pre">endorsing</span> <span class="pre">rewards</span></code> and <code class="docutils literal notranslate"><span class="pre">lost</span> <span class="pre">endorsing</span> <span class="pre">rewards</span></code>. (MR
<a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9251">!9251</a>)</p></li>
<li><p>Register an error’s encoding: <code class="docutils literal notranslate"><span class="pre">WASM_proof_verification_failed</span></code>. It was
previously not registered, making the error message a bit obscure. (MR <a class="reference external" href="https://gitlab.com/tezos/tezos/-/merge_requests/9603">!9603</a>)</p></li>
</ul>
</section>
</section>

            <script type="module" src="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.esm.js"></script>
        
                <script>
                    window.addEventListener('DOMContentLoaded', (event) => {
                        let bielBtn = document.createElement("biel-button");
                        bielBtn.innerHTML = "Ask AI";
                        bielBtn.setAttribute("project", "w30c27l8fg");
                    bielBtn.setAttribute("button-text", "Ask AI");
                    bielBtn.setAttribute("header-title", "Tezos chatbot");
                    bielBtn.setAttribute("button-style", "dark");
                    bielBtn.setAttribute("button-position", "bottom-right");
                    bielBtn.setAttribute("version", "latest");
                        document.body.appendChild(bielBtn);
                    });
                </script>
            

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="020_paris.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Protocol Paris</p>
      </div>
    </a>
    <a class="right-next"
       href="017_nairobi.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Protocol Nairobi</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-version">Environment Version</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#smart-rollups">Smart Rollups</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptive-issuance-experimental">Adaptive Issuance (experimental)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rpc-changes">RPC Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#operation-receipts">Operation receipts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-parameters">Protocol parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug Fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-changes">Minor Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internal">Internal</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Contributors to the Octez & Tezos protocol documentation
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2018-2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>