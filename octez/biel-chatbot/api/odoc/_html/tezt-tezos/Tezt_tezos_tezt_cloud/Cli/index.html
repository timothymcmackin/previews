<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cli (tezt-tezos.Tezt_tezos_tezt_cloud.Cli)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezt-tezos</a> &#x00BB; <a href="../index.html">Tezt_tezos_tezt_cloud</a> &#x00BB; Cli</nav><header class="odoc-preamble"><h1>Module <code><span>Tezt_tezos_tezt_cloud.Cli</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="xref-unresolved">Tezt</span>.Cli</span></code></summary><div class="odoc-spec"><div class="spec module anchored" id="module-Options"><a href="#module-Options" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Options/index.html">Options</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Logs"><a href="#module-Logs" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Logs/index.html">Logs</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Reports"><a href="#module-Reports" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Reports/index.html">Reports</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Commands"><a href="#module-Commands" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Commands/index.html">Commands</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Selecting_tests"><a href="#module-Selecting_tests" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Selecting_tests/index.html">Selecting_tests</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span class="optlabel">?default</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_opt"><a href="#val-get_opt" class="anchor"></a><code><span><span class="keyword">val</span> get_opt : <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_bool"><a href="#val-get_bool" class="anchor"></a><code><span><span class="keyword">val</span> get_bool : <span><span class="optlabel">?default</span>:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_bool_opt"><a href="#val-get_bool_opt" class="anchor"></a><code><span><span class="keyword">val</span> get_bool_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span>bool option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_int"><a href="#val-get_int" class="anchor"></a><code><span><span class="keyword">val</span> get_int : <span><span class="optlabel">?default</span>:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_int_opt"><a href="#val-get_int_opt" class="anchor"></a><code><span><span class="keyword">val</span> get_int_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_float"><a href="#val-get_float" class="anchor"></a><code><span><span class="keyword">val</span> get_float : <span><span class="optlabel">?default</span>:float <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_float_opt"><a href="#val-get_float_opt" class="anchor"></a><code><span><span class="keyword">val</span> get_float_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span>float option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_string"><a href="#val-get_string" class="anchor"></a><code><span><span class="keyword">val</span> get_string : <span><span class="optlabel">?default</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_string_opt"><a href="#val-get_string_opt" class="anchor"></a><code><span><span class="keyword">val</span> get_string_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-localhost"><a href="#val-localhost" class="anchor"></a><code><span><span class="keyword">val</span> localhost : bool</span></code></div><div class="spec-doc"><p>When <code>localhost</code> is <code>true</code>, the cloud scenario should be run locally. This can be used to test a scenario before deploying it.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-monitoring"><a href="#val-monitoring" class="anchor"></a><code><span><span class="keyword">val</span> monitoring : bool</span></code></div><div class="spec-doc"><p>When <code>monitoring</code> is <code>true</code>, VMs are monitored with netdata.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-destroy"><a href="#val-destroy" class="anchor"></a><code><span><span class="keyword">val</span> destroy : bool</span></code></div><div class="spec-doc"><p><code>destroy</code> is <code>true</code> for destroying temporary resources run by a scenario. Otherwise, this has to be done manually.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-project_id"><a href="#val-project_id" class="anchor"></a><code><span><span class="keyword">val</span> project_id : <span>string option</span></span></code></div><div class="spec-doc"><p><code>project_id</code> enables to specify a project id that should be used. This option should be set when the scenario should be run for a different project id than the default one.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-keep_alive"><a href="#val-keep_alive" class="anchor"></a><code><span><span class="keyword">val</span> keep_alive : bool</span></code></div><div class="spec-doc"><p>When <code>keep_alive</code> is <code>true</code>, the user must press &lt;enter&gt; to terminate the scenario. This can be used for debugging purpose or for inspecting the state of VMs at the end of a scenario.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-vms"><a href="#val-vms" class="anchor"></a><code><span><span class="keyword">val</span> vms : <span>int option</span></span></code></div><div class="spec-doc"><p><code>vms</code> enables to set the number of vms that will be spawned.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-vm_base_port"><a href="#val-vm_base_port" class="anchor"></a><code><span><span class="keyword">val</span> vm_base_port : int</span></code></div><div class="spec-doc"><p>First port opened on the VM.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ports_per_vm"><a href="#val-ports_per_vm" class="anchor"></a><code><span><span class="keyword">val</span> ports_per_vm : int</span></code></div><div class="spec-doc"><p>Number of consecutive ports opened on the VM from the base port.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-website"><a href="#val-website" class="anchor"></a><code><span><span class="keyword">val</span> website : bool</span></code></div><div class="spec-doc"><p>When <code>website</code> is <code>true</code> (default) a website is up for summarizing various information related to the experiment.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-website_port"><a href="#val-website_port" class="anchor"></a><code><span><span class="keyword">val</span> website_port : int</span></code></div><div class="spec-doc"><p><code>website_port</code> determines the port at which the website is set. Default is <code>8080</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prometheus"><a href="#val-prometheus" class="anchor"></a><code><span><span class="keyword">val</span> prometheus : bool</span></code></div><div class="spec-doc"><p>When <code>prometheus</code> is <code>true</code> a Prometheus instance is run locally and metrics of the experiments are exported to prometheus. At the end of the test, the database is snapshotted so that it can be imported later on.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prometheus_export"><a href="#val-prometheus_export" class="anchor"></a><code><span><span class="keyword">val</span> prometheus_export : bool</span></code></div><div class="spec-doc"><p>If <code>true</code>, exports a Promtheus snapshot at the end of the scenario.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prometheus_snapshot_filename"><a href="#val-prometheus_snapshot_filename" class="anchor"></a><code><span><span class="keyword">val</span> prometheus_snapshot_filename : <span>string option</span></span></code></div><div class="spec-doc"><p>Specify the name of the prometheus snapshot.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prometheus_port"><a href="#val-prometheus_port" class="anchor"></a><code><span><span class="keyword">val</span> prometheus_port : int</span></code></div><div class="spec-doc"><p>Specify the port of the Prometheus instance on the host machine.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prometheus_scrape_interval"><a href="#val-prometheus_scrape_interval" class="anchor"></a><code><span><span class="keyword">val</span> prometheus_scrape_interval : int</span></code></div><div class="spec-doc"><p>Specify the scraping interval of Prometheus.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-grafana"><a href="#val-grafana" class="anchor"></a><code><span><span class="keyword">val</span> grafana : bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-machine_type"><a href="#val-machine_type" class="anchor"></a><code><span><span class="keyword">val</span> machine_type : string</span></code></div><div class="spec-doc"><p>Enable to specify a machine type. The string must be a machine description compliant with GCP (ex: &quot;n1-standard-2&quot;). See the different type of machines supported here: https://cloud.google.com/compute/docs/general-purpose-machines#c3d_series.</p><p>Default is: &quot;n1-standard-2&quot;.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dockerfile_alias"><a href="#val-dockerfile_alias" class="anchor"></a><code><span><span class="keyword">val</span> dockerfile_alias : <span>string option</span></span></code></div><div class="spec-doc"><p>Specify the dockerfile alias to use. If not specified, the image name will be given by the value of the variable `TEZT_CLOUD`.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-max_run_duration"><a href="#val-max_run_duration" class="anchor"></a><code><span><span class="keyword">val</span> max_run_duration : int</span></code></div><div class="spec-doc"><p>Maximum running time of a VM.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_max_run_duration"><a href="#val-no_max_run_duration" class="anchor"></a><code><span><span class="keyword">val</span> no_max_run_duration : bool</span></code></div><div class="spec-doc"><p>Deactivate the max run duration parameter.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-proxy"><a href="#val-proxy" class="anchor"></a><code><span><span class="keyword">val</span> proxy : bool</span></code></div><div class="spec-doc"><p>When <code>proxy</code> is <code>true</code>, the scenario is run via a VM instead of the host machine.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tezt_cloud"><a href="#val-tezt_cloud" class="anchor"></a><code><span><span class="keyword">val</span> tezt_cloud : <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dns_domains"><a href="#val-dns_domains" class="anchor"></a><code><span><span class="keyword">val</span> dns_domains : <span>string list</span></span></code></div><div class="spec-doc"><p>DNS entries to use for the proxy container. Used by gcloud command in user authorized zones</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-os"><a href="#val-os" class="anchor"></a><code><span><span class="keyword">val</span> os : string</span></code></div><div class="spec-doc"><p>OS used by the VM.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-octez_release"><a href="#val-octez_release" class="anchor"></a><code><span><span class="keyword">val</span> octez_release : <span>string option</span></span></code></div><div class="spec-doc"><p>The tag of the octez release to be used.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_telemetry"><a href="#val-open_telemetry" class="anchor"></a><code><span><span class="keyword">val</span> open_telemetry : bool</span></code></div><div class="spec-doc"><p>Activate the Open Telemetry collector.</p></div></div></div></body></html>
