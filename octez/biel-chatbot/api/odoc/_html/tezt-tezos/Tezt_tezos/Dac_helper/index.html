<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dac_helper (tezt-tezos.Tezt_tezos.Dac_helper)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezt-tezos</a> &#x00BB; <a href="../index.html">Tezt_tezos</a> &#x00BB; Dac_helper</nav><header class="odoc-preamble"><h1>Module <code><span>Tezt_tezos.Dac_helper</span></code></h1><p>Helpers for configuring DAC scenarios.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Scenarios"><a href="#module-Scenarios" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Scenarios/index.html">Scenarios</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_coordinator_node"><a href="#val-with_coordinator_node" class="anchor"></a><code><span><span class="keyword">val</span> with_coordinator_node : 
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?sc_rollup_node</span>:<a href="../Sc_rollup_node/index.html#type-t">Sc_rollup_node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?pvm_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?wait_ready</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?allow_v1_api</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">committee_members</span>:<span><a href="../Account/index.html#type-key">Account.key</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Node/index.html#type-t">Node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Dac_node/index.html#type-t">Dac_node.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Account/index.html#type-key">Account.key</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Initializes a a Coordinator Dac node. DAC Committee of size <code>committee_size</code> will be generated and pre-configured in the Coordfinator node. An additional <code>custom_committee_members</code> can be provided to configure fixed members of the committee (useful for testing).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_committee_member"><a href="#val-with_committee_member" class="anchor"></a><code><span><span class="keyword">val</span> with_committee_member : 
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?sc_rollup_node</span>:<a href="../Sc_rollup_node/index.html#type-t">Sc_rollup_node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?pvm_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?wait_ready</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?allow_v1_api</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">committee_member</span>:<a href="../Account/index.html#type-key">Account.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Node/index.html#type-t">Node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Dac_node/index.html#type-t">Dac_node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Dac_node/index.html#type-t">Dac_node.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Account/index.html#type-key">Account.key</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Initializes a a Committee Member Dac node with key <code>committee_member</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_observer"><a href="#val-with_observer" class="anchor"></a><code><span><span class="keyword">val</span> with_observer : 
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?sc_rollup_node</span>:<a href="../Sc_rollup_node/index.html#type-t">Sc_rollup_node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?pvm_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?wait_ready</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?allow_v1_api</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">committee_member_rpcs</span>:<span><span>(string * int)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Node/index.html#type-t">Node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Dac_node/index.html#type-t">Dac_node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Dac_node/index.html#type-t">Dac_node.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Initializes a Observer Dac node with key <code>committee_member</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_fresh_rollup"><a href="#val-with_fresh_rollup" class="anchor"></a><code><span><span class="keyword">val</span> with_fresh_rollup : 
  <span><span class="optlabel">?pvm_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?hooks</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Process_hooks.t <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Node/index.html#type-t">Node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sc_rollup_node/index.html#type-t">Sc_rollup_node.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Initializes a new <code>Sc_rollup</code> with empty boot sector, attached to an <code>Sc_rollup_node</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scenario_with_full_dac_infrastructure"><a href="#val-scenario_with_full_dac_infrastructure" class="anchor"></a><code><span><span class="keyword">val</span> scenario_with_full_dac_infrastructure : 
  <span><span class="optlabel">?supports</span>:<a href="../Protocol/index.html#type-supported_protocols">Protocol.supported_protocols</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?tags</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?uses</span>:<span>(<span><a href="../Protocol/index.html#type-t">Protocol.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../octez-libs/Tezt_wrapper/Uses/index.html#type-t">Tezt_wrapper.Uses.t</a> list</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?pvm_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?custom_committee_members</span>:<span><a href="../Account/index.html#type-key">Account.key</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?commitment_period</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?challenge_window</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_sections_levels</span>:<span><span>(string * <a href="../Daemon/Level/index.html#type-level">Daemon.Level.level</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_arguments</span>:<span><a href="../Node/index.html#type-argument">Node.argument</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?allow_v1_api</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?allow_regression</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">__FILE__</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">committee_size</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">observers</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="Scenarios/index.html#type-full">Scenarios.full</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Protocol/index.html#type-t">Protocol.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Initalizes a scenario with full DAC infrastruture. See <code>Scenarios.full</code> for components.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scenario_with_layer1_node"><a href="#val-scenario_with_layer1_node" class="anchor"></a><code><span><span class="keyword">val</span> scenario_with_layer1_node : 
  <span><span class="optlabel">?tags</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?uses</span>:<span>(<span><a href="../Protocol/index.html#type-t">Protocol.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../octez-libs/Tezt_wrapper/Uses/index.html#type-t">Tezt_wrapper.Uses.t</a> list</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?commitment_period</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?challenge_window</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_sections_levels</span>:<span><span>(string * <a href="../Daemon/Level/index.html#type-level">Daemon.Level.level</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_arguments</span>:<span><a href="../Node/index.html#type-argument">Node.argument</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">__FILE__</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Protocol/index.html#type-t">Protocol.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Node/index.html#type-t">Node.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Protocol/index.html#type-t">Protocol.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Initalizes a scenario with L1 node only.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Call_endpoint"><a href="#module-Call_endpoint" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Call_endpoint/index.html">Call_endpoint</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This module is syntactix sugar to call DAC RPC endpoints.</p></div></div></div></body></html>
