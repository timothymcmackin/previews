<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sc_rollup_rpc (tezt-tezos.Tezt_tezos.Sc_rollup_rpc)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezt-tezos</a> &#x00BB; <a href="../index.html">Tezt_tezos</a> &#x00BB; Sc_rollup_rpc</nav><header class="odoc-preamble"><h1>Module <code><span>Tezt_tezos.Sc_rollup_rpc</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_ticks"><a href="#val-get_global_block_ticks" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_ticks : <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/ticks</code> gets the number of ticks for the PVM for the <code>block</code> (default <code>&quot;head&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_state_hash"><a href="#val-get_global_block_state_hash" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_state_hash : <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/state_hash</code> gets the corresponding PVM state hash for the <code>block</code> (default <code>&quot;head&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_total_ticks"><a href="#val-get_global_block_total_ticks" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_total_ticks : <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/total_ticks</code> gets the total number of ticks for the PVM.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_state_current_level"><a href="#val-get_global_block_state_current_level" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_state_current_level : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>int <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/state_current_level</code> gets the corresponding PVM state current level for the <code>block</code> (default <code>&quot;head&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_status"><a href="#val-get_global_block_status" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_status : <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/status</code> gets the corresponding PVM status for the <code>block</code> (default <code>&quot;head&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_outbox"><a href="#val-get_global_block_outbox" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_outbox : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">outbox_level</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/outbox/&lt;outbox_level&gt;/messages</code> gets the rollup outbox of <code>outbox_level</code> as known to the <code>block</code> (default <code>&quot;cemented&quot;</code> which is the block corresponding to the last cemented level).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_smart_rollup_address"><a href="#val-get_global_smart_rollup_address" class="anchor"></a><code><span><span class="keyword">val</span> get_global_smart_rollup_address : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/smart_rollup_address</code> returns the smart contract rollup address of the node.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outbox"><a href="#type-outbox" class="anchor"></a><code><span><span class="keyword">type</span> outbox</span><span> = </span></code><ol><li id="type-outbox.Transactions" class="def variant constructor anchored"><a href="#type-outbox.Transactions" class="anchor"></a><code><span>| </span><span><span class="constructor">Transactions</span> <span class="keyword">of</span> <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t list</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-block"><a href="#type-block" class="anchor"></a><code><span><span class="keyword">type</span> block</span><span> = </span><span>{</span></code><ol><li id="type-block.block_hash" class="def record field anchored"><a href="#type-block.block_hash" class="anchor"></a><code><span>block_hash : string;</span></code></li><li id="type-block.previous_commitment_hash" class="def record field anchored"><a href="#type-block.previous_commitment_hash" class="anchor"></a><code><span>previous_commitment_hash : string;</span></code></li><li id="type-block.level" class="def record field anchored"><a href="#type-block.level" class="anchor"></a><code><span>level : int;</span></code></li><li id="type-block.inbox" class="def record field anchored"><a href="#type-block.inbox" class="anchor"></a><code><span>inbox : <a href="../RPC/index.html#type-smart_rollup_inbox">RPC.smart_rollup_inbox</a>;</span></code></li><li id="type-block.messages" class="def record field anchored"><a href="#type-block.messages" class="anchor"></a><code><span>messages : <span>string list</span>;</span></code></li><li id="type-block.outbox" class="def record field anchored"><a href="#type-block.outbox" class="anchor"></a><code><span>outbox : <span><a href="#type-outbox">outbox</a> list</span>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Rollup node block type. Incomplete type, to be completed when needs arise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block"><a href="#val-get_global_block" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?outbox</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-block">block</a> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;?outbox</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_inbox"><a href="#val-get_global_block_inbox" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_inbox : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../RPC/index.html#type-smart_rollup_inbox">RPC.smart_rollup_inbox</a> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/inbox</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_hash"><a href="#val-get_global_block_hash" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_hash : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/hash</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_level"><a href="#val-get_global_block_level" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_level : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/level</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_num_messages"><a href="#val-get_global_block_num_messages" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_num_messages : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/num_messages</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_tezos_head"><a href="#val-get_global_tezos_head" class="anchor"></a><code><span><span class="keyword">val</span> get_global_tezos_head : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/tezos_head</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_tezos_level"><a href="#val-get_global_tezos_level" class="anchor"></a><code><span><span class="keyword">val</span> get_global_tezos_level : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/tezos_level</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-slot_header"><a href="#type-slot_header" class="anchor"></a><code><span><span class="keyword">type</span> slot_header</span><span> = </span><span>{</span></code><ol><li id="type-slot_header.level" class="def record field anchored"><a href="#type-slot_header.level" class="anchor"></a><code><span>level : int;</span></code></li><li id="type-slot_header.commitment" class="def record field anchored"><a href="#type-slot_header.commitment" class="anchor"></a><code><span>commitment : string;</span></code></li><li id="type-slot_header.index" class="def record field anchored"><a href="#type-slot_header.index" class="anchor"></a><code><span>index : int;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_dal_slot_headers"><a href="#val-get_global_block_dal_slot_headers" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_dal_slot_headers : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-slot_header">slot_header</a> list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/dal/slot_headers</code> returns the dal slot headers of the <code>block</code> (default <code>&quot;head&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_local_batcher_queue"><a href="#val-get_local_batcher_queue" class="anchor"></a><code><span><span class="keyword">val</span> get_local_batcher_queue : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><span>(string * string)</span> list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET local/batcher/queue</code> returns the queue of messages, as pairs of message id and binary message, in the batcher.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_local_batcher_queue_msg_id"><a href="#val-get_local_batcher_queue_msg_id" class="anchor"></a><code><span><span class="keyword">val</span> get_local_batcher_queue_msg_id : 
  <span><span class="label">msg_id</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * string)</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET local/batcher/queue/&lt;msg_id&gt;</code> fetches the message whose id is <code>msg_id</code> from the queue. It returns the message together with the full JSON response including the status.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-simulation_result"><a href="#type-simulation_result" class="anchor"></a><code><span><span class="keyword">type</span> simulation_result</span><span> = </span><span>{</span></code><ol><li id="type-simulation_result.state_hash" class="def record field anchored"><a href="#type-simulation_result.state_hash" class="anchor"></a><code><span>state_hash : string;</span></code></li><li id="type-simulation_result.status" class="def record field anchored"><a href="#type-simulation_result.status" class="anchor"></a><code><span>status : string;</span></code></li><li id="type-simulation_result.output" class="def record field anchored"><a href="#type-simulation_result.output" class="anchor"></a><code><span>output : <span class="xref-unresolved">Tezt_wrapper</span>.JSON.t;</span></code></li><li id="type-simulation_result.inbox_level" class="def record field anchored"><a href="#type-simulation_result.inbox_level" class="anchor"></a><code><span>inbox_level : int;</span></code></li><li id="type-simulation_result.num_ticks" class="def record field anchored"><a href="#type-simulation_result.num_ticks" class="anchor"></a><code><span>num_ticks : int;</span></code></li><li id="type-simulation_result.insights" class="def record field anchored"><a href="#type-simulation_result.insights" class="anchor"></a><code><span>insights : <span><span>string option</span> list</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-post_global_block_simulate"><a href="#val-post_global_block_simulate" class="anchor"></a><code><span><span class="keyword">val</span> post_global_block_simulate : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?reveal_pages</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?insight_requests</span>:
    <span><span>[&lt; <span>`Durable_storage_key of <span>string list</span></span> <span><span>| `Pvm_state_key</span> of <span>string list</span></span> ]</span>
      list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-simulation_result">simulation_result</a> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>POST global/block/&lt;block&gt;/simulate</code> simulates the evaluation of input <code>messages</code> for the rollup PVM at <code>block</code> (default <code>&quot;head&quot;</code>). <code>reveal_pages</code> can be used to provide data to be used for the revelation ticks. <code>insight_request</code> can be used to look at a list of keys in the PVM state after the simulation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_dal_processed_slots"><a href="#val-get_global_block_dal_processed_slots" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_dal_processed_slots : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(int * string)</span> list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/dal/processed_slots</code> returns the slots indices that have been marked by the rollup node as confirmed or unconfirmed for block <code>block</code> (default <code>&quot;head&quot;</code>), with their statuses.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-commitment_and_hash"><a href="#type-commitment_and_hash" class="anchor"></a><code><span><span class="keyword">type</span> commitment_and_hash</span><span> = </span><span>{</span></code><ol><li id="type-commitment_and_hash.commitment" class="def record field anchored"><a href="#type-commitment_and_hash.commitment" class="anchor"></a><code><span>commitment : <a href="../RPC/index.html#type-smart_rollup_commitment">RPC.smart_rollup_commitment</a>;</span></code></li><li id="type-commitment_and_hash.hash" class="def record field anchored"><a href="#type-commitment_and_hash.hash" class="anchor"></a><code><span>hash : string;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-commitment_info"><a href="#type-commitment_info" class="anchor"></a><code><span><span class="keyword">type</span> commitment_info</span><span> = </span><span>{</span></code><ol><li id="type-commitment_info.commitment_and_hash" class="def record field anchored"><a href="#type-commitment_info.commitment_and_hash" class="anchor"></a><code><span>commitment_and_hash : <a href="#type-commitment_and_hash">commitment_and_hash</a>;</span></code></li><li id="type-commitment_info.first_published_at_level" class="def record field anchored"><a href="#type-commitment_info.first_published_at_level" class="anchor"></a><code><span>first_published_at_level : <span>int option</span>;</span></code></li><li id="type-commitment_info.published_at_level" class="def record field anchored"><a href="#type-commitment_info.published_at_level" class="anchor"></a><code><span>published_at_level : <span>int option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-commitment_info_from_json"><a href="#val-commitment_info_from_json" class="anchor"></a><code><span><span class="keyword">val</span> commitment_info_from_json : <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-commitment_info">commitment_info</a></span></code></div><div class="spec-doc"><p><code>commitment_info_from_json</code> parses a commitment, its hash and the levels when the commitment was first published (if any) and included, from the JSON representation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_last_stored_commitment"><a href="#val-get_global_last_stored_commitment" class="anchor"></a><code><span><span class="keyword">val</span> get_global_last_stored_commitment : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-commitment_and_hash">commitment_and_hash</a> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/last_stored_commitment</code> gets the last commitment with its hash stored by the rollup node.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_local_last_published_commitment"><a href="#val-get_local_last_published_commitment" class="anchor"></a><code><span><span class="keyword">val</span> get_local_last_published_commitment : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-commitment_info">commitment_info</a> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET local/last_published_commitment</code> gets the last commitment published by the rollup node, with its hash and level when the commitment was first published and the level it was included.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_local_commitments"><a href="#val-get_local_commitments" class="anchor"></a><code><span><span class="keyword">val</span> get_local_commitments : 
  <span><span class="label">commitment_hash</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-commitment_info">commitment_info</a> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET local/commitments</code> gets commitment by its <code>hash</code> from the rollup node, with its hash and level when the commitment was first published and the level it was included.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-gc_info"><a href="#type-gc_info" class="anchor"></a><code><span><span class="keyword">type</span> gc_info</span><span> = </span><span>{</span></code><ol><li id="type-gc_info.first_available_level" class="def record field anchored"><a href="#type-gc_info.first_available_level" class="anchor"></a><code><span>first_available_level : int;</span></code></li><li id="type-gc_info.last_gc_started_at" class="def record field anchored"><a href="#type-gc_info.last_gc_started_at" class="anchor"></a><code><span>last_gc_started_at : <span>int option</span>;</span></code></li><li id="type-gc_info.last_context_split_level" class="def record field anchored"><a href="#type-gc_info.last_context_split_level" class="anchor"></a><code><span>last_context_split_level : <span>int option</span>;</span></code></li><li id="type-gc_info.last_successful_gc_target" class="def record field anchored"><a href="#type-gc_info.last_successful_gc_target" class="anchor"></a><code><span>last_successful_gc_target : <span>int option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_local_gc_info"><a href="#val-get_local_gc_info" class="anchor"></a><code><span><span class="keyword">val</span> get_local_gc_info : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-gc_info">gc_info</a> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET local/gc_info</code> returns garbage collection information.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_state"><a href="#val-get_global_block_state" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_state : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">key</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>bytes <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/state</code> gets the corresponding PVM state value mapped to <code>key</code> for the <code>block</code> (default <code>&quot;head&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-durable_state_operation"><a href="#type-durable_state_operation" class="anchor"></a><code><span><span class="keyword">type</span> <span>'output_type durable_state_operation</span></span><span> = </span></code><ol><li id="type-durable_state_operation.Value" class="def variant constructor anchored"><a href="#type-durable_state_operation.Value" class="anchor"></a><code><span>| </span><span><span class="constructor">Value</span> : <span><span>string option</span> <a href="#type-durable_state_operation">durable_state_operation</a></span></span></code></li><li id="type-durable_state_operation.Length" class="def variant constructor anchored"><a href="#type-durable_state_operation.Length" class="anchor"></a><code><span>| </span><span><span class="constructor">Length</span> : <span><span>int64 option</span> <a href="#type-durable_state_operation">durable_state_operation</a></span></span></code></li><li id="type-durable_state_operation.Subkeys" class="def variant constructor anchored"><a href="#type-durable_state_operation.Subkeys" class="anchor"></a><code><span>| </span><span><span class="constructor">Subkeys</span> : <span><span>string list</span> <a href="#type-durable_state_operation">durable_state_operation</a></span></span></code></li><li id="type-durable_state_operation.Values" class="def variant constructor anchored"><a href="#type-durable_state_operation.Values" class="anchor"></a><code><span>| </span><span><span class="constructor">Values</span> : <span><span><span>(string * string)</span> list</span> <a href="#type-durable_state_operation">durable_state_operation</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global_block_durable_state_value"><a href="#val-get_global_block_durable_state_value" class="anchor"></a><code><span><span class="keyword">val</span> get_global_block_durable_state_value : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">pvm_kind</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">operation</span>:<span><span class="type-var">'a</span> <a href="#type-durable_state_operation">durable_state_operation</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">key</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/durable/&lt;pvm_kind&gt;/&lt;operation&gt;</code> gets the corresponding durable PVM state information (depending on <code>operation</code>) mapped to <code>key</code> for the <code>block</code> (default <code>&quot;head&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-post_local_batcher_injection"><a href="#val-post_local_batcher_injection" class="anchor"></a><code><span><span class="keyword">val</span> post_local_batcher_injection : 
  <span><span class="optlabel">?order</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?drop_duplicate</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">messages</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>POST local/batcher/injection</code> injects the <code>messages</code> in the queue the rollup node's batcher and returns the list of message hashes injected.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-post_local_dal_batcher_injection"><a href="#val-post_local_dal_batcher_injection" class="anchor"></a><code><span><span class="keyword">val</span> post_local_dal_batcher_injection : <span><span class="label">messages</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>POST local/dal/batcher/injection</code> injects the given <code>messages</code> in the rollup node's DAL queue.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-post_dal_slot_indices"><a href="#val-post_dal_slot_indices" class="anchor"></a><code><span><span class="keyword">val</span> post_dal_slot_indices : <span><span class="label">slot_indices</span>:<span>int list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>POST local/dal/slot/indices</code> sets the given DAL <code>slot_indices</code> to be used when injecting DAL slots.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_dal_injected_operations_statuses"><a href="#val-get_dal_injected_operations_statuses" class="anchor"></a><code><span><span class="keyword">val</span> get_dal_injected_operations_statuses : 
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outbox_proof"><a href="#type-outbox_proof" class="anchor"></a><code><span><span class="keyword">type</span> outbox_proof</span><span> = </span><span>{</span></code><ol><li id="type-outbox_proof.commitment_hash" class="def record field anchored"><a href="#type-outbox_proof.commitment_hash" class="anchor"></a><code><span>commitment_hash : string;</span></code></li><li id="type-outbox_proof.proof" class="def record field anchored"><a href="#type-outbox_proof.proof" class="anchor"></a><code><span>proof : string;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-outbox_proof_simple"><a href="#val-outbox_proof_simple" class="anchor"></a><code><span><span class="keyword">val</span> outbox_proof_simple : 
  <span><span class="optlabel">?block</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">outbox_level</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message_index</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-outbox_proof">outbox_proof</a> option</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET global/block/&lt;block&gt;/helpers/proofs/outbox/&lt;outbox_level&gt;/messages</code></p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outbox_msg"><a href="#type-outbox_msg" class="anchor"></a><code><span><span class="keyword">type</span> outbox_msg</span><span> = </span><span>{</span></code><ol><li id="type-outbox_msg.message_index" class="def record field anchored"><a href="#type-outbox_msg.message_index" class="anchor"></a><code><span>message_index : int;</span></code></li><li id="type-outbox_msg.message" class="def record field anchored"><a href="#type-outbox_msg.message" class="anchor"></a><code><span>message : <span class="xref-unresolved">Tezt_wrapper</span>.JSON.t;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_local_outbox_pending_executable"><a href="#val-get_local_outbox_pending_executable" class="anchor"></a><code><span><span class="keyword">val</span> get_local_outbox_pending_executable : 
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(int * <span><a href="#type-outbox_msg">outbox_msg</a> list</span>)</span> list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET /local/outbox/pending/executable</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_local_outbox_pending_unexecutable"><a href="#val-get_local_outbox_pending_unexecutable" class="anchor"></a><code><span><span class="keyword">val</span> get_local_outbox_pending_unexecutable : 
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(int * <span><a href="#type-outbox_msg">outbox_msg</a> list</span>)</span> list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET /local/outbox/pending/unexecutable</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_admin_batcher_queue"><a href="#val-delete_admin_batcher_queue" class="anchor"></a><code><span><span class="keyword">val</span> delete_admin_batcher_queue : 
  <span><span class="optlabel">?order_below</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?drop_no_order</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>DELETE /admin/batcher/queue</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_admin_injector_queues"><a href="#val-get_admin_injector_queues" class="anchor"></a><code><span><span class="keyword">val</span> get_admin_injector_queues : 
  <span><span class="optlabel">?tag</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span>string list</span> * <span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t list</span>)</span> list</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET /admin/injector/queues</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_admin_injector_queues_total"><a href="#val-get_admin_injector_queues_total" class="anchor"></a><code><span><span class="keyword">val</span> get_admin_injector_queues_total : 
  <span><span class="optlabel">?tag</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<span>string list</span> * int)</span> list</span> * int)</span> <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>GET /admin/injector/queues/total</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_admin_injector_queues"><a href="#val-delete_admin_injector_queues" class="anchor"></a><code><span><span class="keyword">val</span> delete_admin_injector_queues : 
  <span><span class="optlabel">?operation_tag</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?order_below</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?drop_no_order</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../RPC_core/index.html#type-t">RPC_core.t</a></span></span></code></div><div class="spec-doc"><p>RPC: <code>DELETE /admin/injector/queues</code></p></div></div></div></body></html>
