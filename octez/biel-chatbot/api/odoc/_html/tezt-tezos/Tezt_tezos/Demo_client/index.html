<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Demo_client (tezt-tezos.Tezt_tezos.Demo_client)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezt-tezos</a> &#x00BB; <a href="../index.html">Tezt_tezos</a> &#x00BB; Demo_client</nav><header class="odoc-preamble"><h1>Module <code><span>Tezt_tezos.Demo_client</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Time"><a href="#module-Time" class="anchor"></a><code><span><span class="keyword">module</span> Time</span><span> = <a href="../../../octez-libs/Tezos_base/Time/System/index.html">Tezos_base.Time.System</a></span></code></div></div><p>Run Tezos client with commands related to `demo_protocol`.</p><div class="odoc-spec"><div class="spec value anchored" id="val-activate"><a href="#val-activate" class="anchor"></a><code><span><span class="keyword">val</span> activate : 
  <span><span class="optlabel">?endpoint</span>:<a href="../Client/index.html#type-endpoint">Client.endpoint</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?fitness</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?key</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?timestamp</span>:<a href="../Client/index.html#type-timestamp">Client.timestamp</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Run <code>octez-client activate protocol</code> with `demo_protocol`.</p><p>If <code>timestamp</code> is not specified explicitely, it is set to <code>Ago
    timestamp_delay</code>, where <code>timestamp_delay</code> is 365 days, which allows to bake plenty of blocks before their timestamp reach the present (at which point one would have to wait between each block so that peers do not reject them for being in the future).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bake"><a href="#val-bake" class="anchor"></a><code><span><span class="keyword">val</span> bake : <span><span class="optlabel">?msg</span>:string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Run <code>octez-client bake</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_a"><a href="#val-get_a" class="anchor"></a><code><span><span class="keyword">val</span> get_a : <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Run <code>octez-client get a</code>, get the current value of counter `a`.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_b"><a href="#val-get_b" class="anchor"></a><code><span><span class="keyword">val</span> get_b : <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Run <code>octez-client get a</code>, get the current value of counter `b`.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-increment_a"><a href="#val-increment_a" class="anchor"></a><code><span><span class="keyword">val</span> increment_a : <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Run <code>octez-client increment a</code>, add one to counter `a`.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-increment_b"><a href="#val-increment_b" class="anchor"></a><code><span><span class="keyword">val</span> increment_b : <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Run <code>octez-client increment b</code>, add one to counter `a`..</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-transfer"><a href="#val-transfer" class="anchor"></a><code><span><span class="keyword">val</span> transfer : <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Run <code>octez-client transfer amount</code>, when <code>amount</code> is positive, transfer <code>amount</code> from counter `a` to counter `b. When <code>amount</code> is negative, transfer <code>-amount</code> from `b` to `a`.</p></div></div></div></body></html>
