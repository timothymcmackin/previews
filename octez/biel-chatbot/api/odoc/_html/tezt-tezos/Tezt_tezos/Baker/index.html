<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Baker (tezt-tezos.Tezt_tezos.Baker)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezt-tezos</a> &#x00BB; <a href="../index.html">Tezt_tezos</a> &#x00BB; Baker</nav><header class="odoc-preamble"><h1>Module <code><span>Tezt_tezos.Baker</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A baker instance</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-name"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>See <code>Daemon.Make.name</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-terminate"><a href="#val-terminate" class="anchor"></a><code><span><span class="keyword">val</span> terminate : <span><span class="optlabel">?timeout</span>:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Send SIGTERM and wait for the process to terminate.</p><p>Default <code>timeout</code> is 30 seconds, after which SIGKILL is sent.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-kill"><a href="#val-kill" class="anchor"></a><code><span><span class="keyword">val</span> kill : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Send SIGKILL and wait for the process to terminate.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stop"><a href="#val-stop" class="anchor"></a><code><span><span class="keyword">val</span> stop : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Send SIGSTOP to the process.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-continue"><a href="#val-continue" class="anchor"></a><code><span><span class="keyword">val</span> continue : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Send SIGCONT to the process.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_events"><a href="#val-log_events" class="anchor"></a><code><span><span class="keyword">val</span> log_events : <span><span class="optlabel">?max_length</span>:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>See <code>Daemon.Make.log_events</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wait_for"><a href="#val-wait_for" class="anchor"></a><code><span><span class="keyword">val</span> wait_for : 
  <span><span class="optlabel">?where</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="xref-unresolved">Tezt_wrapper</span>.JSON.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>See <code>Daemon.Make.wait_for</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wait_for_ready"><a href="#val-wait_for_ready" class="anchor"></a><code><span><span class="keyword">val</span> wait_for_ready : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Wait until the baker is ready.</p><p>More precisely, wait until a &quot;Baker started&quot; event occurs. If this event alreay happened, return immediately.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-event"><a href="#type-event" class="anchor"></a><code><span><span class="keyword">type</span> event</span><span> = </span><span>{</span></code><ol><li id="type-event.name" class="def record field anchored"><a href="#type-event.name" class="anchor"></a><code><span>name : string;</span></code></li><li id="type-event.value" class="def record field anchored"><a href="#type-event.value" class="anchor"></a><code><span>value : <span class="xref-unresolved">Tezt_wrapper</span>.JSON.t;</span></code></li><li id="type-event.timestamp" class="def record field anchored"><a href="#type-event.timestamp" class="anchor"></a><code><span>timestamp : float;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Raw events.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_event"><a href="#val-on_event" class="anchor"></a><code><span><span class="keyword">val</span> on_event : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>See <code>Daemon.Make.on_event</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-run"><a href="#val-run" class="anchor"></a><code><span><span class="keyword">val</span> run : 
  <span><span class="optlabel">?env</span>:<span>string <span class="xref-unresolved">Tezt_wrapper</span>.Base.String_map.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_level</span>:<a href="../Daemon/Level/index.html#type-default_level">Daemon.Level.default_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_sections_levels</span>:<span><span>(string * <a href="../Daemon/Level/index.html#type-level">Daemon.Level.level</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Spawn <code>octez-baker run</code>.</p><p>The resulting promise is fulfilled as soon as the baker has been spawned. It continues running in the background.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-liquidity_baking_vote"><a href="#type-liquidity_baking_vote" class="anchor"></a><code><span><span class="keyword">type</span> liquidity_baking_vote</span><span> = </span></code><ol><li id="type-liquidity_baking_vote.Off" class="def variant constructor anchored"><a href="#type-liquidity_baking_vote.Off" class="anchor"></a><code><span>| </span><span><span class="constructor">Off</span></span></code></li><li id="type-liquidity_baking_vote.On" class="def variant constructor anchored"><a href="#type-liquidity_baking_vote.On" class="anchor"></a><code><span>| </span><span><span class="constructor">On</span></span></code></li><li id="type-liquidity_baking_vote.Pass" class="def variant constructor anchored"><a href="#type-liquidity_baking_vote.Pass" class="anchor"></a><code><span>| </span><span><span class="constructor">Pass</span></span></code></li></ol></div><div class="spec-doc"><p>Liquidity baking vote values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-liquidity_baking_vote_of_string_opt"><a href="#val-liquidity_baking_vote_of_string_opt" class="anchor"></a><code><span><span class="keyword">val</span> liquidity_baking_vote_of_string_opt : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-liquidity_baking_vote">liquidity_baking_vote</a> option</span></span></code></div><div class="spec-doc"><p>Returns the <code>liquidity_baking_vote</code> corresponding to a string, or None if the string is not a valid liquidity baking vote.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-liquidity_baking_vote_to_string"><a href="#val-liquidity_baking_vote_to_string" class="anchor"></a><code><span><span class="keyword">val</span> liquidity_baking_vote_to_string : <span><a href="#type-liquidity_baking_vote">liquidity_baking_vote</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns the string representation of a <code>liquidity_baking_vote</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-liquidity_baking_votefile"><a href="#val-liquidity_baking_votefile" class="anchor"></a><code><span><span class="keyword">val</span> liquidity_baking_votefile : <span><span class="optlabel">?path</span>:string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-liquidity_baking_vote">liquidity_baking_vote</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Writes a liquidity baking votefile, as read by the bakers <code>--votefile</code> argument.</p><p>If <code>path</code> is set, the vote file is written there. Otherwise, it is written to a temporary file.</p><p>Returns the path to the file that was written.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : 
  <span><span class="optlabel">?runner</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Runner.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">protocol</span>:<a href="../Protocol/index.html#type-t">Protocol.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?path</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?color</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Log.Color.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_pipe</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?delegates</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?votefile</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?liquidity_baking_toggle_vote</span>:<span><a href="#type-liquidity_baking_vote">liquidity_baking_vote</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?force_apply_from_round</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?remote_mode</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?operations_pool</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dal_node</span>:<a href="../Dal_node/index.html#type-t">Dal_node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dal_node_timeout_percentage</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?minimal_nanotez_per_gas_unit</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?state_recorder</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_version_check_bypass</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_version_allowed</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Node/index.html#type-t">Node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create a baker.</p><p>This function just creates a value of type <code>t</code>, it does not call <a href="#val-run"><code>run</code></a>.</p><p><code>path</code> provides the path to the baker binary, the default being the one derived from the <code>protocol</code>.</p><p>The standard output and standard error output of the baker will be logged with prefix <code>name</code> and color <code>color</code>.</p><p>Default <code>event_pipe</code> is a temporary file whose name is derived from <code>name</code>. It will be created as a named pipe so that baker events can be received.</p><p>The <code>Node.t</code> parameter is the node used by the baker. The baker is configured to use the node's data dir.</p><p>The <code>Client.t</code> parameter is the client used by the baker. The baker is configured to use the client's base directory.</p><p>If <code>runner</code> is specified, the baker will be spawned on this runner using SSH.</p><p><code>delegates</code> is a list of account aliases (see <code>Account.key.alias</code>), e.g., bootstrap accounts (see <code>Constant.bootstrap_keys</code>), delegated to this baker. This defaults to the empty list, which is a shortcut for &quot;every known account&quot;.</p><p><code>votefile</code> and <code>liquidity_baking_toggle_vote</code> are passed to the baker daemon through the flags <code>--votefile</code> and <code>--liquidity-baking-toggle-vote</code>. If <code>--liquidity-baking-toggle-vote</code> is <code>None</code>, then <code>--liquidity-baking-toggle-vote</code> is not passed. If it is <code>Some x</code> then <code>--liquidity-baking-toggle-vote x</code> is passed. The default value is <code>Some Pass</code>.</p><p><code>operations_pool</code>, <code>force_apply_from_round</code>, <code>state_recorder</code>, <code>node_version_check_bypass</code> and <code>node_version_allowed</code> are passed to the baker daemon through the flag <code>--operations-pool</code>, <code>--force_apply_from_round</code>, <code>--record-state</code>, <code>--node-version-check-bypass</code> and <code>--node-version-allowed</code>.</p><p>If <code>remote_mode</code> is specified, the baker will run in RPC-only mode.</p><p>If <code>dal_node</code> is specified, then it is the DAL node that the baker queries in order to determine the attestations it sends to the L1 node. A <code>--dal_node</code> argument is passed to specify the DAL node's endpoint.</p><p><code>minimal_nanotez_per_gas_unit</code> is an integer passed to the baker daemon through the flag <code>--minimal-nanotez-per-gas-unit</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_from_uris"><a href="#val-create_from_uris" class="anchor"></a><code><span><span class="keyword">val</span> create_from_uris : 
  <span><span class="optlabel">?runner</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Runner.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">protocol</span>:<a href="../Protocol/index.html#type-t">Protocol.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?path</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?color</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Log.Color.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_pipe</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?delegates</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?votefile</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?liquidity_baking_toggle_vote</span>:<span><a href="#type-liquidity_baking_vote">liquidity_baking_vote</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?force_apply_from_round</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?remote_mode</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?operations_pool</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dal_node_rpc_endpoint</span>:<a href="../Endpoint/index.html#type-t">Endpoint.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dal_node_timeout_percentage</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?minimal_nanotez_per_gas_unit</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?state_recorder</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_version_check_bypass</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_version_allowed</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">base_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">node_data_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">node_rpc_endpoint</span>:<a href="../Endpoint/index.html#type-t">Endpoint.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Similar to <a href="#val-create"><code>create</code></a>, but nodes RPCs addresses, wallet base directory and L1 data directory are directly provided instead of a <code>Client.t</code>, a <code>Node.t</code> and optionally a <a href="../Dal_node/index.html#type-t"><code>Dal_node.t</code></a>.</p><p>The <code>node_data_dir</code> parameter provides the (local) node's data directory used for baking.</p><p>The <code>node_rpc_endpoint</code> parameter provides the (local) node's RPC server endpoint to which the baker will connect to.</p><p>The <code>base_dir</code> parameter contains needed information about the wallets used by the baker.</p><p>If <code>dal_node_rpc_endpoint</code> is specified, then it provides the DAL node RPC server's endpoint that the baker queries in order to determine the attestations it sends to the L1 node. A <code>--dal_node</code> argument is passed to specify the DAL node's endpoint.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : 
  <span><span class="optlabel">?env</span>:<span>string <span class="xref-unresolved">Tezt_wrapper</span>.Base.String_map.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?runner</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Runner.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">protocol</span>:<a href="../Protocol/index.html#type-t">Protocol.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?path</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?color</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Log.Color.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_level</span>:<a href="../Daemon/Level/index.html#type-default_level">Daemon.Level.default_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_pipe</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?event_sections_levels</span>:<span><span>(string * <a href="../Daemon/Level/index.html#type-level">Daemon.Level.level</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?delegates</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?votefile</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?liquidity_baking_toggle_vote</span>:<span><a href="#type-liquidity_baking_vote">liquidity_baking_vote</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?force_apply_from_round</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?remote_mode</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?operations_pool</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dal_node</span>:<a href="../Dal_node/index.html#type-t">Dal_node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dal_node_timeout_percentage</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?minimal_nanotez_per_gas_unit</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?state_recorder</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_version_check_bypass</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?node_version_allowed</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Node/index.html#type-t">Node.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Client/index.html#type-t">Client.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Initialize a baker.</p><p>This creates a baker, waits for it to be ready, and then returns it.</p><p>As the baker usually relies on a node, we first wait for the node to be ready and then, run the baker.</p><p>The path to the baker binary is chosen from the <code>protocol</code>.</p><p>The standard output and standard error output of the baker will be logged with prefix <code>name</code> and color <code>color</code>.</p><p>Default <code>event_pipe</code> is a temporary file whose name is derived from <code>name</code>. It will be created as a named pipe so that baker events can be received.</p><p>The <code>Node.t</code> parameter is the node used by the baker. The baker is configured to use the node's data dir.</p><p>The <code>Client.t</code> parameter is the client used by the baker. The baker is configured to use the client's base directory.</p><p>If <code>runner</code> is specified, the baker will be spawned on this runner using SSH.</p><p><code>delegates</code> is a list of account aliases (see <code>Account.key.alias</code>), e.g., bootstrap accounts (see <code>Constant.bootstrap_keys</code>), delegated to this baker. This defaults to the empty list, which is a shortcut for &quot;every known account&quot;.</p><p><code>votefile</code>, <code>liquidity_baking_toggle_vote</code>, <code>force_apply_from_round</code>, <code>state_recorder</code>, <code>node_version_check_bypass</code>, <code>node_version_allowed</code> respectively <code>operations_pool</code> are passed to the baker daemon through the flags <code>--votefile</code>, <code>--liquidity-baking-toggle-vote</code>, <code>--should-apply</code>, <code>--record-state</code>, <code>--node-version-check-bypass</code>, <code>--node-version-allowed</code> respectively <code>--operations-pool</code>.</p><p>If <code>remote_mode</code> is specified, the baker will run in RPC-only mode.</p><p>If <code>dal_node</code> is specified, then it is the DAL node that the baker queries in order to determine the attestations it sends to the L1 node. A <code>--dal_node</code> argument is passed to specify the DAL node's endpoint.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_block_injection"><a href="#val-log_block_injection" class="anchor"></a><code><span><span class="keyword">val</span> log_block_injection : <span><span class="optlabel">?color</span>:<span class="xref-unresolved">Tezt_wrapper</span>.Log.Color.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Log block injection events.</p><p>Show the baker daemon name, level and round of the block, and delegate for which it was injected.</p><p>This log is relatively lightweight and a good indicator of chain progress during a test. It can also be useful to observe baking rights at the levels and rounds featured in a test.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_shortened_events"><a href="#val-log_shortened_events" class="anchor"></a><code><span><span class="keyword">val</span> log_shortened_events : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Log all baker events with <code>Log.info</code> on a single line each, which should be easily readable by a human.</p><p>This function should not be called by any test on a permanent basis, but is available for debugging.</p><p>If an event has an unexpected format, the anomaly is signaled with <code>Log.warn</code>.</p><p>If you want to see all events, don't forget to launch the baker with</p><pre class="language-ocaml"><code>~event_sections_levels:
  [(String.concat &quot;.&quot; [Protocol.encoding_prefix protocol; &quot;baker&quot;], `Debug)]</code></pre></div></div></div></body></html>
