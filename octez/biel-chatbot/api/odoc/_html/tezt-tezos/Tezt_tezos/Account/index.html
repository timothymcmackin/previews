<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Account (tezt-tezos.Tezt_tezos.Account)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezt-tezos</a> &#x00BB; <a href="../index.html">Tezt_tezos</a> &#x00BB; Account</nav><header class="odoc-preamble"><h1>Module <code><span>Tezt_tezos.Account</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-secret_key"><a href="#type-secret_key" class="anchor"></a><code><span><span class="keyword">type</span> secret_key</span><span> = </span></code><ol><li id="type-secret_key.Unencrypted" class="def variant constructor anchored"><a href="#type-secret_key.Unencrypted" class="anchor"></a><code><span>| </span><span><span class="constructor">Unencrypted</span> <span class="keyword">of</span> string</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The string does NOT contain the 'encrypted:' prefix</p><span class="comment-delim">*)</span></div></li><li id="type-secret_key.Encrypted" class="def variant constructor anchored"><a href="#type-secret_key.Encrypted" class="anchor"></a><code><span>| </span><span><span class="constructor">Encrypted</span> <span class="keyword">of</span> string</span></code></li></ol></div><div class="spec-doc"><p>This type is used to construct values for secret keys.</p><p>Note: The tests only use unencrypted keys for the moment, please add new constructors for other keys here, as needed.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-key"><a href="#type-key" class="anchor"></a><code><span><span class="keyword">type</span> key</span><span> = </span><span>{</span></code><ol><li id="type-key.alias" class="def record field anchored"><a href="#type-key.alias" class="anchor"></a><code><span>alias : string;</span></code></li><li id="type-key.public_key_hash" class="def record field anchored"><a href="#type-key.public_key_hash" class="anchor"></a><code><span>public_key_hash : string;</span></code></li><li id="type-key.public_key" class="def record field anchored"><a href="#type-key.public_key" class="anchor"></a><code><span>public_key : string;</span></code></li><li id="type-key.secret_key" class="def record field anchored"><a href="#type-key.secret_key" class="anchor"></a><code><span>secret_key : <a href="#type-secret_key">secret_key</a>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Keys associated to an account. For example:</p><pre class="language-ocaml"><code>{
  alias = &quot;bootstrap1&quot;;
  public_key_hash = &quot;tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx&quot;;
  public_key = &quot;edpkuBknW28nW72KG6RoHtYW7p12T6GKc7nAbwYX5m8Wd9sDVC9yav&quot;;
  secret_key =
    Unencrypted &quot;edsk3gUfUPyBSfrS9CCgmCiQsTCHGkviBDusMxDJstFtojtc1zcpsh&quot;;
}</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-key_typ"><a href="#val-key_typ" class="anchor"></a><code><span><span class="keyword">val</span> key_typ : <span><a href="#type-key">key</a> <span class="xref-unresolved">Tezt_wrapper</span>.Check.typ</span></span></code></div><div class="spec-doc"><p>A <code>Check.typ</code> for <code>key</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sign_bytes"><a href="#val-sign_bytes" class="anchor"></a><code><span><span class="keyword">val</span> sign_bytes : 
  <span><span class="label">watermark</span>:<a href="../../../octez-libs/Tezos_crypto/Signature/index.html#type-watermark">Tezos_crypto.Signature.watermark</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">signer</span>:<a href="#type-key">key</a> <span class="arrow">&#45;&gt;</span></span>
  <span>bytes <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../octez-libs/Tezos_crypto/Signature/index.html#type-t">Tezos_crypto.Signature.t</a></span></code></div><div class="spec-doc"><p><code>sign_bytes ~watermark ~signer message</code> signs the bytes <code>message</code> with <code>signer</code>'s secret key. Returns the corresponding Tezos signature. This function can be used to sign transactions, blocks, etc. depending on the given <code>watermark</code>.</p><p>Used for regular accounts.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-require_unencrypted_secret_key"><a href="#val-require_unencrypted_secret_key" class="anchor"></a><code><span><span class="keyword">val</span> require_unencrypted_secret_key : <span><span class="label">__LOC__</span>:string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-secret_key">secret_key</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>require_unencrypted_secret_key ~__LOC__ key</code> returns <code>sk</code> if <code>key</code> is <code>Unencrypted sk</code>, or fails.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-uri_of_secret_key"><a href="#val-uri_of_secret_key" class="anchor"></a><code><span><span class="keyword">val</span> uri_of_secret_key : <span><a href="#type-secret_key">secret_key</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>uri_of_secret_key secret_key</code> returns <code>secret_key</code> as an URI.</p><p>The URI of a secret key is its contents prefixed <code>unencrypted:</code> respectively <code>encrypted:</code> if it is unencrypted respetively encrypted.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-secret_key_typ"><a href="#val-secret_key_typ" class="anchor"></a><code><span><span class="keyword">val</span> secret_key_typ : <span><a href="#type-secret_key">secret_key</a> <span class="xref-unresolved">Tezt_wrapper</span>.Check.typ</span></span></code></div><div class="spec-doc"><p>A <code>Check.typ</code> for <code>secret_key</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write"><a href="#val-write" class="anchor"></a><code><span><span class="keyword">val</span> write : <span><span><a href="#type-key">key</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">base_dir</span>:string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>write keys ~base_dir</code> writes the keys into the <code>octez-client</code>'s data directory <code>base_dir</code>. This function has the same effect as importing all the keys manually via <code>octez-client</code> but is faster.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bootstrap"><a href="#module-Bootstrap" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bootstrap/index.html">Bootstrap</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_client_output"><a href="#val-parse_client_output" class="anchor"></a><code><span><span class="keyword">val</span> parse_client_output : <span><span class="label">alias</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">client_output</span>:string <span class="arrow">&#45;&gt;</span></span> <a href="#type-key">key</a></span></code></div><div class="spec-doc"><p><code>parse_client_output ~alias ~client_output</code> extracts keys from clients output that yields result of the form</p><pre>      Hash: tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx
      Public Key: edpkuBknW28nW72KG6RoHtYW7p12T6GKc7nAbwYX5m8Wd9sDVC9yav
      Secret Key: unencrypted:edsk3gUfUPyBSfrS9CCgmCiQsTCHGkviBDusMxDJstFtojtc1zcpsh</pre><p>and returns the corresponding key.</p></div></div></div></body></html>
