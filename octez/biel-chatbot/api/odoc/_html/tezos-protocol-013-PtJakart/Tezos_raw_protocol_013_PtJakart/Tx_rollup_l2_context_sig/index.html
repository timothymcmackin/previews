<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tx_rollup_l2_context_sig (tezos-protocol-013-PtJakart.Tezos_raw_protocol_013_PtJakart.Tx_rollup_l2_context_sig)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-protocol-013-PtJakart</a> &#x00BB; <a href="../index.html">Tezos_raw_protocol_013_PtJakart</a> &#x00BB; Tx_rollup_l2_context_sig</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_raw_protocol_013_PtJakart.Tx_rollup_l2_context_sig</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-signature"><a href="#type-signature" class="anchor"></a><code><span><span class="keyword">type</span> signature</span><span> =
  <a href="../../Tezos_protocol_environment_013_PtJakart/Bls_signature/index.html#type-signature">Tezos_protocol_environment_013_PtJakart.Bls_signature.signature</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-signature_encoding"><a href="#val-signature_encoding" class="anchor"></a><code><span><span class="keyword">val</span> signature_encoding : 
  <span><a href="../../Tezos_protocol_environment_013_PtJakart/Bls_signature/index.html#type-signature">Tezos_protocol_environment_013_PtJakart.Bls_signature.signature</a>
    <a href="../../Tezos_protocol_environment_013_PtJakart/Data_encoding/index.html#type-encoding">Tezos_protocol_environment_013_PtJakart.Data_encoding.encoding</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Ticket_indexable"><a href="#module-Ticket_indexable" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Ticket_indexable/index.html">Ticket_indexable</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-address_index"><a href="#type-address_index" class="anchor"></a><code><span><span class="keyword">type</span> address_index</span><span> = <a href="../Tx_rollup_l2_address/Indexable/index.html#type-index">Tx_rollup_l2_address.Indexable.index</a></span></code></div><div class="spec-doc"><p>An integer used to identified a layer-2 address. See <code>Tx_rollup_l2_address.index</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ticket_index"><a href="#type-ticket_index" class="anchor"></a><code><span><span class="keyword">type</span> ticket_index</span><span> = <a href="Ticket_indexable/index.html#type-index">Ticket_indexable.index</a></span></code></div><div class="spec-doc"><p>An integer used to identified a layer-1 ticket deposited in a transaction rollup.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-metadata"><a href="#type-metadata" class="anchor"></a><code><span><span class="keyword">type</span> metadata</span><span> = </span><span>{</span></code><ol><li id="type-metadata.counter" class="def record field anchored"><a href="#type-metadata.counter" class="anchor"></a><code><span>counter : int64;</span></code></li><li id="type-metadata.public_key" class="def record field anchored"><a href="#type-metadata.public_key" class="anchor"></a><code><span>public_key : <a href="../../Tezos_protocol_environment_013_PtJakart/Bls_signature/index.html#type-pk">Tezos_protocol_environment_013_PtJakart.Bls_signature.pk</a>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>The metadata associated to a layer-2 address.</p><p>The counter is an counter-measure against replay attack. Each operation is signed with an integer (its counter). The counter is incremented when the operation is applied. This prevents the operation to be applied once again, since its integer will not be in sync with the counter of the account. The choice of <code>int64</code> for the type of the counter theoretically prevents the rollup to an integer overflow. However, it can only happen if a single account makes more than <code>1.8446744e+19</code> operations. If an account sends 1000 operations per seconds, it would take them more than 5845420 centuries to achieve that.</p><p>The <code>public_key</code> allows to authenticate the owner of the address, by verifying BLS signatures.</p></div></div><div class="odoc-spec"><div class="spec type extension anchored" id="extension-decl-Balance_too_low"><a href="#extension-decl-Balance_too_low" class="anchor"></a><code><span><span class="keyword">type</span> <a href="../../Tezos_protocol_environment_013_PtJakart/Error_monad/index.html#type-error">Tezos_protocol_environment_013_PtJakart.Error_monad.error</a> += </span></code><ol><li id="extension-Balance_too_low" class="def variant extension anchored"><a href="#extension-Balance_too_low" class="anchor"></a><code><span>| </span><span><span class="extension">Balance_too_low</span></span></code></li><li id="extension-Balance_overflow" class="def variant extension anchored"><a href="#extension-Balance_overflow" class="anchor"></a><code><span>| </span><span><span class="extension">Balance_overflow</span></span></code></li><li id="extension-Invalid_quantity" class="def variant extension anchored"><a href="#extension-Invalid_quantity" class="anchor"></a><code><span>| </span><span><span class="extension">Invalid_quantity</span></span></code></li><li id="extension-Unknown_address_index" class="def variant extension anchored"><a href="#extension-Unknown_address_index" class="anchor"></a><code><span>| </span><span><span class="extension">Unknown_address_index</span> <span class="keyword">of</span> <a href="#type-address_index">address_index</a></span></code></li><li id="extension-Metadata_already_initialized" class="def variant extension anchored"><a href="#extension-Metadata_already_initialized" class="anchor"></a><code><span>| </span><span><span class="extension">Metadata_already_initialized</span> <span class="keyword">of</span> <a href="#type-address_index">address_index</a></span></code></li><li id="extension-Too_many_l2_addresses" class="def variant extension anchored"><a href="#extension-Too_many_l2_addresses" class="anchor"></a><code><span>| </span><span><span class="extension">Too_many_l2_addresses</span></span></code></li><li id="extension-Too_many_l2_tickets" class="def variant extension anchored"><a href="#extension-Too_many_l2_tickets" class="anchor"></a><code><span>| </span><span><span class="extension">Too_many_l2_tickets</span></span></code></li><li id="extension-Counter_overflow" class="def variant extension anchored"><a href="#extension-Counter_overflow" class="anchor"></a><code><span>| </span><span><span class="extension">Counter_overflow</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-CONTEXT"><a href="#module-type-CONTEXT" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-CONTEXT/index.html">CONTEXT</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This module type describes the API of the <code>Tx_rollup</code> context, which is used to implement the semantics of the L2 operations.</p></div></div></div></body></html>
