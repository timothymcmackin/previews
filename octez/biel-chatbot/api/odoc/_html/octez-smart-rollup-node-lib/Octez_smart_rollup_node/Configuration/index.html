<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Configuration (octez-smart-rollup-node-lib.Octez_smart_rollup_node.Configuration)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-smart-rollup-node-lib</a> &#x00BB; <a href="../index.html">Octez_smart_rollup_node</a> &#x00BB; Configuration</nav><header class="odoc-preamble"><h1>Module <code><span>Octez_smart_rollup_node.Configuration</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-mode"><a href="#type-mode" class="anchor"></a><code><span><span class="keyword">type</span> mode</span><span> = </span></code><ol><li id="type-mode.Observer" class="def variant constructor anchored"><a href="#type-mode.Observer" class="anchor"></a><code><span>| </span><span><span class="constructor">Observer</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Only follows the chain and reconstructs inboxes</p><span class="comment-delim">*)</span></div></li><li id="type-mode.Accuser" class="def variant constructor anchored"><a href="#type-mode.Accuser" class="anchor"></a><code><span>| </span><span><span class="constructor">Accuser</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Only publishes commitments for conflicts and play refutation games</p><span class="comment-delim">*)</span></div></li><li id="type-mode.Bailout" class="def variant constructor anchored"><a href="#type-mode.Bailout" class="anchor"></a><code><span>| </span><span><span class="constructor">Bailout</span></span></code></li><li id="type-mode.Batcher" class="def variant constructor anchored"><a href="#type-mode.Batcher" class="anchor"></a><code><span>| </span><span><span class="constructor">Batcher</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Accept transactions in its queue and batches them on the L1</p><span class="comment-delim">*)</span></div></li><li id="type-mode.Maintenance" class="def variant constructor anchored"><a href="#type-mode.Maintenance" class="anchor"></a><code><span>| </span><span><span class="constructor">Maintenance</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Follows the chain and publishes commitments</p><span class="comment-delim">*)</span></div></li><li id="type-mode.Operator" class="def variant constructor anchored"><a href="#type-mode.Operator" class="anchor"></a><code><span>| </span><span><span class="constructor">Operator</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Equivalent to maintenance + batcher</p><span class="comment-delim">*)</span></div></li><li id="type-mode.Custom" class="def variant constructor anchored"><a href="#type-mode.Custom" class="anchor"></a><code><span>| </span><span><span class="constructor">Custom</span> <span class="keyword">of</span> <span><a href="../../../octez-l2-libs/Octez_smart_rollup/Operation_kind/index.html#type-t">Octez_smart_rollup.Operation_kind.t</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>In this mode, the system handles only the specific operation kinds defined by the user, allowing for tailored control and flexibility.</p><span class="comment-delim">*)</span></div></li></ol></div><div class="spec-doc"><p>Mode for the rollup node</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-batcher"><a href="#type-batcher" class="anchor"></a><code><span><span class="keyword">type</span> batcher</span><span> = </span><span>{</span></code><ol><li id="type-batcher.min_batch_elements" class="def record field anchored"><a href="#type-batcher.min_batch_elements" class="anchor"></a><code><span>min_batch_elements : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The minimum number elements in a batch for it to be produced when the batcher receives new messages.</p><span class="comment-delim">*)</span></div></li><li id="type-batcher.min_batch_size" class="def record field anchored"><a href="#type-batcher.min_batch_size" class="anchor"></a><code><span>min_batch_size : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The minimum size in bytes of a batch for it to be produced when the batcher receives new messages.</p><span class="comment-delim">*)</span></div></li><li id="type-batcher.max_batch_elements" class="def record field anchored"><a href="#type-batcher.max_batch_elements" class="anchor"></a><code><span>max_batch_elements : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The maximum number of elements that we can put in a batch.</p><span class="comment-delim">*)</span></div></li><li id="type-batcher.max_batch_size" class="def record field anchored"><a href="#type-batcher.max_batch_size" class="anchor"></a><code><span>max_batch_size : <span>int option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The maximum size in bytes of a batch.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Configuration for the batcher.</p><p>Invariants:</p><ul><li>0 &lt; <code>min_batch_size</code> &lt;= <code>max_batch_size</code> &lt;= <code>protocol_max_batch_size</code></li><li>0 &lt; <code>min_batch_elements</code> &lt;= <code>max_batch_elements</code></li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-injector"><a href="#type-injector" class="anchor"></a><code><span><span class="keyword">type</span> injector</span><span> = </span><span>{</span></code><ol><li id="type-injector.retention_period" class="def record field anchored"><a href="#type-injector.retention_period" class="anchor"></a><code><span>retention_period : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The number of blocks during which the injector will keep track of an operation (in addition to the confirmation period).</p><span class="comment-delim">*)</span></div></li><li id="type-injector.attempts" class="def record field anchored"><a href="#type-injector.attempts" class="anchor"></a><code><span>attempts : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The number of attempts that will be made to inject an operation.</p><span class="comment-delim">*)</span></div></li><li id="type-injector.injection_ttl" class="def record field anchored"><a href="#type-injector.injection_ttl" class="anchor"></a><code><span>injection_ttl : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The number of blocks after which an operation that is injected but never included is retried.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fee_parameters"><a href="#type-fee_parameters" class="anchor"></a><code><span><span class="keyword">type</span> fee_parameters</span><span> =
  <span><a href="../../../octez-injector/Octez_injector/Injector_common/index.html#type-fee_parameter">Octez_injector.Injector_common.fee_parameter</a>
    <a href="../../../octez-l2-libs/Octez_smart_rollup/Operation_kind/Map/index.html#type-t">Octez_smart_rollup.Operation_kind.Map.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-gc_parameters"><a href="#type-gc_parameters" class="anchor"></a><code><span><span class="keyword">type</span> gc_parameters</span><span> = </span><span>{</span></code><ol><li id="type-gc_parameters.frequency_in_blocks" class="def record field anchored"><a href="#type-gc_parameters.frequency_in_blocks" class="anchor"></a><code><span>frequency_in_blocks : <span>int32 option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Frequency at which the GC is triggered.</p><span class="comment-delim">*)</span></div></li><li id="type-gc_parameters.context_splitting_period" class="def record field anchored"><a href="#type-gc_parameters.context_splitting_period" class="anchor"></a><code><span>context_splitting_period : <span>int option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Number of blocks before splitting the context.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-history_mode"><a href="#type-history_mode" class="anchor"></a><code><span><span class="keyword">type</span> history_mode</span><span> = <a href="../../../octez-l2-libs/Octez_smart_rollup_node_store/Store/State/index.html#type-history_mode">Octez_smart_rollup_node_store.Store.State.history_mode</a></span><span> = </span></code><ol><li id="type-history_mode.Archive" class="def variant constructor anchored"><a href="#type-history_mode.Archive" class="anchor"></a><code><span>| </span><span><span class="constructor">Archive</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The whole history of the rollup (starting at its genesis) is kept</p><span class="comment-delim">*)</span></div></li><li id="type-history_mode.Full" class="def variant constructor anchored"><a href="#type-history_mode.Full" class="anchor"></a><code><span>| </span><span><span class="constructor">Full</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Only the history necessary to play refutation games is kept (i.e. after the LCC only)</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outbox_destination_filter"><a href="#type-outbox_destination_filter" class="anchor"></a><code><span><span class="keyword">type</span> outbox_destination_filter</span><span> = </span></code><ol><li id="type-outbox_destination_filter.Any_destination" class="def variant constructor anchored"><a href="#type-outbox_destination_filter.Any_destination" class="anchor"></a><code><span>| </span><span><span class="constructor">Any_destination</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Accept any destination.</p><span class="comment-delim">*)</span></div></li><li id="type-outbox_destination_filter.Destination_among" class="def variant constructor anchored"><a href="#type-outbox_destination_filter.Destination_among" class="anchor"></a><code><span>| </span><span><span class="constructor">Destination_among</span> <span class="keyword">of</span> <span>string list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Accept destination which match the given list (in base58-check).</p><span class="comment-delim">*)</span></div></li></ol></div><div class="spec-doc"><p>Filter on destination of outbox message transactions.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outbox_entrypoint_filter"><a href="#type-outbox_entrypoint_filter" class="anchor"></a><code><span><span class="keyword">type</span> outbox_entrypoint_filter</span><span> = </span></code><ol><li id="type-outbox_entrypoint_filter.Any_entrypoint" class="def variant constructor anchored"><a href="#type-outbox_entrypoint_filter.Any_entrypoint" class="anchor"></a><code><span>| </span><span><span class="constructor">Any_entrypoint</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Accept any entrypoint.</p><span class="comment-delim">*)</span></div></li><li id="type-outbox_entrypoint_filter.Entrypoint_among" class="def variant constructor anchored"><a href="#type-outbox_entrypoint_filter.Entrypoint_among" class="anchor"></a><code><span>| </span><span><span class="constructor">Entrypoint_among</span> <span class="keyword">of</span> <span>string list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Accept entrypoints which are listed.</p><span class="comment-delim">*)</span></div></li></ol></div><div class="spec-doc"><p>Filter on entrypoints of outbox message transactions.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outbox_message_filter"><a href="#type-outbox_message_filter" class="anchor"></a><code><span><span class="keyword">type</span> outbox_message_filter</span><span> = </span></code><ol><li id="type-outbox_message_filter.Transaction" class="def variant constructor anchored"><a href="#type-outbox_message_filter.Transaction" class="anchor"></a><code><span>| </span><span><span class="constructor">Transaction</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-outbox_message_filter.destination" class="def record field anchored"><a href="#type-outbox_message_filter.destination" class="anchor"></a><code><span>destination : <a href="#type-outbox_destination_filter">outbox_destination_filter</a>;</span></code></li><li id="type-outbox_message_filter.entrypoint" class="def record field anchored"><a href="#type-outbox_message_filter.entrypoint" class="anchor"></a><code><span>entrypoint : <a href="#type-outbox_entrypoint_filter">outbox_entrypoint_filter</a>;</span></code></li></ol><code><span>}</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Accept transactions which match the filter on their destination and entrypoint.</p><span class="comment-delim">*)</span></div></li></ol></div><div class="spec-doc"><p>Filter on outbox messages executed by the rollup node automatically.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><ol><li id="type-t.sc_rollup_address" class="def record field anchored"><a href="#type-t.sc_rollup_address" class="anchor"></a><code><span>sc_rollup_address : <a href="../../../octez-libs/Tezos_crypto/Hashed/Smart_rollup_address/index.html#type-t">Tezos_crypto.Hashed.Smart_rollup_address.t</a>;</span></code></li><li id="type-t.boot_sector_file" class="def record field anchored"><a href="#type-t.boot_sector_file" class="anchor"></a><code><span>boot_sector_file : <span>string option</span>;</span></code></li><li id="type-t.operators" class="def record field anchored"><a href="#type-t.operators" class="anchor"></a><code><span>operators : <a href="../Purpose/index.html#type-operators">Purpose.operators</a>;</span></code></li><li id="type-t.rpc_addr" class="def record field anchored"><a href="#type-t.rpc_addr" class="anchor"></a><code><span>rpc_addr : string;</span></code></li><li id="type-t.rpc_port" class="def record field anchored"><a href="#type-t.rpc_port" class="anchor"></a><code><span>rpc_port : int;</span></code></li><li id="type-t.acl" class="def record field anchored"><a href="#type-t.acl" class="anchor"></a><code><span>acl : <a href="../../../octez-libs/Tezos_rpc_http_server/RPC_server/Acl/index.html#type-policy">Tezos_rpc_http_server.RPC_server.Acl.policy</a>;</span></code></li><li id="type-t.metrics_addr" class="def record field anchored"><a href="#type-t.metrics_addr" class="anchor"></a><code><span>metrics_addr : <span>string option</span>;</span></code></li><li id="type-t.performance_metrics" class="def record field anchored"><a href="#type-t.performance_metrics" class="anchor"></a><code><span>performance_metrics : bool;</span></code></li><li id="type-t.reconnection_delay" class="def record field anchored"><a href="#type-t.reconnection_delay" class="anchor"></a><code><span>reconnection_delay : float;</span></code></li><li id="type-t.fee_parameters" class="def record field anchored"><a href="#type-t.fee_parameters" class="anchor"></a><code><span>fee_parameters : <a href="#type-fee_parameters">fee_parameters</a>;</span></code></li><li id="type-t.mode" class="def record field anchored"><a href="#type-t.mode" class="anchor"></a><code><span>mode : <a href="#type-mode">mode</a>;</span></code></li><li id="type-t.loser_mode" class="def record field anchored"><a href="#type-t.loser_mode" class="anchor"></a><code><span>loser_mode : <a href="../Loser_mode/index.html#type-t">Loser_mode.t</a>;</span></code></li><li id="type-t.apply_unsafe_patches" class="def record field anchored"><a href="#type-t.apply_unsafe_patches" class="anchor"></a><code><span>apply_unsafe_patches : bool;</span></code></li><li id="type-t.unsafe_pvm_patches" class="def record field anchored"><a href="#type-t.unsafe_pvm_patches" class="anchor"></a><code><span>unsafe_pvm_patches : <span><a href="../Pvm_patches/index.html#type-unsafe_patch">Pvm_patches.unsafe_patch</a> list</span>;</span></code></li><li id="type-t.execute_outbox_messages_filter" class="def record field anchored"><a href="#type-t.execute_outbox_messages_filter" class="anchor"></a><code><span>execute_outbox_messages_filter : <span><a href="#type-outbox_message_filter">outbox_message_filter</a> list</span>;</span></code></li><li id="type-t.dal_node_endpoint" class="def record field anchored"><a href="#type-t.dal_node_endpoint" class="anchor"></a><code><span>dal_node_endpoint : <span><span class="xref-unresolved">Uri</span>.t option</span>;</span></code></li><li id="type-t.pre_images_endpoint" class="def record field anchored"><a href="#type-t.pre_images_endpoint" class="anchor"></a><code><span>pre_images_endpoint : <span><span class="xref-unresolved">Uri</span>.t option</span>;</span></code></li><li id="type-t.batcher" class="def record field anchored"><a href="#type-t.batcher" class="anchor"></a><code><span>batcher : <a href="#type-batcher">batcher</a>;</span></code></li><li id="type-t.injector" class="def record field anchored"><a href="#type-t.injector" class="anchor"></a><code><span>injector : <a href="#type-injector">injector</a>;</span></code></li><li id="type-t.l1_blocks_cache_size" class="def record field anchored"><a href="#type-t.l1_blocks_cache_size" class="anchor"></a><code><span>l1_blocks_cache_size : int;</span></code></li><li id="type-t.l2_blocks_cache_size" class="def record field anchored"><a href="#type-t.l2_blocks_cache_size" class="anchor"></a><code><span>l2_blocks_cache_size : int;</span></code></li><li id="type-t.prefetch_blocks" class="def record field anchored"><a href="#type-t.prefetch_blocks" class="anchor"></a><code><span>prefetch_blocks : <span>int option</span>;</span></code></li><li id="type-t.l1_rpc_timeout" class="def record field anchored"><a href="#type-t.l1_rpc_timeout" class="anchor"></a><code><span>l1_rpc_timeout : float;</span></code></li><li id="type-t.loop_retry_delay" class="def record field anchored"><a href="#type-t.loop_retry_delay" class="anchor"></a><code><span>loop_retry_delay : float;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Delay in seconds to retry the main loop and the refutation loop after an error.</p><span class="comment-delim">*)</span></div></li><li id="type-t.index_buffer_size" class="def record field anchored"><a href="#type-t.index_buffer_size" class="anchor"></a><code><span>index_buffer_size : <span>int option</span>;</span></code></li><li id="type-t.irmin_cache_size" class="def record field anchored"><a href="#type-t.irmin_cache_size" class="anchor"></a><code><span>irmin_cache_size : <span>int option</span>;</span></code></li><li id="type-t.log_kernel_debug" class="def record field anchored"><a href="#type-t.log_kernel_debug" class="anchor"></a><code><span>log_kernel_debug : bool;</span></code></li><li id="type-t.unsafe_disable_wasm_kernel_checks" class="def record field anchored"><a href="#type-t.unsafe_disable_wasm_kernel_checks" class="anchor"></a><code><span>unsafe_disable_wasm_kernel_checks : bool;</span></code></li><li id="type-t.no_degraded" class="def record field anchored"><a href="#type-t.no_degraded" class="anchor"></a><code><span>no_degraded : bool;</span></code></li><li id="type-t.gc_parameters" class="def record field anchored"><a href="#type-t.gc_parameters" class="anchor"></a><code><span>gc_parameters : <a href="#type-gc_parameters">gc_parameters</a>;</span></code></li><li id="type-t.history_mode" class="def record field anchored"><a href="#type-t.history_mode" class="anchor"></a><code><span>history_mode : <span><a href="#type-history_mode">history_mode</a> option</span>;</span></code></li><li id="type-t.cors" class="def record field anchored"><a href="#type-t.cors" class="anchor"></a><code><span>cors : <a href="../../../octez-libs/Resto_cohttp/Cors/index.html#type-t">Resto_cohttp.Cors.t</a>;</span></code></li><li id="type-t.bail_on_disagree" class="def record field anchored"><a href="#type-t.bail_on_disagree" class="anchor"></a><code><span>bail_on_disagree : bool;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type extension anchored" id="extension-decl-Empty_operation_kinds_for_custom_mode"><a href="#extension-decl-Empty_operation_kinds_for_custom_mode" class="anchor"></a><code><span><span class="keyword">type</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-error">Tezos_base.TzPervasives.error</a> += </span></code><ol><li id="extension-Empty_operation_kinds_for_custom_mode" class="def variant extension anchored"><a href="#extension-Empty_operation_kinds_for_custom_mode" class="anchor"></a><code><span>| </span><span><span class="extension">Empty_operation_kinds_for_custom_mode</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-history_mode_of_string"><a href="#val-history_mode_of_string" class="anchor"></a><code><span><span class="keyword">val</span> history_mode_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-history_mode">history_mode</a></span></code></div><div class="spec-doc"><p><code>history_mode_of_string s</code> parses a history_mode from the given string <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_history_mode"><a href="#val-string_of_history_mode" class="anchor"></a><code><span><span class="keyword">val</span> string_of_history_mode : <span><a href="#type-history_mode">history_mode</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>string_of_history_mode p</code> returns a string representation of history_mode <code>p</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_data_dir"><a href="#val-default_data_dir" class="anchor"></a><code><span><span class="keyword">val</span> default_data_dir : string</span></code></div><div class="spec-doc"><p><code>default_data_dir</code> is the default value for <code>data_dir</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_storage_dir"><a href="#val-default_storage_dir" class="anchor"></a><code><span><span class="keyword">val</span> default_storage_dir : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>default_storage_dir</code> returns the default value of the storage dir given a <code>data_dir</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_context_dir"><a href="#val-default_context_dir" class="anchor"></a><code><span><span class="keyword">val</span> default_context_dir : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>default_context_dir</code> returns the default value of the directory for persisting the context given a <code>data_dir</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_rpc_addr"><a href="#val-default_rpc_addr" class="anchor"></a><code><span><span class="keyword">val</span> default_rpc_addr : string</span></code></div><div class="spec-doc"><p><code>default_rpc_addr</code> is the default value for <code>rpc_addr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_rpc_port"><a href="#val-default_rpc_port" class="anchor"></a><code><span><span class="keyword">val</span> default_rpc_port : int</span></code></div><div class="spec-doc"><p><code>default_rpc_port</code> is the default value for <code>rpc_port</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_acl"><a href="#val-default_acl" class="anchor"></a><code><span><span class="keyword">val</span> default_acl : <a href="../../../octez-libs/Tezos_rpc_http_server/RPC_server/Acl/index.html#type-policy">Tezos_rpc_http_server.RPC_server.Acl.policy</a></span></code></div><div class="spec-doc"><p><code>default_acl</code> is the default value for <code>acl</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_metrics_port"><a href="#val-default_metrics_port" class="anchor"></a><code><span><span class="keyword">val</span> default_metrics_port : int</span></code></div><div class="spec-doc"><p><code>default_metrics_port</code> is the default port for the metrics server.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_reconnection_delay"><a href="#val-default_reconnection_delay" class="anchor"></a><code><span><span class="keyword">val</span> default_reconnection_delay : float</span></code></div><div class="spec-doc"><p><code>default_reconnection_delay</code> is the default value for <code>reconnection_delay</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_fee_parameter"><a href="#val-default_fee_parameter" class="anchor"></a><code><span><span class="keyword">val</span> default_fee_parameter : 
  <span><a href="../../../octez-l2-libs/Octez_smart_rollup/Operation_kind/index.html#type-t">Octez_smart_rollup.Operation_kind.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../octez-injector/Octez_injector/Injector_common/index.html#type-fee_parameter">Octez_injector.Injector_common.fee_parameter</a></span></code></div><div class="spec-doc"><p><code>default_fee_parameter operation_kind</code> is the default fee parameter to inject operation on L1. If <code>operation_kind</code> is provided, it returns the default fee parameter for this kind of operation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_fee_parameters"><a href="#val-default_fee_parameters" class="anchor"></a><code><span><span class="keyword">val</span> default_fee_parameters : <a href="#type-fee_parameters">fee_parameters</a></span></code></div><div class="spec-doc"><p><code>default_fee_parameters</code> is the default fee parameters configuration build with <a href="#val-default_fee_parameter"><code>default_fee_parameter</code></a> for all purposes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_batcher"><a href="#val-default_batcher" class="anchor"></a><code><span><span class="keyword">val</span> default_batcher : <a href="#type-batcher">batcher</a></span></code></div><div class="spec-doc"><p><code>default_batcher</code> is the default configuration parameters for the batcher.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_injector"><a href="#val-default_injector" class="anchor"></a><code><span><span class="keyword">val</span> default_injector : <a href="#type-injector">injector</a></span></code></div><div class="spec-doc"><p><code>default_injector</code> is the default configuration parameters for the injector.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_l1_blocks_cache_size"><a href="#val-default_l1_blocks_cache_size" class="anchor"></a><code><span><span class="keyword">val</span> default_l1_blocks_cache_size : int</span></code></div><div class="spec-doc"><p><code>default_l1_blocks_cache_size</code> is the default number of L1 blocks that are cached by the rollup node</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_l2_blocks_cache_size"><a href="#val-default_l2_blocks_cache_size" class="anchor"></a><code><span><span class="keyword">val</span> default_l2_blocks_cache_size : int</span></code></div><div class="spec-doc"><p><code>default_l2_blocks_cache_size</code> is the default number of L2 blocks that are cached by the rollup node</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_l1_rpc_timeout"><a href="#val-default_l1_rpc_timeout" class="anchor"></a><code><span><span class="keyword">val</span> default_l1_rpc_timeout : float</span></code></div><div class="spec-doc"><p>Default timeout for RPCs to the L1 node.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_gc_parameters"><a href="#val-default_gc_parameters" class="anchor"></a><code><span><span class="keyword">val</span> default_gc_parameters : <a href="#type-gc_parameters">gc_parameters</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_history_mode"><a href="#val-default_history_mode" class="anchor"></a><code><span><span class="keyword">val</span> default_history_mode : <a href="#type-history_mode">history_mode</a></span></code></div><div class="spec-doc"><p><code>default_history_mode</code> is the default history mode for the rollup node (<a href="#type-history_mode.Full"><code>Full</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_execute_outbox_filter"><a href="#val-default_execute_outbox_filter" class="anchor"></a><code><span><span class="keyword">val</span> default_execute_outbox_filter : <span><a href="#type-outbox_message_filter">outbox_message_filter</a> list</span></span></code></div><div class="spec-doc"><p>Default filter for executing outbox messages is only whitelist updates.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-history_mode_encoding"><a href="#val-history_mode_encoding" class="anchor"></a><code><span><span class="keyword">val</span> history_mode_encoding : 
  <span><a href="#type-history_mode">history_mode</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-max_injector_retention_period"><a href="#val-max_injector_retention_period" class="anchor"></a><code><span><span class="keyword">val</span> max_injector_retention_period : int</span></code></div><div class="spec-doc"><p><code>max_injector_retention_period</code> is the maximum allowed value for <code>injector_retention_period</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-modes"><a href="#val-modes" class="anchor"></a><code><span><span class="keyword">val</span> modes : <span><a href="#type-mode">mode</a> list</span></span></code></div><div class="spec-doc"><p>This is the list of available modes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_mode"><a href="#val-string_of_mode" class="anchor"></a><code><span><span class="keyword">val</span> string_of_mode : <span><a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>string_of_mode mode</code> returns a string representation of the mode specified by the argument <code>mode</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mode_of_string"><a href="#val-mode_of_string" class="anchor"></a><code><span><span class="keyword">val</span> mode_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-mode">mode</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>mode_of_string s</code> returns the mode represented by string <code>s</code> if it exists.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-description_of_mode"><a href="#val-description_of_mode" class="anchor"></a><code><span><span class="keyword">val</span> description_of_mode : <span><a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>description_of_mode m</code> returns a textual description of the mode <code>m</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-config_filename"><a href="#val-config_filename" class="anchor"></a><code><span><span class="keyword">val</span> config_filename : <span><span class="label">data_dir</span>:string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>config_filename data_dir</code> returns the configration filename from the <code>data_dir</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-purposes_of_mode"><a href="#val-purposes_of_mode" class="anchor"></a><code><span><span class="keyword">val</span> purposes_of_mode : <span><a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Purpose/index.html#type-ex_purpose">Purpose.ex_purpose</a> list</span></span></code></div><div class="spec-doc"><p><code>purposes_of_mode mode</code> returns purposes associated with the provided mode.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-operation_kinds_of_mode"><a href="#val-operation_kinds_of_mode" class="anchor"></a><code><span><span class="keyword">val</span> operation_kinds_of_mode : <span><a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../octez-l2-libs/Octez_smart_rollup/Operation_kind/index.html#type-t">Octez_smart_rollup.Operation_kind.t</a> list</span></span></code></div><div class="spec-doc"><p><code>operation_kinds_of_mode mode</code> returns operation kinds with the provided mode.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-can_inject"><a href="#val-can_inject" class="anchor"></a><code><span><span class="keyword">val</span> can_inject : <span><a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../octez-l2-libs/Octez_smart_rollup/Operation_kind/index.html#type-t">Octez_smart_rollup.Operation_kind.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>can_inject mode op_kind</code> determines if a given operation kind can be injected based on the configuration settings.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-purposes_matches_mode"><a href="#val-purposes_matches_mode" class="anchor"></a><code><span><span class="keyword">val</span> purposes_matches_mode : <span><a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'kind</span> <a href="../Purpose/index.html#type-t">Purpose.t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>purposes_matches_mode mode purposes</code> returns true if and only if the given <code>mode</code> supports the given <code>purposes</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-refutation_player_buffer_levels"><a href="#val-refutation_player_buffer_levels" class="anchor"></a><code><span><span class="keyword">val</span> refutation_player_buffer_levels : int</span></code></div><div class="spec-doc"><p>Number of levels the refutation player waits until trying to play for a game state it already played before.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_irmin_cache_size"><a href="#val-default_irmin_cache_size" class="anchor"></a><code><span><span class="keyword">val</span> default_irmin_cache_size : int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_index_buffer_size"><a href="#val-default_index_buffer_size" class="anchor"></a><code><span><span class="keyword">val</span> default_index_buffer_size : int</span></code></div><div class="spec-doc"><p>The `default_index_buffer_size` defines the maximum amount of memory reserved for caching index entries before they are written to disk. Essentially, this cache aids the efficiency of the index. The total cache capacity is determined by `index_buffer_size * entry`, with each `entry` occupying approximately 56 bytes. An `entry` represents a single log record which can encompass various details such as a timestamp, message content, severity level, etc.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encoding"><a href="#val-encoding" class="anchor"></a><code><span><span class="keyword">val</span> encoding : <span><a href="#type-t">t</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding for configuration.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encoding_no_default"><a href="#val-encoding_no_default" class="anchor"></a><code><span><span class="keyword">val</span> encoding_no_default : <span><a href="#type-t">t</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding for configuration without any default value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-save"><a href="#val-save" class="anchor"></a><code><span><span class="keyword">val</span> save : 
  <span><span class="label">force</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">data_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>save ~force ~data_dir configuration</code> writes the <code>configuration</code> file in <code>data_dir</code>. If <code>force</code> is <code>true</code>, existing configurations are overwritten.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : <span><span class="label">data_dir</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>load ~data_dir</code> loads a configuration stored in <code>data_dir</code>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Cli"><a href="#module-Cli" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Cli/index.html">Cli</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
