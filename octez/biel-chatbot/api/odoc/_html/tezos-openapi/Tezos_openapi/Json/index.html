<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Json (tezos-openapi.Tezos_openapi.Json)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-openapi</a> &#x00BB; <a href="../index.html">Tezos_openapi</a> &#x00BB; Json</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_openapi.Json</span></code></h1><p>Helpers to read JSON values.</p><p>Contains functions to parse JSON values, show them for debugging, and extract information from them.</p><p>Functions which extract information are rather strict: they don't try to be smart and automatically convert. For instance, <code>as_record</code> makes sure that all fields are taken into account. This is suited to write a tool that must be updated when the format of JSON values being manipulated changes. In our case, if the JSON schemas we read start to get more fields, we want to know; otherwise the resulting OpenAPI specification could be inaccurate.</p></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <span class="xref-unresolved">JSON</span> <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-error"><a href="#type-error" class="anchor"></a><code><span><span class="keyword">type</span> error</span><span> = <span class="xref-unresolved">JSON</span>.error</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_error"><a href="#val-show_error" class="anchor"></a><code><span><span class="keyword">val</span> show_error : <span><a href="#type-error">error</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Error</span> <span class="keyword">of</span> <a href="#type-error">error</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-u"><a href="#type-u" class="anchor"></a><code><span><span class="keyword">type</span> u</span><span> = <span class="xref-unresolved">Ezjsonm</span>.value</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <span class="xref-unresolved">JSON</span>.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error"><a href="#val-error" class="anchor"></a><code><span><span class="keyword">val</span> error : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, unit, string, <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-annotate"><a href="#val-annotate" class="anchor"></a><code><span><span class="keyword">val</span> annotate : <span><span class="label">origin</span>:string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-u">u</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unannotate"><a href="#val-unannotate" class="anchor"></a><code><span><span class="keyword">val</span> unannotate : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-u">u</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode"><a href="#val-encode" class="anchor"></a><code><span><span class="keyword">val</span> encode : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode_u"><a href="#val-encode_u" class="anchor"></a><code><span><span class="keyword">val</span> encode_u : <span><a href="#type-u">u</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode_to_file"><a href="#val-encode_to_file" class="anchor"></a><code><span><span class="keyword">val</span> encode_to_file : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode_to_file_u"><a href="#val-encode_to_file_u" class="anchor"></a><code><span><span class="keyword">val</span> encode_to_file_u : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-u">u</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_file"><a href="#val-parse_file" class="anchor"></a><code><span><span class="keyword">val</span> parse_file : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : <span><span class="label">origin</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_opt"><a href="#val-parse_opt" class="anchor"></a><code><span><span class="keyword">val</span> parse_opt : <span><span class="label">origin</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(|-&gt;)"><a href="#val-(|-&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (|-&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-geti"><a href="#val-geti" class="anchor"></a><code><span><span class="keyword">val</span> geti : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(|=&gt;)"><a href="#val-(|=&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (|=&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-put"><a href="#val-put" class="anchor"></a><code><span><span class="keyword">val</span> put : <span><span>(string * <a href="#type-t">t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update"><a href="#val-update" class="anchor"></a><code><span><span class="keyword">val</span> update : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_map_object"><a href="#val-filter_map_object" class="anchor"></a><code><span><span class="keyword">val</span> filter_map_object : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_object"><a href="#val-filter_object" class="anchor"></a><code><span><span class="keyword">val</span> filter_object : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-merge_objects"><a href="#val-merge_objects" class="anchor"></a><code><span><span class="keyword">val</span> merge_objects : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_null"><a href="#val-is_null" class="anchor"></a><code><span><span class="keyword">val</span> is_null : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_opt"><a href="#val-as_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_bool"><a href="#val-as_bool" class="anchor"></a><code><span><span class="keyword">val</span> as_bool : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_bool_opt"><a href="#val-as_bool_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_bool_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_bool"><a href="#val-is_bool" class="anchor"></a><code><span><span class="keyword">val</span> is_bool : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_int"><a href="#val-as_int" class="anchor"></a><code><span><span class="keyword">val</span> as_int : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_int_opt"><a href="#val-as_int_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_int_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_int"><a href="#val-is_int" class="anchor"></a><code><span><span class="keyword">val</span> is_int : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_int64"><a href="#val-as_int64" class="anchor"></a><code><span><span class="keyword">val</span> as_int64 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int64</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_int64_opt"><a href="#val-as_int64_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_int64_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int64 option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_int64"><a href="#val-is_int64" class="anchor"></a><code><span><span class="keyword">val</span> is_int64 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_int32"><a href="#val-as_int32" class="anchor"></a><code><span><span class="keyword">val</span> as_int32 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int32</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_int32_opt"><a href="#val-as_int32_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_int32_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int32 option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_int32"><a href="#val-is_int32" class="anchor"></a><code><span><span class="keyword">val</span> is_int32 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_float"><a href="#val-as_float" class="anchor"></a><code><span><span class="keyword">val</span> as_float : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_float_opt"><a href="#val-as_float_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_float_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_float"><a href="#val-is_float" class="anchor"></a><code><span><span class="keyword">val</span> is_float : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_string"><a href="#val-as_string" class="anchor"></a><code><span><span class="keyword">val</span> as_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_string_opt"><a href="#val-as_string_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_string_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_string"><a href="#val-is_string" class="anchor"></a><code><span><span class="keyword">val</span> is_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_list"><a href="#val-as_list" class="anchor"></a><code><span><span class="keyword">val</span> as_list : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_list_opt"><a href="#val-as_list_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_list_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_list"><a href="#val-is_list" class="anchor"></a><code><span><span class="keyword">val</span> is_list : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_object"><a href="#val-as_object" class="anchor"></a><code><span><span class="keyword">val</span> as_object : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <a href="#type-t">t</a>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_object_opt"><a href="#val-as_object_opt" class="anchor"></a><code><span><span class="keyword">val</span> as_object_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(string * <a href="#type-t">t</a>)</span> list</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_object"><a href="#val-is_object" class="anchor"></a><code><span><span class="keyword">val</span> is_object : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal_u"><a href="#val-equal_u" class="anchor"></a><code><span><span class="keyword">val</span> equal_u : <span><a href="#type-u">u</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-u">u</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_variant"><a href="#val-as_variant" class="anchor"></a><code><span><span class="keyword">val</span> as_variant : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string * <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_variant_named"><a href="#val-as_variant_named" class="anchor"></a><code><span><span class="keyword">val</span> as_variant_named : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(|~&gt;)"><a href="#val-(|~&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (|~&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_record"><a href="#val-as_record" class="anchor"></a><code><span><span class="keyword">val</span> as_record : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-output"><a href="#val-output" class="anchor"></a><code><span><span class="keyword">val</span> output : <span><span class="xref-unresolved">Ezjsonm</span>.value <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>
