<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Agent_builtins (octogram.Octogram.Agent_builtins)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octogram</a> &#x00BB; <a href="../index.html">Octogram</a> &#x00BB; Agent_builtins</nav><header class="odoc-preamble"><h1>Module <code><span>Octogram.Agent_builtins</span></code></h1><p>This module introduces the remote procedure allowing to manage the lifecycle of a remote agent.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-agent_should_continue"><a href="#val-agent_should_continue" class="anchor"></a><code><span><span class="keyword">val</span> agent_should_continue : <span><a href="../Agent_state/index.html#type-t">Agent_state.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-start_http_server"><a href="#type-start_http_server" class="anchor"></a><code><span><span class="keyword">type</span> start_http_server</span><span> = </span><span>{</span></code><ol><li id="type-start_http_server.directory" class="def record field anchored"><a href="#type-start_http_server.directory" class="anchor"></a><code><span>directory : string;</span></code></li><li id="type-start_http_server.http_port" class="def record field anchored"><a href="#type-start_http_server.http_port" class="anchor"></a><code><span>http_port : <span>string option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-start_http_server_r"><a href="#type-start_http_server_r" class="anchor"></a><code><span><span class="keyword">type</span> start_http_server_r</span><span> = </span><span>{</span></code><ol><li id="type-start_http_server_r.port" class="def record field anchored"><a href="#type-start_http_server_r.port" class="anchor"></a><code><span>port : int;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-action"><a href="#type-action" class="anchor"></a><code><span><span class="keyword">type</span> action</span><span> = </span></code><ol><li id="type-action.Create" class="def variant constructor anchored"><a href="#type-action.Create" class="anchor"></a><code><span>| </span><span><span class="constructor">Create</span></span></code></li><li id="type-action.Extract" class="def variant constructor anchored"><a href="#type-action.Extract" class="anchor"></a><code><span>| </span><span><span class="constructor">Extract</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tar"><a href="#type-tar" class="anchor"></a><code><span><span class="keyword">type</span> <span>'uri tar</span></span><span> = </span><span>{</span></code><ol><li id="type-tar.contents" class="def record field anchored"><a href="#type-tar.contents" class="anchor"></a><code><span>contents : string;</span></code></li><li id="type-tar.archive" class="def record field anchored"><a href="#type-tar.archive" class="anchor"></a><code><span>archive : <span class="type-var">'uri</span>;</span></code></li><li id="type-tar.action" class="def record field anchored"><a href="#type-tar.action" class="anchor"></a><code><span>action : <a href="#type-action">action</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type extension anchored" id="extension-decl-Quit"><a href="#extension-decl-Quit" class="anchor"></a><code><span><span class="keyword">type</span> <a href="../Remote_procedure/index.html#type-t">Remote_procedure.t</a> += </span></code><ol><li id="extension-Quit" class="def variant extension anchored"><a href="#extension-Quit" class="anchor"></a><code><span>| </span><span><span class="extension">Quit</span> : <span><span>(unit, <span class="type-var">'uri</span>)</span> <a href="../Remote_procedure/index.html#type-t">Remote_procedure.t</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>Quit</code> can be used to terminate an agent gracefully.</p><span class="comment-delim">*)</span></div></li><li id="extension-Start_http_server" class="def variant extension anchored"><a href="#extension-Start_http_server" class="anchor"></a><code><span>| </span><span><span class="extension">Start_http_server</span> : <a href="#type-start_http_server">start_http_server</a> <span class="arrow">&#45;&gt;</span> <span><span>(<a href="#type-start_http_server_r">start_http_server_r</a>, <span class="type-var">'uri</span>)</span>
                                           <a href="../Remote_procedure/index.html#type-t">Remote_procedure.t</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>Start_http_server</code> spawns a HTTP server on the agent, which can later be used to fetch files from it.</p><p>Each agent can spawn at most one HTTP server.</p><span class="comment-delim">*)</span></div></li><li id="extension-Tar" class="def variant extension anchored"><a href="#extension-Tar" class="anchor"></a><code><span>| </span><span><span class="extension">Tar</span> : <span><span class="type-var">'uri</span> <a href="#type-tar">tar</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(unit, <span class="type-var">'uri</span>)</span> <a href="../Remote_procedure/index.html#type-t">Remote_procedure.t</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>Tar</code> requests an agent to <code>Create</code> or <code>Extract</code> an archive.</p><p>When <code>Extract</code>ing, the <code>archive</code> can be on a remote agent. In such a case, the HTTP server of this agent will be used as a means to fetch the archive.</p><span class="comment-delim">*)</span></div></li></ol></div></div></div></body></html>
