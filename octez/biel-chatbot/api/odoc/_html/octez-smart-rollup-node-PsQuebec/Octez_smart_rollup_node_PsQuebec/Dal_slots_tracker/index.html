<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dal_slots_tracker (octez-smart-rollup-node-PsQuebec.Octez_smart_rollup_node_PsQuebec.Dal_slots_tracker)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-smart-rollup-node-PsQuebec</a> &#x00BB; <a href="../index.html">Octez_smart_rollup_node_PsQuebec</a> &#x00BB; Dal_slots_tracker</nav><header class="odoc-preamble"><h1>Module <code><span>Octez_smart_rollup_node_PsQuebec.Dal_slots_tracker</span></code></h1><p>The rollup node keeps the list of dal slots for each block it needs to process. This is to determine whether the inbox for a given block will need to be retrieved from the block operations, or from the data availability layer after lag levels have passed and the slot for the block has been declared available.</p><p>The state of slots per block is persistent.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-process_head"><a href="#val-process_head" class="anchor"></a><code><span><span class="keyword">val</span> process_head : 
  <span><a href="../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Node_context/index.html#type-rw">Octez_smart_rollup_node.Node_context.rw</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Layer1/index.html#type-head">Octez_smart_rollup_node.Layer1.head</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>process_head node_ctxt head</code> performs the following operations:</p><ul><li>it reads the attestations for headers published attestation_lag levels preceding <code>head</code> from the block metadata, determines which ones the rollup node will download, and stores the results in <code>Store.Dal_confirmed_slots</code>.</li></ul></div></div></div></body></html>
