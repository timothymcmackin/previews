<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Alcotest_lwt (octez-alcotezt.Octez_alcotezt.Alcotest_lwt)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-alcotezt</a> &#x00BB; <a href="../index.html">Octez_alcotezt</a> &#x00BB; Alcotest_lwt</nav><header class="odoc-preamble"><h1>Module <code><span>Octez_alcotezt.Alcotest_lwt</span></code></h1><p>Wrapper to run Alcotest tests with Tezt as a backend.</p></header><div class="odoc-content"><p>This module provides a subset of the interface of the <code>Alcotest</code> module of the real Alcotest library. But instead of using Alcotest to run the tests, it uses Tezt. This allows to transition from Alcotest to Tezt without having to actually change the code. In turn, this allows to benefit from Tezt features such as auto-balancing in the CI. One can then use Tezt's modules in the test, to gradually migrate the test to Tezt and stop using this wrapper.</p><div class="odoc-spec"><div class="spec type anchored" id="type-return"><a href="#type-return" class="anchor"></a><code><span><span class="keyword">type</span> return</span><span> = <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Return type for tests.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-speed_level"><a href="#type-speed_level" class="anchor"></a><code><span><span class="keyword">type</span> speed_level</span><span> = </span><span>[ </span></code><ol><li id="type-speed_level.Quick" class="def variant constructor anchored"><a href="#type-speed_level.Quick" class="anchor"></a><code><span>| </span><span>`Quick</span></code></li><li id="type-speed_level.Slow" class="def variant constructor anchored"><a href="#type-speed_level.Slow" class="anchor"></a><code><span>| </span><span>`Slow</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Speed levels. Same as <a href="../Alcotest/index.html#type-speed_level"><code>Alcotest.speed_level</code></a>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-test_case"><a href="#type-test_case" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a test_case</span></span><span> = string * <a href="#type-speed_level">speed_level</a> * <span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-return">return</a>)</span></span></code></div><div class="spec-doc"><p>Test cases.</p><p>The name of the Alcotest test case appears in Tezt's logs, but it is not used in the Tezt test title, nor as a tag.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-test_case"><a href="#val-test_case" class="anchor"></a><code><span><span class="keyword">val</span> test_case : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-speed_level">speed_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="xref-unresolved">Lwt_switch</span>.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-return">return</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="#type-test_case">test_case</a></span></span></code></div><div class="spec-doc"><p>Make a test case.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-test_case_sync"><a href="#val-test_case_sync" class="anchor"></a><code><span><span class="keyword">val</span> test_case_sync : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-speed_level">speed_level</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-test_case">test_case</a></span></span></code></div><div class="spec-doc"><p>Make a test case (out of Lwt).</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-test"><a href="#type-test" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a test</span></span><span> = string * <span><span><span class="type-var">'a</span> <a href="#type-test_case">test_case</a></span> list</span></span></code></div><div class="spec-doc"><p>Tests.</p><p>In Tezt, the name of the test is used as the title of the test.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-run"><a href="#val-run" class="anchor"></a><code><span><span class="keyword">val</span> run : <span><span class="label">__FILE__</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>unit <a href="#type-test">test</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-return">return</a></span></code></div><div class="spec-doc"><p>Run a test suite.</p><p>In Tezt, this calls <code>Test.register</code> but does not actually run the test suite. The name of the test suite is used as the filename for the Tezt test.</p></div></div></div></body></html>
