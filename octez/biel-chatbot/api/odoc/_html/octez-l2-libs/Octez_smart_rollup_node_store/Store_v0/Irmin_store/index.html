<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Irmin_store (octez-l2-libs.Octez_smart_rollup_node_store.Store_v0.Irmin_store)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">octez-l2-libs</a> &#x00BB; <a href="../../index.html">Octez_smart_rollup_node_store</a> &#x00BB; <a href="../index.html">Store_v0</a> &#x00BB; Irmin_store</nav><header class="odoc-preamble"><h1>Module <code><span>Store_v0.Irmin_store</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-name"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_key_path"><a href="#val-make_key_path" class="anchor"></a><code><span><span class="keyword">val</span> make_key_path : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : 
  <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Tezos_layer2_store__Store_sigs.mode</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-flush"><a href="#val-flush" class="anchor"></a><code><span><span class="keyword">val</span> flush : <span><span><span>[&gt; `Write ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-close"><a href="#val-close" class="anchor"></a><code><span><span class="keyword">val</span> close : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : 
  <span><span><span>[&gt; `Write ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>bytes <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : 
  <span><span><span>[&gt; `Read ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>bytes <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : 
  <span><span><span>[&gt; `Read ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>bool <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : 
  <span><span><span>[&gt; `Read ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>bytes option</span> <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-path_to_string"><a href="#val-path_to_string" class="anchor"></a><code><span><span class="keyword">val</span> path_to_string : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-readonly"><a href="#val-readonly" class="anchor"></a><code><span><span class="keyword">val</span> readonly : <span><span><span>[&gt; `Read ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>[ `Read ]</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Raw_irmin"><a href="#module-Raw_irmin" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Raw_irmin/index.html">Raw_irmin</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Store/index.html">Tezos_layer2_store.Store_sigs.Store</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Store/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec module anchored" id="module-Make_updatable_map"><a href="#module-Make_updatable_map" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_updatable_map/index.html">Make_updatable_map</a></span><span>
  (<a href="Make_updatable_map/argument-1-S/index.html">S</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-STORAGE_INFO/index.html">Tezos_layer2_store.Store_sigs.STORAGE_INFO</a>)
  (<a href="Make_updatable_map/argument-2-K/index.html">K</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-KEY/index.html">Tezos_layer2_store.Store_sigs.KEY</a>)
  (<a href="Make_updatable_map/argument-3-V/index.html">V</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-VALUE/index.html">Tezos_layer2_store.Store_sigs.VALUE</a>) : 
  <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Map/index.html">Tezos_layer2_store.Store_sigs.Map</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Map/index.html#type-store">store</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Map/index.html#type-key">key</a> = <a href="Make_updatable_map/argument-2-K/index.html#type-key">K.key</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Map/index.html#type-value">value</a> = <a href="Make_updatable_map/argument-3-V/index.html#type-value">V.value</a></span></span></code></div><div class="spec-doc"><p><code>Make_updatable_map(S)(K)(V)</code> constructs a <code>Map</code> which can be persisted on store. The module <code>S</code> defines storage-dependent information about how the map will be saved on and retrieved from the store (for example, it defines the map location in the store). The module <code>K</code> defines the information related to keys of the map, and the module <code>V</code> contains information about how values will be stored to and retrieved from the store. The resulting map allows to update the contents of an existing value for a key.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_append_only_map"><a href="#module-Make_append_only_map" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_append_only_map/index.html">Make_append_only_map</a></span><span>
  (<a href="Make_append_only_map/argument-1-S/index.html">S</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-STORAGE_INFO/index.html">Tezos_layer2_store.Store_sigs.STORAGE_INFO</a>)
  (<a href="Make_append_only_map/argument-2-K/index.html">K</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-KEY/index.html">Tezos_layer2_store.Store_sigs.KEY</a>)
  (<a href="Make_append_only_map/argument-3-V/index.html">V</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-VALUE/index.html">Tezos_layer2_store.Store_sigs.VALUE</a>) : 
  <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Append_only_map/index.html">Tezos_layer2_store.Store_sigs.Append_only_map</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Append_only_map/index.html#type-store">store</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Append_only_map/index.html#type-key">key</a> = <a href="Make_append_only_map/argument-2-K/index.html#type-key">K.key</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Append_only_map/index.html#type-value">value</a> = <a href="Make_append_only_map/argument-3-V/index.html#type-value">V.value</a></span></span></code></div><div class="spec-doc"><p><code>Make_append_only_map(S)(K)(V)</code> constructs an <code>Append_only_map</code> which can be persisted on store. The module <code>S</code> defines storage-dependent information about how the map will be saved on and retrieved from the store (for example, it defines the map location in the store). The module <code>K</code> contains information related to keys of the map, and the module <code>V</code> contains information about how values will be stored to and retrieved from the store. The resulting map forbids updating the contents of an existing value with a new value, different from the previous one.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_mutable_value"><a href="#module-Make_mutable_value" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_mutable_value/index.html">Make_mutable_value</a></span><span>
  (<a href="Make_mutable_value/argument-1-S/index.html">S</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-STORAGE_INFO/index.html">Tezos_layer2_store.Store_sigs.STORAGE_INFO</a>)
  (<a href="Make_mutable_value/argument-2-V/index.html">V</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-VALUE/index.html">Tezos_layer2_store.Store_sigs.VALUE</a>) : 
  <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Mutable_value/index.html">Tezos_layer2_store.Store_sigs.Mutable_value</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Mutable_value/index.html#type-store">store</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Mutable_value/index.html#type-value">value</a> = <a href="Make_mutable_value/argument-2-V/index.html#type-value">V.value</a></span></span></code></div><div class="spec-doc"><p><code>Make_mutable_value(S)(V)</code> constructs a <code>Mutable_value</code> for persisting a mutable value in a store. The module parameter <code>S</code> defines the location of the mutable value in the store, and the module parameter <code>V</code> contains information about the type of values that the constructed module will persist in the underlying store.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_nested_map"><a href="#module-Make_nested_map" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_nested_map/index.html">Make_nested_map</a></span><span>
  (<a href="Make_nested_map/argument-1-S/index.html">S</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-STORAGE_INFO/index.html">Tezos_layer2_store.Store_sigs.STORAGE_INFO</a>)
  (<a href="Make_nested_map/argument-2-K1/index.html">K1</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-KEY/index.html">Tezos_layer2_store.Store_sigs.KEY</a>)
  (<a href="Make_nested_map/argument-3-K2/index.html">K2</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-COMPARABLE_KEY/index.html">Tezos_layer2_store.Store_sigs.COMPARABLE_KEY</a>)
  (<a href="Make_nested_map/argument-4-V/index.html">V</a> : <a href="../../../Tezos_layer2_store/Store_sigs/module-type-VALUE/index.html">Tezos_layer2_store.Store_sigs.VALUE</a>) : 
  <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Nested_map/index.html">Tezos_layer2_store.Store_sigs.Nested_map</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Nested_map/index.html#type-store">store</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Nested_map/index.html#type-primary_key">primary_key</a> = <a href="Make_nested_map/argument-2-K1/index.html#type-key">K1.key</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Nested_map/index.html#type-secondary_key">secondary_key</a> = <a href="Make_nested_map/argument-3-K2/index.html#type-key">K2.key</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../Tezos_layer2_store/Store_sigs/module-type-Nested_map/index.html#type-value">value</a> = <a href="Make_nested_map/argument-4-V/index.html#type-value">V.value</a></span></span></code></div><div class="spec-doc"><p>Make_nested_map(S)(K1)(K2)(V) constructs a <code>Nested_map</code> module using module parameter <code>S</code> to define where the map is going to be persisted on store, <code>K1</code> and <code>K2</code> to define the primary and secondary key, respectively, and <code>V</code> to define the values of the resulting <code>Nested_map</code>.</p></div></div></details></div></div></body></html>
