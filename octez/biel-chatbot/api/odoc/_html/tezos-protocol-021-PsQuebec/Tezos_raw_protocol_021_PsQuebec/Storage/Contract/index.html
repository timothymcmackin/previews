<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Contract (tezos-protocol-021-PsQuebec.Tezos_raw_protocol_021_PsQuebec.Storage.Contract)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-protocol-021-PsQuebec</a> &#x00BB; <a href="../../index.html">Tezos_raw_protocol_021_PsQuebec</a> &#x00BB; <a href="../index.html">Storage</a> &#x00BB; Contract</nav><header class="odoc-preamble"><h1>Module <code><span>Storage.Contract</span></code></h1><p>Storage from this submodule must only be accessed through the module `Contract`.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Global_counter"><a href="#module-Global_counter" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Global_counter/index.html">Global_counter</a></span><span> : 
  <a href="../module-type-Simple_single_data_storage/index.html">Simple_single_data_storage</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-Simple_single_data_storage/index.html#type-value">value</a> = <a href="../../Manager_counter_repr/index.html#type-t">Manager_counter_repr.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : 
  <span><a href="../../Raw_context/index.html#type-t">Raw_context.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">order</span>:<span>[ `Sorted <span>| `Undefined</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../../../Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>The domain of alive contracts</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list"><a href="#val-list" class="anchor"></a><code><span><span class="keyword">val</span> list : 
  <span><a href="../../Raw_context/index.html#type-t">Raw_context.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> list</span> <a href="../../../Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-local_context"><a href="#type-local_context" class="anchor"></a><code><span><span class="keyword">type</span> local_context</span></code></div><div class="spec-doc"><p>see <a href="../../Raw_context_intf/module-type-T/index.html#type-local_context"><code>Raw_context_intf.T.local_context</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_local_context"><a href="#val-with_local_context" class="anchor"></a><code><span><span class="keyword">val</span> with_local_context : 
  <span><a href="../../Raw_context/index.html#type-t">Raw_context.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="#type-local_context">local_context</a> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span>(<a href="#type-local_context">local_context</a> * <span class="type-var">'a</span>)</span>
      <a href="../../../Tezos_protocol_environment_021_PsQuebec/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_021_PsQuebec.Error_monad.tzresult</a></span>
      <a href="../../../Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <span class="type-var">'a</span>)</span>
    <a href="../../../Tezos_protocol_environment_021_PsQuebec/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_021_PsQuebec.Error_monad.tzresult</a></span>
    <a href="../../../Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>see <a href="../../Raw_context_intf/module-type-T/index.html#val-with_local_context"><code>Raw_context_intf.T.with_local_context</code></a></p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Spendable_balance"><a href="#module-Spendable_balance" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Spendable_balance/index.html">Spendable_balance</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html">Storage_sigs.Indexed_data_storage_with_local_context</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-local_context">local_context</a> := <a href="#type-local_context">local_context</a></span></span></code></div><div class="spec-doc"><p>The tez possessed by a contract and that can be used. A contract may also possess tez in frozen deposits. Empty balances (of zero tez) are only allowed for originated contracts, not for implicit ones.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Missed_attestations"><a href="#module-Missed_attestations" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Missed_attestations/index.html">Missed_attestations</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../index.html#type-missed_attestations_info">missed_attestations_info</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>If the value is not set, the delegate didn't miss any attesting opportunity. If it is set, this value is a record of type <code>missed_attestations_info</code>, where:</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Manager"><a href="#module-Manager" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Manager/index.html">Manager</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html">Storage_sigs.Indexed_data_storage_with_local_context</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-value">value</a> = <a href="../../Manager_repr/index.html#type-t">Manager_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-local_context">local_context</a> := <a href="#type-local_context">local_context</a></span></span></code></div><div class="spec-doc"><p>The manager of a contract</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Consensus_key"><a href="#module-Consensus_key" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Consensus_key/index.html">Consensus_key</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> =
           <a href="../../../Tezos_protocol_environment_021_PsQuebec/Signature/Public_key/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Signature.Public_key.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>The active consensus key of a delegate</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Delegate"><a href="#module-Delegate" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Delegate/index.html">Delegate</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> =
           <a href="../../../Tezos_protocol_environment_021_PsQuebec/Signature/Public_key_hash/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Signature.Public_key_hash.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>The delegate of a contract, if any.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Staking_parameters"><a href="#module-Staking_parameters" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Staking_parameters/index.html">Staking_parameters</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Staking_parameters_repr/index.html#type-t">Staking_parameters_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Delegated"><a href="#module-Delegated" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Delegated/index.html">Delegated</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Data_set_storage/index.html">Storage_sigs.Data_set_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-elt">elt</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-t">t</a> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span></span></code></div><div class="spec-doc"><p>All contracts (implicit and originated) that are delegated, if any</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Unstaked_frozen_deposits"><a href="#module-Unstaked_frozen_deposits" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Unstaked_frozen_deposits/index.html">Unstaked_frozen_deposits</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Unstaked_frozen_deposits_repr/index.html#type-t">Unstaked_frozen_deposits_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>Tez that were part of frozen deposits (either <code>own_frozen</code> or <code>staked_frozen</code> in <code>Staking_balance</code>) but have been requested to be unstaked by a staker. They won't be part of the stake for future distributions. For cycles <code>current_cycle - consensus_rights_delay - max_slashing_period + 1</code> to <code>current_cycle</code> they are still slashable. For cycle <code>current_cycle - consensus_rights_delay - max_slashing_period</code> they are not slashable anymore and hence any other older cycles must be squashed into this one at cycle end.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Unstake_requests"><a href="#module-Unstake_requests" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Unstake_requests/index.html">Unstake_requests</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../Unstake_request/index.html#type-t">Unstake_request.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>The contract's unstake requests that haven't been finalized yet.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Frozen_deposits_pseudotokens"><a href="#module-Frozen_deposits_pseudotokens" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Frozen_deposits_pseudotokens/index.html">Frozen_deposits_pseudotokens</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Staking_pseudotoken_repr/index.html#type-t">Staking_pseudotoken_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>The sum of all pseudotokens owned by stakers corresponding to shares of the <code>staked_frozen</code> in <code>Staking_balance</code>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Staking_pseudotokens"><a href="#module-Staking_pseudotokens" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Staking_pseudotokens/index.html">Staking_pseudotokens</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Staking_pseudotoken_repr/index.html#type-t">Staking_pseudotoken_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>Share of the contract's delegate frozen deposits the contract owns.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Frozen_deposits_limit"><a href="#module-Frozen_deposits_limit" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Frozen_deposits_limit/index.html">Frozen_deposits_limit</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>If there is a value, the frozen balance for the contract won't exceed it (starting in consensus_rights_delay + 1).</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Inactive_delegate"><a href="#module-Inactive_delegate" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Inactive_delegate/index.html">Inactive_delegate</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Data_set_storage/index.html">Storage_sigs.Data_set_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-elt">elt</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-t">t</a> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Delegate_last_cycle_before_deactivation"><a href="#module-Delegate_last_cycle_before_deactivation" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Delegate_last_cycle_before_deactivation/index.html">Delegate_last_cycle_before_deactivation</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Cycle_repr/index.html#type-t">Cycle_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>The last cycle where the delegate is considered active; that is, at the next cycle it will be considered inactive.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Counter"><a href="#module-Counter" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Counter/index.html">Counter</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html">Storage_sigs.Indexed_data_storage_with_local_context</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-value">value</a> = <a href="../../Manager_counter_repr/index.html#type-t">Manager_counter_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage_with_local_context/index.html#type-local_context">local_context</a> := <a href="#type-local_context">local_context</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Code"><a href="#module-Code" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Code/index.html">Code</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html">Storage_sigs.Non_iterable_indexed_carbonated_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-value">value</a> = <a href="../../Script_repr/index.html#type-lazy_expr">Script_repr.lazy_expr</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Storage"><a href="#module-Storage" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Storage/index.html">Storage</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html">Storage_sigs.Non_iterable_indexed_carbonated_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-value">value</a> = <a href="../../Script_repr/index.html#type-lazy_expr">Script_repr.lazy_expr</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Used_storage_space"><a href="#module-Used_storage_space" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Used_storage_space/index.html">Used_storage_space</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../../Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>Current storage space in bytes. Includes code, global storage and big map elements.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Paid_storage_space"><a href="#module-Paid_storage_space" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Paid_storage_space/index.html">Paid_storage_space</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../../Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>Maximal space available without needing to burn new fees.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Frozen_bonds"><a href="#module-Frozen_bonds" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Frozen_bonds/index.html">Frozen_bonds</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html">Storage_sigs.Non_iterable_indexed_carbonated_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-key">key</a> = <a href="../../Bond_id_repr/index.html#type-t">Bond_id_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span></span></code></div><div class="spec-doc"><p>Associates a contract and a bond_id with a bond, i.e. an amount of tez that is frozen.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_bond_ids"><a href="#val-fold_bond_ids" class="anchor"></a><code><span><span class="keyword">val</span> fold_bond_ids : 
  <span><span>(<a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">order</span>:<span>[ `Sorted <span>| `Undefined</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><a href="../../Bond_id_repr/index.html#type-t">Bond_id_repr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../../../Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Total_frozen_bonds"><a href="#module-Total_frozen_bonds" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Total_frozen_bonds/index.html">Total_frozen_bonds</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html">Storage_sigs.Indexed_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>Associates a contract with the total of all its frozen bonds.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Total_supply"><a href="#module-Total_supply" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Total_supply/index.html">Total_supply</a></span><span> : 
  <a href="../../Storage_sigs/module-type-Single_data_storage/index.html">Storage_sigs.Single_data_storage</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Single_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Single_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></span></span></code></div><div class="spec-doc"><p>Stores the amount of tokens currently present on chain</p></div></div></div></body></html>
