<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Version (octez-internal-libs.Irmin_pack.Version)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-internal-libs</a> &#x00BB; <a href="../index.html">Irmin_pack</a> &#x00BB; Version</nav><header class="odoc-preamble"><h1>Module <code><span>Irmin_pack.Version</span></code></h1><p>Management of disk-format versions.</p><p><code>`V2</code> introduced the <code>*_v2</code> kinds and deprecated the <code>*_v1</code> ones. The upgrade of a pack file to <code>`V2</code> was done silently the first time a used pushed a <code>*_v2</code> entry to the pack file.</p><p><code>`V3</code> introduced the control file. It centralizes all the metadata that used to be contained in the header of other files (e.g. the version of the store used to be stored in each files, it is now solely stored in the control file). The upgrade of a store to <code>`V3</code> was done silently when opening a store in rw mode.</p><p><code>`V4</code> introduced the chunked suffix. Upgrade from <code>`V3</code> happened on first write to the control file.</p><p><code>`V5</code> introduced the lower layer. Upgrade happened on first write to the control file.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>[ </span></code><ol><li id="type-t.V1" class="def variant constructor anchored"><a href="#type-t.V1" class="anchor"></a><code><span>| </span><span>`V1</span></code></li><li id="type-t.V2" class="def variant constructor anchored"><a href="#type-t.V2" class="anchor"></a><code><span>| </span><span>`V2</span></code></li><li id="type-t.V3" class="def variant constructor anchored"><a href="#type-t.V3" class="anchor"></a><code><span>| </span><span>`V3</span></code></li><li id="type-t.V4" class="def variant constructor anchored"><a href="#type-t.V4" class="anchor"></a><code><span>| </span><span>`V4</span></code></li><li id="type-t.V5" class="def variant constructor anchored"><a href="#type-t.V5" class="anchor"></a><code><span>| </span><span>`V5</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>The type for version numbers.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-t"><a href="#val-t" class="anchor"></a><code><span><span class="keyword">val</span> t : <span><a href="#type-t">t</a> <span class="xref-unresolved">Irmin</span>.Type.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_int"><a href="#val-to_int" class="anchor"></a><code><span><span class="keyword">val</span> to_int : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-latest"><a href="#val-latest" class="anchor"></a><code><span><span class="keyword">val</span> latest : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="#type-t">t</a> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div><div class="spec-doc"><p><code>pp</code> is the pretty-format for version numbers.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_bin"><a href="#val-to_bin" class="anchor"></a><code><span><span class="keyword">val</span> to_bin : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_bin t</code> is the 8-bytes binary representation of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_bin"><a href="#val-of_bin" class="anchor"></a><code><span><span class="keyword">val</span> of_bin : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div><div class="spec-doc"><p><code>of_bin s</code> is <code>Some t</code> is <code>to_bin t</code> is <code>s</code> and <code>None</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-invalid_arg"><a href="#val-invalid_arg" class="anchor"></a><code><span><span class="keyword">val</span> invalid_arg : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>invalid_arg str</code> raises <code>Invalid_argument</code>.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Invalid"><a href="#exception-Invalid" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Invalid</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Version.expected" class="def record field anchored"><a href="#module-Version.expected" class="anchor"></a><code><span>expected : <a href="#type-t">t</a>;</span></code></li><li id="module-Version.found" class="def record field anchored"><a href="#module-Version.found" class="anchor"></a><code><span>found : <a href="#type-t">t</a>;</span></code></li></ol><code><span>}</span></code></div></div></div></body></html>
