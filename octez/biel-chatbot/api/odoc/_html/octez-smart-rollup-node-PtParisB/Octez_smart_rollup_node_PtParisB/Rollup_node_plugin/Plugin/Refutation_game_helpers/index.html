<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Refutation_game_helpers (octez-smart-rollup-node-PtParisB.Octez_smart_rollup_node_PtParisB.Rollup_node_plugin.Plugin.Refutation_game_helpers)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">octez-smart-rollup-node-PtParisB</a> &#x00BB; <a href="../../../index.html">Octez_smart_rollup_node_PtParisB</a> &#x00BB; <a href="../../index.html">Rollup_node_plugin</a> &#x00BB; <a href="../index.html">Plugin</a> &#x00BB; Refutation_game_helpers</nav><header class="odoc-preamble"><h1>Module <code><span>Plugin.Refutation_game_helpers</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-generate_proof"><a href="#val-generate_proof" class="anchor"></a><code><span><span class="keyword">val</span> generate_proof : 
  <span><a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Node_context/index.html#type-rw">Octez_smart_rollup_node.Node_context.rw</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-l2-libs/Octez_smart_rollup/Game/index.html#type-t">Octez_smart_rollup.Game.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-l2-libs/Tezos_layer2_store/Context/index.html#type-pvmstate">Tezos_layer2_store.Context.pvmstate</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string <a href="../../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>generate_proof node_ctxt (game) start_state</code> generates a serialized proof for the current <code>game</code> for the execution step starting with <code>start_state</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_dissection"><a href="#val-make_dissection" class="anchor"></a><code><span><span class="keyword">val</span> make_dissection : 
  <span><span>(<span class="keyword">module</span> <a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Protocol_plugin_sig/module-type-PARTIAL/index.html">Octez_smart_rollup_node.Protocol_plugin_sig.PARTIAL</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Node_context/index.html#type-rw">Octez_smart_rollup_node.Node_context.rw</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Pvm_plugin_sig/index.html#type-state_cache">Octez_smart_rollup_node.Pvm_plugin_sig.state_cache</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">start_state</span>:
    <span><span><a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Fuel/Accounted/index.html#type-t">Octez_smart_rollup_node.Fuel.Accounted.t</a>
      <a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Pvm_plugin_sig/index.html#type-eval_state">Octez_smart_rollup_node.Pvm_plugin_sig.eval_state</a></span>
      option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">start_chunk</span>:<a href="../../../../../octez-l2-libs/Octez_smart_rollup/Game/index.html#type-dissection_chunk">Octez_smart_rollup.Game.dissection_chunk</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">our_stop_chunk</span>:<a href="../../../../../octez-l2-libs/Octez_smart_rollup/Game/index.html#type-dissection_chunk">Octez_smart_rollup.Game.dissection_chunk</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">default_number_of_sections</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">commitment_period_tick_offset</span>:<span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">last_level</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="../../../../../octez-l2-libs/Octez_smart_rollup/Game/index.html#type-dissection_chunk">Octez_smart_rollup.Game.dissection_chunk</a> <a href="../../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-trace">Tezos_base.TzPervasives.trace</a></span>
    <a href="../../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>make_dissection plugin node_ctxt cache ~start_state ~start_chunk
      ~our_stop_chunk ~default_number_of_sections ~commitment_period_tick_offset
      ~last_level</code> computes a dissection from between <code>start_chunk</code> and <code>our_stop_chunk</code> at level <code>last_level</code>. <code>commitment_period_tick_offset</code> is the tick offset of the commitment period for the conflict/dissection. This dissection has <code>default_number_of_sections</code> if there are enough ticks.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-timeout"><a href="#val-timeout" class="anchor"></a><code><span><span class="keyword">val</span> timeout : 
  <span><span><span class="type-var">_</span> <a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Node_context/index.html#type-t">Octez_smart_rollup_node.Node_context.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">self</span>:<a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">opponent</span>:<a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="../../../../../octez-l2-libs/Octez_smart_rollup/Game/index.html#type-timeout">Octez_smart_rollup.Game.timeout</a> option</span> <a href="../../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>timeout node_ctxt ~self ~opponent</code> returns the current state of the timeout if there is a refutation game between self and opponent.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-timeout_reached"><a href="#val-timeout_reached" class="anchor"></a><code><span><span class="keyword">val</span> timeout_reached : 
  <span><span><span class="type-var">_</span> <a href="../../../../../octez-smart-rollup-node-lib/Octez_smart_rollup_node/Node_context/index.html#type-t">Octez_smart_rollup_node.Node_context.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">self</span>:<a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">opponent</span>:<a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>bool <a href="../../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>timeout_reached node_ctxt ~self ~opponent</code> returns <code>true</code> if the timeout is reached against opponent in head of the L1 chain.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_conflicts"><a href="#val-get_conflicts" class="anchor"></a><code><span><span class="keyword">val</span> get_conflicts : 
  <span><a href="../../../../../octez-shell-libs/Tezos_client_base/Client_context/class-type-full/index.html">Tezos_client_base.Client_context.full</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-l2-libs/Octez_smart_rollup/Address/index.html#type-t">Octez_smart_rollup.Address.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="../../../../../octez-l2-libs/Octez_smart_rollup/Game/index.html#type-conflict">Octez_smart_rollup.Game.conflict</a> list</span> <a href="../../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>get_conflicts cctxt rollup signer</code> returns the conflicts for commitments staked on by <code>signer</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_ongoing_games"><a href="#val-get_ongoing_games" class="anchor"></a><code><span><span class="keyword">val</span> get_ongoing_games : 
  <span><a href="../../../../../octez-shell-libs/Tezos_client_base/Client_context/class-type-full/index.html">Tezos_client_base.Client_context.full</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-l2-libs/Octez_smart_rollup/Address/index.html#type-t">Octez_smart_rollup.Address.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>(<a href="../../../../../octez-l2-libs/Octez_smart_rollup/Game/index.html#type-t">Octez_smart_rollup.Game.t</a>
   * <a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a>
   * <a href="../../../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key_hash">Tezos_crypto.Signature.public_key_hash</a>)</span>
    list</span>
    <a href="../../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>get_ongoing_games cctxt rollup signer</code> returns the games that <code>signer</code> is currently playing.</p></div></div></div></body></html>
