<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>T (tezos-dal-node-lib.Tezos_dal_node_lib.Dal_plugin.T)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-dal-node-lib</a> &#x00BB; <a href="../../index.html">Tezos_dal_node_lib</a> &#x00BB; <a href="../index.html">Dal_plugin</a> &#x00BB; T</nav><header class="odoc-preamble"><h1>Module type <code><span>Dal_plugin.T</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Proto"><a href="#module-Proto" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Proto/index.html">Proto</a></span><span> : <a href="../../../../octez-shell-libs/Tezos_protocol_updater/Registered_protocol/module-type-T/index.html">Tezos_protocol_updater.Registered_protocol.T</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-block_info"><a href="#type-block_info" class="anchor"></a><code><span><span class="keyword">type</span> block_info</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-dal_attestation"><a href="#type-dal_attestation" class="anchor"></a><code><span><span class="keyword">type</span> dal_attestation</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-block_info"><a href="#val-block_info" class="anchor"></a><code><span><span class="keyword">val</span> block_info : 
  <span><span class="optlabel">?chain</span>:<a href="../../../../octez-shell-libs/Tezos_shell_services/Block_services/index.html#type-chain">Tezos_shell_services.Block_services.chain</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?block</span>:<a href="../../../../octez-shell-libs/Tezos_shell_services/Block_services/index.html#type-block">Tezos_shell_services.Block_services.block</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">metadata</span>:<span>[ `Always <span>| `Never</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../octez-libs/Tezos_rpc/Context/class-type-generic/index.html">Tezos_rpc.Context.generic</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-block_info">block_info</a> <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>block_info ?chain ?block ~metadata ctxt</code> returns the information of the <code>block</code> in <code>ctxt</code> for the given <code>chain</code>. Block's metadata are included or skipped depending on the value of <code>metadata</code>. This is a wrapper on top of <code>Protocol_client_context.Alpha_block_services.info</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_constants"><a href="#val-get_constants" class="anchor"></a><code><span><span class="keyword">val</span> get_constants : 
  <span><a href="../../../../octez-shell-libs/Tezos_shell_services/Chain_services/index.html#type-chain">Tezos_shell_services.Chain_services.chain</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../octez-shell-libs/Tezos_shell_services/Block_services/index.html#type-block">Tezos_shell_services.Block_services.block</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../octez-libs/Tezos_rpc/Context/class-type-generic/index.html">Tezos_rpc.Context.generic</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../index.html#type-proto_parameters">proto_parameters</a> <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_published_slot_headers"><a href="#val-get_published_slot_headers" class="anchor"></a><code><span><span class="keyword">val</span> get_published_slot_headers : 
  <span><a href="#type-block_info">block_info</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>(<a href="../index.html#type-slot_header">slot_header</a> * <a href="../index.html#type-operation_application_result">operation_application_result</a>)</span> list</span>
    <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_dal_content_of_attestations"><a href="#val-get_dal_content_of_attestations" class="anchor"></a><code><span><span class="keyword">val</span> get_dal_content_of_attestations : 
  <span><a href="#type-block_info">block_info</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int
   * <span><a href="../../../../octez-libs/Tezos_crypto/Signature/Public_key_hash/index.html#type-t">Tezos_base.TzPervasives.Signature.Public_key_hash.t</a> option</span>
   * <span><a href="#type-dal_attestation">dal_attestation</a> option</span>)</span>
    list</span></span></code></div><div class="spec-doc"><p>For a given block, returns for each included attestation, as a list, its Tenderbake slot, its attester (if available in the operation receipt), and its DAL attestation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_committee"><a href="#val-get_committee" class="anchor"></a><code><span><span class="keyword">val</span> get_committee : 
  <span><a href="../../../../octez-libs/Tezos_rpc/Context/class-type-generic/index.html">Tezos_rpc.Context.generic</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">level</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>int list</span> <a href="../../../../octez-libs/Tezos_crypto/Signature/Public_key_hash/Map/index.html#type-t">Tezos_base.TzPervasives.Signature.Public_key_hash.Map.t</a></span>
    <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>get_committee ctxt ~level</code> retrieves the DAL committee at <code>level</code> from L1 as a map that associates to the public key hash <code>pkh</code> of the member of the committee its assigned shard indexes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dal_attestation"><a href="#val-dal_attestation" class="anchor"></a><code><span><span class="keyword">val</span> dal_attestation : 
  <span><a href="#type-block_info">block_info</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-dal_attestation">dal_attestation</a> <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>dal_attestation block_info</code> returns the metadata of the given <code>block_info</code> as an abstract value of type <code>dal_attestation</code> to be passed to the <code>is_attested</code> function.</p><p>Fails with <code>Cannot_read_block_metadata</code> if <code>block_info</code>'s metadata are stripped.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_attested"><a href="#val-is_attested" class="anchor"></a><code><span><span class="keyword">val</span> is_attested : <span><a href="#type-dal_attestation">dal_attestation</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-slot_index">slot_index</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_attested dal_attestation index</code> returns <code>true</code> if <code>index</code> is one of the <code>dal_attestation</code> and <code>false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_round"><a href="#val-get_round" class="anchor"></a><code><span><span class="keyword">val</span> get_round : 
  <span><a href="../../../../octez-libs/Tezos_base/Fitness/index.html#type-t">Tezos_base.TzPervasives.Fitness.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int32 <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>get_round fitness</code> returns the block round contained in <code>fitness</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-block_shell_header"><a href="#val-block_shell_header" class="anchor"></a><code><span><span class="keyword">val</span> block_shell_header : 
  <span><a href="#type-block_info">block_info</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../../octez-libs/Tezos_base/Block_header/index.html#type-shell_header">Tezos_base.TzPervasives.Block_header.shell_header</a></span></code></div><div class="spec-doc"><p><code>block_shell_header block_info</code> returns the shell header of the block whose information are given .</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Skip_list"><a href="#module-Skip_list" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Skip_list/index.html">Skip_list</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-RPC"><a href="#module-RPC" class="anchor"></a><code><span><span class="keyword">module</span> <a href="RPC/index.html">RPC</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
