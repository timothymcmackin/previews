<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sc_rollup_helpers (octez-protocol-021-PsQuebec-libs.Tezos_021_PsQuebec_test_helpers.Sc_rollup_helpers)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-protocol-021-PsQuebec-libs</a> &#x00BB; <a href="../index.html">Tezos_021_PsQuebec_test_helpers</a> &#x00BB; Sc_rollup_helpers</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_021_PsQuebec_test_helpers.Sc_rollup_helpers</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#inbox-message-helpers.">Inbox message helpers.</a></li><li><a href="#above-alpha_context.">Above <code>Alpha_context</code>.</a></li><li><a href="#below-alpha_context.">Below <code>Alpha_context</code>.</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-originated_rollup"><a href="#val-originated_rollup" class="anchor"></a><code><span><span class="keyword">val</span> originated_rollup : 
  <span><span class="xref-unresolved">Tezos_raw_protocol_021_PsQuebec__Alpha_context.packed_operation</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Tezos_raw_protocol_021_PsQuebec__Alpha_context.Contract.t</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Arith_pvm"><a href="#module-Arith_pvm" class="anchor"></a><code><span><span class="keyword">module</span> Arith_pvm</span><span> = <a href="../../Tezos_smart_rollup_021_PsQuebec/Pvm_in_memory/Arith/index.html">Tezos_smart_rollup_021_PsQuebec.Pvm_in_memory.Arith</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Wasm_pvm"><a href="#module-Wasm_pvm" class="anchor"></a><code><span><span class="keyword">module</span> Wasm_pvm</span><span> = <a href="../../Tezos_smart_rollup_021_PsQuebec/Pvm_in_memory/Wasm/index.html">Tezos_smart_rollup_021_PsQuebec.Pvm_in_memory.Wasm</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_in_memory_context"><a href="#module-Make_in_memory_context" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_in_memory_context/index.html">Make_in_memory_context</a></span><span> (<a href="Make_in_memory_context/argument-1-Context/index.html">Context</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Wrong_in_memory_context"><a href="#module-Wrong_in_memory_context" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Wrong_in_memory_context/index.html">Wrong_in_memory_context</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Wrong_arith_pvm"><a href="#module-Wrong_arith_pvm" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Wrong_arith_pvm/index.html">Wrong_arith_pvm</a></span><span> : 
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/PVM/module-type-S/index.html">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.PVM.S</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/PVM/module-type-S/index.html#type-context">context</a> = <a href="Wrong_in_memory_context/Tree/index.html#type-t">Wrong_in_memory_context.Tree.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/PVM/module-type-S/index.html#type-state">state</a> = <a href="Wrong_in_memory_context/index.html#type-tree">Wrong_in_memory_context.tree</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/PVM/module-type-S/index.html#type-proof">proof</a> =
           <span><a href="../../../octez-libs/Tezos_context_memory/Context/Proof/index.html#type-tree">Tezos_context_memory.Context.Proof.tree</a>
             <a href="../../../octez-libs/Tezos_context_memory/Context/Proof/index.html#type-t">Tezos_context_memory.Context.Proof.t</a></span></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-genesis_commitment"><a href="#val-genesis_commitment" class="anchor"></a><code><span><span class="keyword">val</span> genesis_commitment : 
  <span><span class="label">boot_sector</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">origination_level</span>:<span class="xref-unresolved">Tezos_raw_protocol_021_PsQuebec__Alpha_context.Raw_level.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Kind/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Kind.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Commitment/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Commitment.t</a>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-genesis_commitment_raw"><a href="#val-genesis_commitment_raw" class="anchor"></a><code><span><span class="keyword">val</span> genesis_commitment_raw : 
  <span><span class="label">boot_sector</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">origination_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollups/Kind/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollups.Kind.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_commitment_repr/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_commitment_repr.t</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><h3 id="inbox-message-helpers."><a href="#inbox-message-helpers." class="anchor"></a>Inbox message helpers.</h3><h2 id="above-alpha_context."><a href="#above-alpha_context." class="anchor"></a>Above <code>Alpha_context</code>.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-message_serialize"><a href="#val-message_serialize" class="anchor"></a><code><span><span class="keyword">val</span> message_serialize : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.serialized</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_external_inbox_message"><a href="#val-make_external_inbox_message" class="anchor"></a><code><span><span class="keyword">val</span> make_external_inbox_message : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.serialized</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_internal_inbox_message"><a href="#val-make_internal_inbox_message" class="anchor"></a><code><span><span class="keyword">val</span> make_internal_inbox_message : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-internal_inbox_message">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.internal_inbox_message</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.serialized</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_input"><a href="#val-make_input" class="anchor"></a><code><span><span class="keyword">val</span> make_input : 
  <span><span class="optlabel">?inbox_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?message_counter</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.serialized</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_external_input"><a href="#val-make_external_input" class="anchor"></a><code><span><span class="keyword">val</span> make_external_input : 
  <span><span class="optlabel">?inbox_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?message_counter</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_sol"><a href="#val-make_sol" class="anchor"></a><code><span><span class="keyword">val</span> make_sol : 
  <span><span class="label">inbox_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_eol"><a href="#val-make_eol" class="anchor"></a><code><span><span class="keyword">val</span> make_eol : 
  <span><span class="label">inbox_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message_counter</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_info_per_level"><a href="#val-make_info_per_level" class="anchor"></a><code><span><span class="keyword">val</span> make_info_per_level : 
  <span><span class="label">inbox_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">predecessor_timestamp</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Time/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Time.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">predecessor</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Block_hash/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Block_hash.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_protocol_migration"><a href="#val-make_protocol_migration" class="anchor"></a><code><span><span class="keyword">val</span> make_protocol_migration : 
  <span><span class="label">inbox_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-message"><a href="#type-message" class="anchor"></a><code><span><span class="keyword">type</span> message</span><span> = </span><span>{</span></code><ol><li id="type-message.input" class="def record field anchored"><a href="#type-message.input" class="anchor"></a><code><span>input : <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a>;</span></code></li><li id="type-message.message" class="def record field anchored"><a href="#type-message.message" class="anchor"></a><code><span>message : <span>[ `SOL
          <span><span>| `Info_per_level</span> of
            <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Timestamp/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Timestamp.t</a>
            * <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a></span>
          <span><span>| `Message</span> of string</span>
          <span>| `EOL</span> ]</span>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Message is the combination of a <code>message</code> and its associated <code>input</code>.</p><p><code>message</code> is used to:</p><ul><li>Construct the protocol inbox, when <code>message</code> is <code>`Message</code>. The protocol adds <code>`SOL</code> and <code>`EOL</code> itself.</li><li>Construct the players' inboxes.</li></ul><p><code>input</code> is used to evaluate the players' inboxes.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-payloads_per_level"><a href="#type-payloads_per_level" class="anchor"></a><code><span><span class="keyword">type</span> payloads_per_level</span><span> = </span><span>{</span></code><ol><li id="type-payloads_per_level.messages" class="def record field anchored"><a href="#type-payloads_per_level.messages" class="anchor"></a><code><span>messages : <span>string list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>List of external messages.</p><span class="comment-delim">*)</span></div></li><li id="type-payloads_per_level.payloads" class="def record field anchored"><a href="#type-payloads_per_level.payloads" class="anchor"></a><code><span>payloads : <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.serialized</a>
             list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>List of external serialized messages.</p><span class="comment-delim">*)</span></div></li><li id="type-payloads_per_level.predecessor_timestamp" class="def record field anchored"><a href="#type-payloads_per_level.predecessor_timestamp" class="anchor"></a><code><span>predecessor_timestamp : <a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>predecessor timestamp of the <code>Info_per_level</code>.</p><span class="comment-delim">*)</span></div></li><li id="type-payloads_per_level.predecessor" class="def record field anchored"><a href="#type-payloads_per_level.predecessor" class="anchor"></a><code><span>predecessor : <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Predecessor of the <code>Info_per_level</code>.</p><span class="comment-delim">*)</span></div></li><li id="type-payloads_per_level.level" class="def record field anchored"><a href="#type-payloads_per_level.level" class="anchor"></a><code><span>level : <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.t</a>;</span></code></li><li id="type-payloads_per_level.inputs" class="def record field anchored"><a href="#type-payloads_per_level.inputs" class="anchor"></a><code><span>inputs : <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a>
           list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>List of all inputs for the level, to be read by a PVM.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Put as much information as possible in this record so it can be used in different setups: 1. Creating an inbox on the protocol-side, requires <code>messages</code> only. 2. Re-construct an inbox, requires <code>payloads</code>, <code>timestamp</code>, <code>predecessor</code>. 3. Evaluate inputs in a PVM, requires <code>inputs</code></p><p><code>level</code> is useful for (1) (2) (3).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_input"><a href="#val-pp_input" class="anchor"></a><code><span><span class="keyword">val</span> pp_input : 
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_message"><a href="#val-pp_message" class="anchor"></a><code><span><span class="keyword">val</span> pp_message : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-message">message</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-strs_to_inputs"><a href="#val-strs_to_inputs" class="anchor"></a><code><span><span class="keyword">val</span> strs_to_inputs : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-message">message</a> list</span> * <a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a></span></code></div><div class="spec-doc"><p>Creates inputs based on string messages.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_inputs"><a href="#val-make_inputs" class="anchor"></a><code><span><span class="keyword">val</span> make_inputs : 
  <span><span class="label">first_block</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Time/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Time.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Block_hash/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Block_hash.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a> list</span></span></code></div><div class="spec-doc"><p>Transform the list of all inputs the PVM should read.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-predecessor_timestamp_and_hash_from_level"><a href="#val-predecessor_timestamp_and_hash_from_level" class="anchor"></a><code><span><span class="keyword">val</span> predecessor_timestamp_and_hash_from_level : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a>
  * <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wrap_messages"><a href="#val-wrap_messages" class="anchor"></a><code><span><span class="keyword">val</span> wrap_messages : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?pred_info</span>:
    <span>(<a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a>
     * <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-payloads_per_level">payloads_per_level</a></span></code></div><div class="spec-doc"><p>Wrap messages, predecessor_timestamp and predecessor of a level into a <code>payloads_per_level</code> .</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_empty_level"><a href="#val-make_empty_level" class="anchor"></a><code><span><span class="keyword">val</span> make_empty_level : 
  <span><span class="optlabel">?pred_info</span>:
    <span>(<a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a>
     * <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-payloads_per_level">payloads_per_level</a></span></code></div><div class="spec-doc"><p>An empty inbox level is a SOL,IPL and EOL.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_messages"><a href="#val-gen_messages" class="anchor"></a><code><span><span class="keyword">val</span> gen_messages : 
  <span><span class="optlabel">?pred_info</span>:
    <span>(<a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a>
     * <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string <span class="xref-unresolved">QCheck2</span>.Gen.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-payloads_per_level">payloads_per_level</a> <span class="xref-unresolved">QCheck2</span>.Gen.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_payloads_for_levels"><a href="#val-gen_payloads_for_levels" class="anchor"></a><code><span><span class="keyword">val</span> gen_payloads_for_levels : 
  <span><span class="label">start_level</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">max_level</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>string <span class="xref-unresolved">QCheck2</span>.Gen.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-payloads_per_level">payloads_per_level</a> list</span> <span class="xref-unresolved">QCheck2</span>.Gen.t</span></span></code></div></div><h2 id="below-alpha_context."><a href="#below-alpha_context." class="anchor"></a>Below <code>Alpha_context</code>.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-message_serialize_repr"><a href="#val-message_serialize_repr" class="anchor"></a><code><span><span class="keyword">val</span> message_serialize_repr : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_inbox_message_repr/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_inbox_message_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_inbox_message_repr/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_inbox_message_repr.serialized</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_external_inbox_message_repr"><a href="#val-make_external_inbox_message_repr" class="anchor"></a><code><span><span class="keyword">val</span> make_external_inbox_message_repr : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_inbox_message_repr/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_inbox_message_repr.serialized</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_internal_inbox_message_repr"><a href="#val-make_internal_inbox_message_repr" class="anchor"></a><code><span><span class="keyword">val</span> make_internal_inbox_message_repr : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_inbox_message_repr/index.html#type-internal_inbox_message">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_inbox_message_repr.internal_inbox_message</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_inbox_message_repr/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_inbox_message_repr.serialized</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_input_repr"><a href="#val-make_input_repr" class="anchor"></a><code><span><span class="keyword">val</span> make_input_repr : 
  <span><span class="optlabel">?inbox_level</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?message_counter</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_inbox_message_repr/index.html#type-serialized">Tezos_raw_protocol_021_PsQuebec.Sc_rollup_inbox_message_repr.serialized</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_PVM_sig/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_PVM_sig.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_external_input_repr"><a href="#val-make_external_input_repr" class="anchor"></a><code><span><span class="keyword">val</span> make_external_input_repr : 
  <span><span class="optlabel">?inbox_level</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?message_counter</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_PVM_sig/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_PVM_sig.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_sol_repr"><a href="#val-make_sol_repr" class="anchor"></a><code><span><span class="keyword">val</span> make_sol_repr : 
  <span><span class="label">inbox_level</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_PVM_sig/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_PVM_sig.input</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_eol_repr"><a href="#val-make_eol_repr" class="anchor"></a><code><span><span class="keyword">val</span> make_eol_repr : 
  <span><span class="label">inbox_level</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message_counter</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_PVM_sig/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_PVM_sig.input</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-message_repr"><a href="#type-message_repr" class="anchor"></a><code><span><span class="keyword">type</span> message_repr</span><span> = </span><span>{</span></code><ol><li id="type-message_repr.input_repr" class="def record field anchored"><a href="#type-message_repr.input_repr" class="anchor"></a><code><span>input_repr : <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_PVM_sig/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_PVM_sig.input</a>;</span></code></li><li id="type-message_repr.message_repr" class="def record field anchored"><a href="#type-message_repr.message_repr" class="anchor"></a><code><span>message_repr : <span>[ `SOL <span><span>| `Message</span> of string</span> <span>| `EOL</span> ]</span>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Message is the combination of a <code>message</code> and its associated <code>input</code>.</p><p><code>message</code> is used to:</p><ul><li>Construct the protocol inbox, when <code>message</code> is <code>`Message</code>. The protocol adds <code>`SOL</code> and <code>`EOL</code> itself.</li><li>Construct the players' inboxes.</li></ul><p><code>input</code> is used to evaluate the players' inboxes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_input_repr"><a href="#val-pp_input_repr" class="anchor"></a><code><span><span class="keyword">val</span> pp_input_repr : 
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_PVM_sig/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_PVM_sig.input</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_message_repr"><a href="#val-pp_message_repr" class="anchor"></a><code><span><span class="keyword">val</span> pp_message_repr : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-message_repr">message_repr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_empty_level_repr"><a href="#val-make_empty_level_repr" class="anchor"></a><code><span><span class="keyword">val</span> make_empty_level_repr : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a>
  * <span><a href="#type-message_repr">message_repr</a> list</span></span></code></div><div class="spec-doc"><p>An empty inbox level is a SOL,IPL and EOL.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-strs_to_input_reprs_repr"><a href="#val-strs_to_input_reprs_repr" class="anchor"></a><code><span><span class="keyword">val</span> strs_to_input_reprs_repr : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-message_repr">message_repr</a> list</span> * <a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Z/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Z.t</a></span></code></div><div class="spec-doc"><p>Creates input_reprs based on string message_reprs.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wrap_message_reprs_repr"><a href="#val-wrap_message_reprs_repr" class="anchor"></a><code><span><span class="keyword">val</span> wrap_message_reprs_repr : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-message_repr">message_repr</a> list</span></span></code></div><div class="spec-doc"><p>Transform message_reprs into input_reprs and wrap them between SOL and EOL.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_message_reprs_for_levels_repr"><a href="#val-gen_message_reprs_for_levels_repr" class="anchor"></a><code><span><span class="keyword">val</span> gen_message_reprs_for_levels_repr : 
  <span><span class="label">start_level</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">max_level</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>string <span class="xref-unresolved">QCheck2</span>.Gen.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Raw_level_repr.raw_level</a>
   * <span><a href="#type-message_repr">message_repr</a> list</span>)</span>
    list</span>
    <span class="xref-unresolved">QCheck2</span>.Gen.t</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Payloads_histories"><a href="#module-Payloads_histories" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Payloads_histories/index.html">Payloads_histories</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-payloads_histories"><a href="#type-payloads_histories" class="anchor"></a><code><span><span class="keyword">type</span> payloads_histories</span><span> =
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_merkelized_payload_hashes/History/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_merkelized_payload_hashes.History.t</a>
    <a href="Payloads_histories/index.html#type-t">Payloads_histories.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_payloads_history"><a href="#val-get_payloads_history" class="anchor"></a><code><span><span class="keyword">val</span> get_payloads_history : 
  <span><span><span class="type-var">'a</span> <a href="Payloads_histories/index.html#type-t">Payloads_histories.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Payloads_histories/index.html#type-key">Payloads_histories.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_history"><a href="#val-get_history" class="anchor"></a><code><span><span class="keyword">val</span> get_history : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/History/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.History.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/History/index.html#type-key">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.History.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/History/index.html#type-value">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.History.value</a>
    option</span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inbox_message_of_input"><a href="#val-inbox_message_of_input" class="anchor"></a><code><span><span class="keyword">val</span> inbox_message_of_input : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-inbox_message">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.inbox_message</a>
    option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-payloads_from_messages"><a href="#val-payloads_from_messages" class="anchor"></a><code><span><span class="keyword">val</span> payloads_from_messages : 
  <span><span><a href="#type-message">message</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox_message/index.html#type-serialized">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox_message.serialized</a>
    list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-first_after"><a href="#val-first_after" class="anchor"></a><code><span><span class="keyword">val</span> first_after : 
  <span><span><a href="#type-payloads_per_level">payloads_per_level</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-inbox_message">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.inbox_message</a>
    option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list_of_inputs_from_list_of_messages"><a href="#val-list_of_inputs_from_list_of_messages" class="anchor"></a><code><span><span class="keyword">val</span> list_of_inputs_from_list_of_messages : 
  <span><span><span><a href="#type-message">message</a> list</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-input">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.input</a> list</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dumb_init"><a href="#val-dumb_init" class="anchor"></a><code><span><span class="keyword">val</span> dumb_init : 
  <span><span class="xref-unresolved">Tezos_raw_protocol_021_PsQuebec__Alpha_context.Raw_level.t</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dumb_init_repr"><a href="#val-dumb_init_repr" class="anchor"></a><code><span><span class="keyword">val</span> dumb_init_repr : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Raw_level_repr/index.html#type-t">Tezos_raw_protocol_021_PsQuebec.Raw_level_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_inbox_repr/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Sc_rollup_inbox_repr.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-origination_op"><a href="#val-origination_op" class="anchor"></a><code><span><span class="keyword">val</span> origination_op : 
  <span><span class="optlabel">?force_reveal</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?counter</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Manager_counter/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Manager_counter.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?fee</span>:<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Tez/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Tez.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?gas_limit</span>:<a href="../Op/index.html#type-gas_limit">Op.gas_limit</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?storage_limit</span>:<span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?boot_sector</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?parameters_ty</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?whitelist</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Whitelist/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Whitelist.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Context/index.html#type-t">Context.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Contract/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Contract.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Kind/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Kind.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/index.html#type-packed_operation">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.packed_operation</a>
   * <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.t</a>)</span>
    <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-latest_level_proof"><a href="#val-latest_level_proof" class="anchor"></a><code><span><span class="keyword">val</span> latest_level_proof : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/Internal_for_tests/index.html#type-level_proof">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.Internal_for_tests.level_proof</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-latest_level_proof_hash"><a href="#val-latest_level_proof_hash" class="anchor"></a><code><span><span class="keyword">val</span> latest_level_proof_hash : 
  <span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Smart_rollup/Merkelized_payload_hashes_hash/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Smart_rollup.Merkelized_payload_hashes_hash.t</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Node_inbox"><a href="#module-Node_inbox" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Node_inbox/index.html">Node_inbox</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Protocol_inbox"><a href="#module-Protocol_inbox" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Protocol_inbox/index.html">Protocol_inbox</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-construct_node_and_protocol_inbox"><a href="#val-construct_node_and_protocol_inbox" class="anchor"></a><code><span><span class="keyword">val</span> construct_node_and_protocol_inbox : 
  <span><span class="optlabel">?inbox_creation_level</span>:
    <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Raw_level/index.html#type-raw_level">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Raw_level.raw_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?genesis_predecessor_timestamp</span>:<a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?genesis_predecessor</span>:<a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-payloads_per_level">payloads_per_level</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="Node_inbox/index.html#type-t">Node_inbox.t</a>
   * <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Inbox/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Inbox.t</a>,
    <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Protocol_inbox_with_ctxt"><a href="#module-Protocol_inbox_with_ctxt" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Protocol_inbox_with_ctxt/index.html">Protocol_inbox_with_ctxt</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_reveal_enabled_default"><a href="#val-is_reveal_enabled_default" class="anchor"></a><code><span><span class="keyword">val</span> is_reveal_enabled_default : 
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/index.html#type-is_reveal_enabled">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.is_reveal_enabled</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tick_of_int_exn"><a href="#val-tick_of_int_exn" class="anchor"></a><code><span><span class="keyword">val</span> tick_of_int_exn : 
  <span><span class="optlabel">?__LOC__</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Tick/index.html#type-t">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Tick.t</a></span></code></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-PVM_eval"><a href="#module-type-PVM_eval" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-PVM_eval/index.html">PVM_eval</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_PVM_eval"><a href="#module-Make_PVM_eval" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_PVM_eval/index.html">Make_PVM_eval</a></span><span>
  (<a href="Make_PVM_eval/argument-1-PVM/index.html">PVM</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : 
  <a href="module-type-PVM_eval/index.html">PVM_eval</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-PVM_eval/index.html#type-context">context</a> = <a href="Make_PVM_eval/argument-1-PVM/index.html#type-context">PVM.context</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-PVM_eval/index.html#type-state">state</a> = <a href="Make_PVM_eval/argument-1-PVM/index.html#type-state">PVM.state</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Arith_pvm_eval"><a href="#module-Arith_pvm_eval" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Arith_pvm_eval/index.html">Arith_pvm_eval</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Wasm_pvm_eval"><a href="#module-Wasm_pvm_eval" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Wasm_pvm_eval/index.html">Wasm_pvm_eval</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_pvm_with_context_and_state"><a href="#val-make_pvm_with_context_and_state" class="anchor"></a><code><span><span class="keyword">val</span> make_pvm_with_context_and_state : 
  <span><span>(<span class="keyword">module</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/PVM/module-type-S/index.html">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.PVM.S</a>
    <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/PVM/module-type-S/index.html#type-context">context</a> = <span class="type-var">'context</span>
     <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/PVM/module-type-S/index.html#type-state">state</a> = <span class="type-var">'state</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">state</span>:<span class="type-var">'state</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">context</span>:<span class="type-var">'context</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">reveal</span>:
    <span>(<span><a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Sc_rollup_reveal_hash/index.html#type-t">Tezos_raw_protocol_021_PsQuebec.Sc_rollup_reveal_hash.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span>string option</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_protocol_environment_021_PsQuebec/Lwt/index.html#type-t">Tezos_protocol_environment_021_PsQuebec.Lwt.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">inbox</span>:<a href="Node_inbox/index.html#type-t">Node_inbox.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>(<span class="keyword">module</span> <a href="../../../tezos-protocol-021-PsQuebec/Tezos_raw_protocol_021_PsQuebec/Alpha_context/Sc_rollup/Proof/module-type-PVM_with_context_and_state/index.html">Tezos_protocol_021_PsQuebec.Protocol.Alpha_context.Sc_rollup.Proof.PVM_with_context_and_state</a>)</span></span></code></div></div></div></body></html>
