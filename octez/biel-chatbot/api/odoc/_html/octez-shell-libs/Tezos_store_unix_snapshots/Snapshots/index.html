<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Snapshots (octez-shell-libs.Tezos_store_unix_snapshots.Snapshots)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-shell-libs</a> &#x00BB; <a href="../index.html">Tezos_store_unix_snapshots</a> &#x00BB; Snapshots</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_store_unix_snapshots.Snapshots</span></code></h1><p>Snapshots for the store</p><p>Snapshots are canonical representations of the store and its associated context. Its main purposes it to save and load a current state with the minimal necessary amount of information. This snapshot may also be shared by third parties to facilitate the bootstrap process.</p><p>A snapshot of a block <code>B</code> is composed of :</p><ul><li>The snapshot format version (see <code>version</code>), as a file;</li><li>The metadata of the snapshot (see <code>metadata</code>), as a file;</li><li>Some data to ensure snapshot consistency at import (see <code>block_data</code>), as a file;</li><li>A single context containing every key that the block <code>B-1</code> needs (see below), as a file;</li><li>The set of (cemented and floating) blocks and their operations from the genesis block up to <code>B</code> -- it might contain less blocks if the snapshot is created from a store using a <code>Rolling</code> history mode of if it is created as a <code>Rolling</code> snapshot. Block's metadata are not exported. The cemented blocks are exported as a directory containing cycles as files, as well as some indexing data. The floating blocks are stored as a single file ;</li><li>The set of necessary Tezos protocols, as a directory containing the protocols as single files.</li></ul><p>There are two kinds of snapshot formats that can be exported:</p><ul><li><code>Raw</code> is a directory containing the aforementioned data as independent files;</li><li><code>Tar</code> is a tar archive containing all the data as a single archive file. To achieve better performances while loading the snapshot's information (version and metadata), we store first the version and then the metadata, to avoid seeking through the whole file.</li></ul><p>Importing a snapshot will initialize a fresh store with the data contained in the snapshot. As snapshots may be shared between users, checks are made to ensure that no malicious data is loaded. For instance, we export the context of block <code>B-1</code> to make sure that the application of the block <code>B</code>, given its predecessor's context, is valid.</p><p>Depending on the history mode, a snapshot might contain less blocks. In full, all blocks are present and importing such a snapshot will populate the <code>Cemented_store</code> with every cycle up to the snapshot's target block. Meanwhile, in <code>Rolling</code>, only a few previous blocks will be exported (<code>max_op_ttl</code> from the target block), only populating a <code>Floating_block_store</code>. Thus, the snapshot size greatly differs depending on the history mode used.</p><p>Snapshots may be created concurrently with a running node. It might impact the node for a few seconds to retrieve the necessary consistent information to produce the snapshot.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type extension anchored" id="extension-decl-Incompatible_history_mode"><a href="#extension-decl-Incompatible_history_mode" class="anchor"></a><code><span><span class="keyword">type</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-error">Tezos_base.TzPervasives.error</a> += </span></code><ol><li id="extension-Incompatible_history_mode" class="def variant extension anchored"><a href="#extension-Incompatible_history_mode" class="anchor"></a><code><span>| </span><span><span class="extension">Incompatible_history_mode</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Snapshots.requested" class="def record field anchored"><a href="#module-Snapshots.requested" class="anchor"></a><code><span>requested : <a href="../../Tezos_shell_services/History_mode/index.html#type-t">Tezos_shell_services.History_mode.t</a>;</span></code></li><li id="module-Snapshots.stored" class="def record field anchored"><a href="#module-Snapshots.stored" class="anchor"></a><code><span>stored : <a href="../../Tezos_shell_services/History_mode/index.html#type-t">Tezos_shell_services.History_mode.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="extension-Invalid_export_block" class="def variant extension anchored"><a href="#extension-Invalid_export_block" class="anchor"></a><code><span>| </span><span><span class="extension">Invalid_export_block</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Snapshots.block" class="def record field anchored"><a href="#module-Snapshots.block" class="anchor"></a><code><span>block : <span><a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a> option</span>;</span></code></li><li id="module-Snapshots.reason" class="def record field anchored"><a href="#module-Snapshots.reason" class="anchor"></a><code><span>reason : <span>[ `Pruned
         <span>| `Pruned_pred</span>
         <span>| `Unknown</span>
         <span>| `Unknown_ancestor</span>
         <span>| `Caboose</span>
         <span>| `Genesis</span>
         <span>| `Not_enough_pred</span> ]</span>;</span></code></li></ol><code><span>}</span></code></li><li id="extension-Invalid_export_path" class="def variant extension anchored"><a href="#extension-Invalid_export_path" class="anchor"></a><code><span>| </span><span><span class="extension">Invalid_export_path</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Snapshot_file_not_found" class="def variant extension anchored"><a href="#extension-Snapshot_file_not_found" class="anchor"></a><code><span>| </span><span><span class="extension">Snapshot_file_not_found</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Inconsistent_protocol_hash" class="def variant extension anchored"><a href="#extension-Inconsistent_protocol_hash" class="anchor"></a><code><span>| </span><span><span class="extension">Inconsistent_protocol_hash</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Snapshots.expected" class="def record field anchored"><a href="#module-Snapshots.expected" class="anchor"></a><code><span>expected : <a href="../../../octez-libs/Tezos_crypto/Hashed/Protocol_hash/index.html#type-t">Tezos_base.TzPervasives.Protocol_hash.t</a>;</span></code></li><li id="module-Snapshots.got" class="def record field anchored"><a href="#module-Snapshots.got" class="anchor"></a><code><span>got : <a href="../../../octez-libs/Tezos_crypto/Hashed/Protocol_hash/index.html#type-t">Tezos_base.TzPervasives.Protocol_hash.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="extension-Inconsistent_context_hash" class="def variant extension anchored"><a href="#extension-Inconsistent_context_hash" class="anchor"></a><code><span>| </span><span><span class="extension">Inconsistent_context_hash</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Snapshots.expected" class="def record field anchored"><a href="#module-Snapshots.expected" class="anchor"></a><code><span>expected : <a href="../../../octez-libs/Tezos_crypto/Hashed/Context_hash/index.html#type-t">Tezos_base.TzPervasives.Context_hash.t</a>;</span></code></li><li id="module-Snapshots.got" class="def record field anchored"><a href="#module-Snapshots.got" class="anchor"></a><code><span>got : <a href="../../../octez-libs/Tezos_crypto/Hashed/Context_hash/index.html#type-t">Tezos_base.TzPervasives.Context_hash.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="extension-Inconsistent_context" class="def variant extension anchored"><a href="#extension-Inconsistent_context" class="anchor"></a><code><span>| </span><span><span class="extension">Inconsistent_context</span> <span class="keyword">of</span> <a href="../../../octez-libs/Tezos_crypto/Hashed/Context_hash/index.html#type-t">Tezos_base.TzPervasives.Context_hash.t</a></span></code></li><li id="extension-Cannot_decode_protocol" class="def variant extension anchored"><a href="#extension-Cannot_decode_protocol" class="anchor"></a><code><span>| </span><span><span class="extension">Cannot_decode_protocol</span> <span class="keyword">of</span> <a href="../../../octez-libs/Tezos_crypto/Hashed/Protocol_hash/index.html#type-t">Tezos_base.TzPervasives.Protocol_hash.t</a></span></code></li><li id="extension-Cannot_write_metadata" class="def variant extension anchored"><a href="#extension-Cannot_write_metadata" class="anchor"></a><code><span>| </span><span><span class="extension">Cannot_write_metadata</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Cannot_read" class="def variant extension anchored"><a href="#extension-Cannot_read" class="anchor"></a><code><span>| </span><span><span class="extension">Cannot_read</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Snapshots.kind" class="def record field anchored"><a href="#module-Snapshots.kind" class="anchor"></a><code><span>kind : <span>[ `Version
       <span>| `Metadata</span>
       <span>| `Block_data</span>
       <span>| `Context</span>
       <span>| `Protocol_table</span>
       <span>| `Protocol</span>
       <span>| `Cemented_cycle</span> ]</span>;</span></code></li><li id="module-Snapshots.path" class="def record field anchored"><a href="#module-Snapshots.path" class="anchor"></a><code><span>path : string;</span></code></li></ol><code><span>}</span></code></li><li id="extension-Inconsistent_floating_store" class="def variant extension anchored"><a href="#extension-Inconsistent_floating_store" class="anchor"></a><code><span>| </span><span><span class="extension">Inconsistent_floating_store</span> <span class="keyword">of</span> <a href="../../Tezos_store_shared/Store_types/index.html#type-block_descriptor">Tezos_store_shared.Store_types.block_descriptor</a>
  * <a href="../../Tezos_store_shared/Store_types/index.html#type-block_descriptor">Tezos_store_shared.Store_types.block_descriptor</a></span></code></li><li id="extension-Missing_target_block" class="def variant extension anchored"><a href="#extension-Missing_target_block" class="anchor"></a><code><span>| </span><span><span class="extension">Missing_target_block</span> <span class="keyword">of</span> <a href="../../Tezos_store_shared/Store_types/index.html#type-block_descriptor">Tezos_store_shared.Store_types.block_descriptor</a></span></code></li><li id="extension-Cannot_read_floating_store" class="def variant extension anchored"><a href="#extension-Cannot_read_floating_store" class="anchor"></a><code><span>| </span><span><span class="extension">Cannot_read_floating_store</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Cannot_retrieve_block_interval" class="def variant extension anchored"><a href="#extension-Cannot_retrieve_block_interval" class="anchor"></a><code><span>| </span><span><span class="extension">Cannot_retrieve_block_interval</span></span></code></li><li id="extension-Invalid_cemented_file" class="def variant extension anchored"><a href="#extension-Invalid_cemented_file" class="anchor"></a><code><span>| </span><span><span class="extension">Invalid_cemented_file</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Missing_cemented_file" class="def variant extension anchored"><a href="#extension-Missing_cemented_file" class="anchor"></a><code><span>| </span><span><span class="extension">Missing_cemented_file</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Corrupted_floating_store" class="def variant extension anchored"><a href="#extension-Corrupted_floating_store" class="anchor"></a><code><span>| </span><span><span class="extension">Corrupted_floating_store</span></span></code></li><li id="extension-Invalid_protocol_file" class="def variant extension anchored"><a href="#extension-Invalid_protocol_file" class="anchor"></a><code><span>| </span><span><span class="extension">Invalid_protocol_file</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Target_block_validation_failed" class="def variant extension anchored"><a href="#extension-Target_block_validation_failed" class="anchor"></a><code><span>| </span><span><span class="extension">Target_block_validation_failed</span> <span class="keyword">of</span> <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a> * string</span></code></li><li id="extension-Directory_already_exists" class="def variant extension anchored"><a href="#extension-Directory_already_exists" class="anchor"></a><code><span>| </span><span><span class="extension">Directory_already_exists</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Empty_floating_store" class="def variant extension anchored"><a href="#extension-Empty_floating_store" class="anchor"></a><code><span>| </span><span><span class="extension">Empty_floating_store</span></span></code></li><li id="extension-Cannot_remove_tmp_export_directory" class="def variant extension anchored"><a href="#extension-Cannot_remove_tmp_export_directory" class="anchor"></a><code><span>| </span><span><span class="extension">Cannot_remove_tmp_export_directory</span> <span class="keyword">of</span> string</span></code></li><li id="extension-Inconsistent_chain_import" class="def variant extension anchored"><a href="#extension-Inconsistent_chain_import" class="anchor"></a><code><span>| </span><span><span class="extension">Inconsistent_chain_import</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Snapshots.expected" class="def record field anchored"><a href="#module-Snapshots.expected" class="anchor"></a><code><span>expected : <a href="../../../octez-libs/Tezos_version/Distributed_db_version/Name/index.html#type-t">Tezos_base.TzPervasives.Distributed_db_version.Name.t</a>;</span></code></li><li id="module-Snapshots.got" class="def record field anchored"><a href="#module-Snapshots.got" class="anchor"></a><code><span>got : <a href="../../../octez-libs/Tezos_version/Distributed_db_version/Name/index.html#type-t">Tezos_base.TzPervasives.Distributed_db_version.Name.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="extension-Inconsistent_imported_block" class="def variant extension anchored"><a href="#extension-Inconsistent_imported_block" class="anchor"></a><code><span>| </span><span><span class="extension">Inconsistent_imported_block</span> <span class="keyword">of</span> <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a>
  * <a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-snapshot_format"><a href="#type-snapshot_format" class="anchor"></a><code><span><span class="keyword">type</span> snapshot_format</span><span> = </span></code><ol><li id="type-snapshot_format.Tar" class="def variant constructor anchored"><a href="#type-snapshot_format.Tar" class="anchor"></a><code><span>| </span><span><span class="constructor">Tar</span></span></code></li><li id="type-snapshot_format.Raw" class="def variant constructor anchored"><a href="#type-snapshot_format.Raw" class="anchor"></a><code><span>| </span><span><span class="constructor">Raw</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_snapshot_format"><a href="#val-pp_snapshot_format" class="anchor"></a><code><span><span class="keyword">val</span> pp_snapshot_format : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-snapshot_format">snapshot_format</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-snapshot_format_encoding"><a href="#val-snapshot_format_encoding" class="anchor"></a><code><span><span class="keyword">val</span> snapshot_format_encoding : 
  <span><a href="#type-snapshot_format">snapshot_format</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Snapshot_header"><a href="#module-Snapshot_header" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Snapshot_header/index.html">Snapshot_header</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_snapshot_header"><a href="#val-read_snapshot_header" class="anchor"></a><code><span><span class="keyword">val</span> read_snapshot_header : 
  <span><span class="label">snapshot_path</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="Snapshot_header/index.html#type-t">Snapshot_header.t</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>read_snapshot_header ~snapshot_path</code> reads <code>snapshot_file</code>'s header.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-export"><a href="#val-export" class="anchor"></a><code><span><span class="keyword">val</span> export : 
  <span><span class="optlabel">?snapshot_path</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-snapshot_format">snapshot_format</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?rolling</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">block</span>:<a href="../../Tezos_shell_services/Block_services/index.html#type-block">Tezos_shell_services.Block_services.block</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">store_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">context_root_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">chain_name</span>:<a href="../../../octez-libs/Tezos_version/Distributed_db_version/Name/index.html#type-t">Tezos_base.TzPervasives.Distributed_db_version.Name.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">progress_display_mode</span>:<a href="../../../octez-libs/Tezos_stdlib_unix/Animation/index.html#type-progress_display_mode">Tezos_stdlib_unix.Animation.progress_display_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../octez-libs/Tezos_base/Genesis/index.html#type-t">Tezos_base.TzPervasives.Genesis.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>export ?snapshot_path snapshot_format ?rolling ~block ~store_dir
    ~context_root_dir ~chain_name genesis ~progress_display_mode</code> reads from the <code>store_dir</code> and <code>context_root_dir</code> the current state of the node and produces a snapshot, of the given <code>snapshot_format</code>, in <code>snapshot_file</code> if it is provided. Otherwise, a snapshot file name is automatically generated using the target block as hint. If <code>rolling</code> is set, only the necessary blocks will be exported.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-import"><a href="#val-import" class="anchor"></a><code><span><span class="keyword">val</span> import : 
  <span><span class="label">snapshot_path</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?patch_context</span>:
    <span>(<span><a href="../../../octez-proto-libs/Tezos_protocol_environment/Context/index.html#type-t">Tezos_protocol_environment.Context.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span><a href="../../../octez-proto-libs/Tezos_protocol_environment/Context/index.html#type-t">Tezos_protocol_environment.Context.t</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
        <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?block</span>:<a href="../../../octez-libs/Tezos_crypto/Hashed/Block_hash/index.html#type-t">Tezos_base.TzPervasives.Block_hash.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?check_consistency</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">dst_store_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">dst_context_root_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">chain_name</span>:<a href="../../../octez-libs/Tezos_version/Distributed_db_version/Name/index.html#type-t">Tezos_base.TzPervasives.Distributed_db_version.Name.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">configured_history_mode</span>:<span><a href="../../Tezos_shell_services/History_mode/index.html#type-t">Tezos_shell_services.History_mode.t</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">user_activated_upgrades</span>:<a href="../../../octez-libs/Tezos_base/User_activated/index.html#type-upgrades">Tezos_base.TzPervasives.User_activated.upgrades</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">user_activated_protocol_overrides</span>:
    <a href="../../../octez-libs/Tezos_base/User_activated/index.html#type-protocol_overrides">Tezos_base.TzPervasives.User_activated.protocol_overrides</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">operation_metadata_size_limit</span>:
    <a href="../../Tezos_shell_services/Shell_limits/index.html#type-operation_metadata_size_limit">Tezos_shell_services.Shell_limits.operation_metadata_size_limit</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">progress_display_mode</span>:<a href="../../../octez-libs/Tezos_stdlib_unix/Animation/index.html#type-progress_display_mode">Tezos_stdlib_unix.Animation.progress_display_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../octez-libs/Tezos_base/Genesis/index.html#type-t">Tezos_base.TzPervasives.Genesis.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>import ~snapshot_path ?patch_context ?block ?check_consistency
    ~dst_store_dir ~dst_context_root_dir chain_name
    ~user_activated_upgrades ~user_activated_protocol_overrides
    ~ops_metadata_size_limit genesis</code> populates <code>dst_store_dir</code> and <code>dst_context_root_dir</code> with the data contained in the <code>snapshot_file</code>. If <code>check_consistency</code> is unset, less security checks will be made and the import process will be more efficient. If <code>block</code> is set, the import process will make sure that the block is the correct one we load. <code>patch_context</code>, <code>user_activated_upgrades</code> and <code>user_activated_protocol_overrides</code> are passed to the validator in order to validate the target block. <code>ops_metadata_size_limit</code> determines the maximal size of the metadata to store while importing a snapshot.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-snapshot_file_kind"><a href="#val-snapshot_file_kind" class="anchor"></a><code><span><span class="keyword">val</span> snapshot_file_kind : 
  <span><span class="label">snapshot_path</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-snapshot_format">snapshot_format</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>snapshot_file_kind ~snapshot_file</code> reads the <code>snapshot_file</code> and returns its kind. Returns <code>Invalid</code> if it is a wrong snapshot file.</p></div></div></div></body></html>
