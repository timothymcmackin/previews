<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Shell_limits (octez-shell-libs.Tezos_shell_services.Shell_limits)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-shell-libs</a> &#x00BB; <a href="../index.html">Tezos_shell_services</a> &#x00BB; Shell_limits</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_shell_services.Shell_limits</span></code></h1><p>The configurable constants used by shell components as maximum, with their encodings and default values.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-operation_metadata_size_limit"><a href="#type-operation_metadata_size_limit" class="anchor"></a><code><span><span class="keyword">type</span> operation_metadata_size_limit</span><span> = </span></code><ol><li id="type-operation_metadata_size_limit.Unlimited" class="def variant constructor anchored"><a href="#type-operation_metadata_size_limit.Unlimited" class="anchor"></a><code><span>| </span><span><span class="constructor">Unlimited</span></span></code></li><li id="type-operation_metadata_size_limit.Limited" class="def variant constructor anchored"><a href="#type-operation_metadata_size_limit.Limited" class="anchor"></a><code><span>| </span><span><span class="constructor">Limited</span> <span class="keyword">of</span> int</span></code></li></ol></div><div class="spec-doc"><p>States whether or not the operation metadata size must be caped and potentially discard if the given size limit is exceeded.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-operation_metadata_size_limit_encoding"><a href="#val-operation_metadata_size_limit_encoding" class="anchor"></a><code><span><span class="keyword">val</span> operation_metadata_size_limit_encoding : 
  <span><a href="#type-operation_metadata_size_limit">operation_metadata_size_limit</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-block_validator_limits"><a href="#type-block_validator_limits" class="anchor"></a><code><span><span class="keyword">type</span> block_validator_limits</span><span> = </span><span>{</span></code><ol><li id="type-block_validator_limits.protocol_timeout" class="def record field anchored"><a href="#type-block_validator_limits.protocol_timeout" class="anchor"></a><code><span>protocol_timeout : <a href="../../../octez-libs/Tezos_base/Time/System/Span/index.html#type-t">Tezos_base.Time.System.Span.t</a>;</span></code></li><li id="type-block_validator_limits.operation_metadata_size_limit" class="def record field anchored"><a href="#type-block_validator_limits.operation_metadata_size_limit" class="anchor"></a><code><span>operation_metadata_size_limit : <a href="#type-operation_metadata_size_limit">operation_metadata_size_limit</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_block_validator_limits"><a href="#val-default_block_validator_limits" class="anchor"></a><code><span><span class="keyword">val</span> default_block_validator_limits : <a href="#type-block_validator_limits">block_validator_limits</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-block_validator_limits_encoding"><a href="#val-block_validator_limits_encoding" class="anchor"></a><code><span><span class="keyword">val</span> block_validator_limits_encoding : 
  <span><a href="#type-block_validator_limits">block_validator_limits</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-prevalidator_limits"><a href="#type-prevalidator_limits" class="anchor"></a><code><span><span class="keyword">type</span> prevalidator_limits</span><span> = </span><span>{</span></code><ol><li id="type-prevalidator_limits.max_refused_operations" class="def record field anchored"><a href="#type-prevalidator_limits.max_refused_operations" class="anchor"></a><code><span>max_refused_operations : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The maximum number of operations tracked by the mempool for each of the <code>refused</code>, <code>branch delayed</code>, <code>branch refused</code> and <code>outdated</code> operation classifications. Default is <code>1000</code></p><span class="comment-delim">*)</span></div></li><li id="type-prevalidator_limits.operation_timeout" class="def record field anchored"><a href="#type-prevalidator_limits.operation_timeout" class="anchor"></a><code><span>operation_timeout : <a href="../../../octez-libs/Tezos_base/Time/System/Span/index.html#type-t">Tezos_base.Time.System.Span.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The maximum time allowed to fetch the contents of an operation advertised by a remote peer. Default is <code>10</code> seconds</p><span class="comment-delim">*)</span></div></li><li id="type-prevalidator_limits.operations_batch_size" class="def record field anchored"><a href="#type-prevalidator_limits.operations_batch_size" class="anchor"></a><code><span>operations_batch_size : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Maximum number of pending operations processed (or classified) at the end of each request to the prevalidator worker. Default is <code>50</code></p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>This record contains the different limits and settings that can be updated from a node configuration for a prevalidator</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_prevalidator_limits"><a href="#val-default_prevalidator_limits" class="anchor"></a><code><span><span class="keyword">val</span> default_prevalidator_limits : <a href="#type-prevalidator_limits">prevalidator_limits</a></span></code></div><div class="spec-doc"><p>Sane default values for <a href="#type-limits"><code>limits</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prevalidator_limits_encoding"><a href="#val-prevalidator_limits_encoding" class="anchor"></a><code><span><span class="keyword">val</span> prevalidator_limits_encoding : 
  <span><a href="#type-prevalidator_limits">prevalidator_limits</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-peer_validator_limits"><a href="#type-peer_validator_limits" class="anchor"></a><code><span><span class="keyword">type</span> peer_validator_limits</span><span> = </span><span>{</span></code><ol><li id="type-peer_validator_limits.new_head_request_timeout" class="def record field anchored"><a href="#type-peer_validator_limits.new_head_request_timeout" class="anchor"></a><code><span>new_head_request_timeout : <a href="../../../octez-libs/Tezos_base/Time/System/Span/index.html#type-t">Tezos_base.Time.System.Span.t</a>;</span></code></li><li id="type-peer_validator_limits.block_header_timeout" class="def record field anchored"><a href="#type-peer_validator_limits.block_header_timeout" class="anchor"></a><code><span>block_header_timeout : <a href="../../../octez-libs/Tezos_base/Time/System/Span/index.html#type-t">Tezos_base.Time.System.Span.t</a>;</span></code></li><li id="type-peer_validator_limits.block_operations_timeout" class="def record field anchored"><a href="#type-peer_validator_limits.block_operations_timeout" class="anchor"></a><code><span>block_operations_timeout : <a href="../../../octez-libs/Tezos_base/Time/System/Span/index.html#type-t">Tezos_base.Time.System.Span.t</a>;</span></code></li><li id="type-peer_validator_limits.protocol_timeout" class="def record field anchored"><a href="#type-peer_validator_limits.protocol_timeout" class="anchor"></a><code><span>protocol_timeout : <a href="../../../octez-libs/Tezos_base/Time/System/Span/index.html#type-t">Tezos_base.Time.System.Span.t</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_peer_validator_limits"><a href="#val-default_peer_validator_limits" class="anchor"></a><code><span><span class="keyword">val</span> default_peer_validator_limits : <a href="#type-peer_validator_limits">peer_validator_limits</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-peer_validator_limits_encoding"><a href="#val-peer_validator_limits_encoding" class="anchor"></a><code><span><span class="keyword">val</span> peer_validator_limits_encoding : 
  <span><a href="#type-peer_validator_limits">peer_validator_limits</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-synchronisation_limits"><a href="#type-synchronisation_limits" class="anchor"></a><code><span><span class="keyword">type</span> synchronisation_limits</span><span> = </span><span>{</span></code><ol><li id="type-synchronisation_limits.latency" class="def record field anchored"><a href="#type-synchronisation_limits.latency" class="anchor"></a><code><span>latency : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>latency</code> is the time interval (seconds) used to determine if a node is synchronized with a chain. For instance, a node that knows head with timestamp T is synchronized if T &gt;= now - max_latency. This parameter depends on the baking rate and the latency of the network.</p><span class="comment-delim">*)</span></div></li><li id="type-synchronisation_limits.threshold" class="def record field anchored"><a href="#type-synchronisation_limits.threshold" class="anchor"></a><code><span>threshold : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>threshold</code> determines the number of peers the synchronization heuristic looks at to determine if the node is synchronized or not.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Constants parameterizing the bootstrap heuristics.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-chain_validator_limits"><a href="#type-chain_validator_limits" class="anchor"></a><code><span><span class="keyword">type</span> chain_validator_limits</span><span> = </span><span>{</span></code><ol><li id="type-chain_validator_limits.synchronisation" class="def record field anchored"><a href="#type-chain_validator_limits.synchronisation" class="anchor"></a><code><span>synchronisation : <a href="#type-synchronisation_limits">synchronisation_limits</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_chain_validator_limits"><a href="#val-default_chain_validator_limits" class="anchor"></a><code><span><span class="keyword">val</span> default_chain_validator_limits : <a href="#type-chain_validator_limits">chain_validator_limits</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-chain_validator_limits_encoding"><a href="#val-chain_validator_limits_encoding" class="anchor"></a><code><span><span class="keyword">val</span> chain_validator_limits_encoding : 
  <span><a href="#type-chain_validator_limits">chain_validator_limits</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_disable_context_pruning"><a href="#val-default_disable_context_pruning" class="anchor"></a><code><span><span class="keyword">val</span> default_disable_context_pruning : bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_storage_maintenance_delay"><a href="#val-default_storage_maintenance_delay" class="anchor"></a><code><span><span class="keyword">val</span> default_storage_maintenance_delay : <a href="../Storage_maintenance/index.html#type-delay">Storage_maintenance.delay</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-limits"><a href="#type-limits" class="anchor"></a><code><span><span class="keyword">type</span> limits</span><span> = </span><span>{</span></code><ol><li id="type-limits.block_validator_limits" class="def record field anchored"><a href="#type-limits.block_validator_limits" class="anchor"></a><code><span>block_validator_limits : <a href="#type-block_validator_limits">block_validator_limits</a>;</span></code></li><li id="type-limits.prevalidator_limits" class="def record field anchored"><a href="#type-limits.prevalidator_limits" class="anchor"></a><code><span>prevalidator_limits : <a href="#type-prevalidator_limits">prevalidator_limits</a>;</span></code></li><li id="type-limits.peer_validator_limits" class="def record field anchored"><a href="#type-limits.peer_validator_limits" class="anchor"></a><code><span>peer_validator_limits : <a href="#type-peer_validator_limits">peer_validator_limits</a>;</span></code></li><li id="type-limits.chain_validator_limits" class="def record field anchored"><a href="#type-limits.chain_validator_limits" class="anchor"></a><code><span>chain_validator_limits : <a href="#type-chain_validator_limits">chain_validator_limits</a>;</span></code></li><li id="type-limits.history_mode" class="def record field anchored"><a href="#type-limits.history_mode" class="anchor"></a><code><span>history_mode : <span><a href="../History_mode/index.html#type-t">History_mode.t</a> option</span>;</span></code></li><li id="type-limits.disable_context_pruning" class="def record field anchored"><a href="#type-limits.disable_context_pruning" class="anchor"></a><code><span>disable_context_pruning : <span>bool option</span>;</span></code></li><li id="type-limits.storage_maintenance_delay" class="def record field anchored"><a href="#type-limits.storage_maintenance_delay" class="anchor"></a><code><span>storage_maintenance_delay : <span><a href="../Storage_maintenance/index.html#type-delay">Storage_maintenance.delay</a> option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_limits"><a href="#val-default_limits" class="anchor"></a><code><span><span class="keyword">val</span> default_limits : <a href="#type-limits">limits</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-limits_encoding"><a href="#val-limits_encoding" class="anchor"></a><code><span><span class="keyword">val</span> limits_encoding : <span><a href="#type-limits">limits</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div></div></body></html>
