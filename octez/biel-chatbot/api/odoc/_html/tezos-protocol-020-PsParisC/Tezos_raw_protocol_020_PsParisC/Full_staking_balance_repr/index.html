<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Full_staking_balance_repr (tezos-protocol-020-PsParisC.Tezos_raw_protocol_020_PsParisC.Full_staking_balance_repr)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-protocol-020-PsParisC</a> &#x00BB; <a href="../index.html">Tezos_raw_protocol_020_PsParisC</a> &#x00BB; Full_staking_balance_repr</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_raw_protocol_020_PsParisC.Full_staking_balance_repr</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : 
  <span><span class="label">own_frozen</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">staked_frozen</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">delegated</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">current_level</span>:<a href="../Level_repr/index.html#type-t">Level_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encoding"><a href="#val-encoding" class="anchor"></a><code><span><span class="keyword">val</span> encoding : <span><a href="#type-t">t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Data_encoding/index.html#type-t">Tezos_protocol_environment_020_PsParisC.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-voting_weight"><a href="#val-voting_weight" class="anchor"></a><code><span><span class="keyword">val</span> voting_weight : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Tezos_protocol_environment_020_PsParisC/Int64/index.html#type-t">Tezos_protocol_environment_020_PsParisC.Int64.t</a>
    <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p>The weight of a delegate used for voting rights.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-apply_slashing"><a href="#val-apply_slashing" class="anchor"></a><code><span><span class="keyword">val</span> apply_slashing : <span><span class="label">percentage</span>:<a href="../Percentage/index.html#type-t">Percentage.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-own_frozen"><a href="#val-own_frozen" class="anchor"></a><code><span><span class="keyword">val</span> own_frozen : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Tez_repr/index.html#type-t">Tez_repr.t</a></span></code></div><div class="spec-doc"><p>The delegate's own frozen funds.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-staked_frozen"><a href="#val-staked_frozen" class="anchor"></a><code><span><span class="keyword">val</span> staked_frozen : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Tez_repr/index.html#type-t">Tez_repr.t</a></span></code></div><div class="spec-doc"><p>The total frozen funds from all external stakers.</p><p>Does not take the <code>limit_of_staking_over_baking</code> into account.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-current_delegated"><a href="#val-current_delegated" class="anchor"></a><code><span><span class="keyword">val</span> current_delegated : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Tez_repr/index.html#type-t">Tez_repr.t</a></span></code></div><div class="spec-doc"><p>The total delegated funds from all delegators.</p><p>Not adjusted considering overdelegation / overstaking.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-min_delegated_in_cycle"><a href="#val-min_delegated_in_cycle" class="anchor"></a><code><span><span class="keyword">val</span> min_delegated_in_cycle : <span><span class="label">current_cycle</span>:<a href="../Cycle_repr/index.html#type-t">Cycle_repr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Tez_repr/index.html#type-t">Tez_repr.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-total_frozen"><a href="#val-total_frozen" class="anchor"></a><code><span><span class="keyword">val</span> total_frozen : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p>Sum of <code>own_frozen</code> and <code>staked_frozen</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-current_total"><a href="#val-current_total" class="anchor"></a><code><span><span class="keyword">val</span> current_total : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p>Sum of <code>own_frozen</code>, <code>staked_frozen</code>, and <code>current_delegated</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-allowed_staked_frozen"><a href="#val-allowed_staked_frozen" class="anchor"></a><code><span><span class="keyword">val</span> allowed_staked_frozen : 
  <span><span class="label">adaptive_issuance_global_limit_of_staking_over_baking</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">delegate_limit_of_staking_over_baking_millionth</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Tez_repr/index.html#type-t">Tez_repr.t</a></span></code></div><div class="spec-doc"><p>The portion of <a href="#val-staked_frozen"><code>staked_frozen</code></a> that actually counts as staking when computing baking rights, considering both the global and the delegate's <code>limit_of_staking_over_baking</code>.</p><p>It is equal to the minimum of:</p><ul><li><a href="#val-staked_frozen"><code>staked_frozen</code></a></li></ul><ul><li><a href="#val-own_frozen"><code>own_frozen</code></a> scaled by the delegate's <code>limit_of_staking_over_baking</code></li></ul><ul><li><a href="#val-own_frozen"><code>own_frozen</code></a> scaled by the global <code>limit_of_staking_over_baking</code></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-own_ratio"><a href="#val-own_ratio" class="anchor"></a><code><span><span class="keyword">val</span> own_ratio : 
  <span><span class="label">adaptive_issuance_global_limit_of_staking_over_baking</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">delegate_limit_of_staking_over_baking_millionth</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int64 * int64</span></code></div><div class="spec-doc"><p>Computes <code>(num, den)</code> representing the ratio of <code>own_frozen</code> over <code>own_frozen + allowed_staked_frozen</code>.</p><p>If <code>allowed_staked_frozen</code> is zero, returns <code>(1L, 1L)</code>.</p><p>If <code>own_frozen</code> is zero, returns <code>(0L, 1L)</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-has_minimal_frozen_stake"><a href="#val-has_minimal_frozen_stake" class="anchor"></a><code><span><span class="keyword">val</span> has_minimal_frozen_stake : <span><span class="label">minimal_frozen_stake</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-has_minimal_stake_to_be_considered"><a href="#val-has_minimal_stake_to_be_considered" class="anchor"></a><code><span><span class="keyword">val</span> has_minimal_stake_to_be_considered : <span><span class="label">minimal_stake</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-remove_delegated"><a href="#val-remove_delegated" class="anchor"></a><code><span><span class="keyword">val</span> remove_delegated : 
  <span><span class="label">current_level</span>:<a href="../Level_repr/index.html#type-t">Level_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">amount</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-remove_own_frozen"><a href="#val-remove_own_frozen" class="anchor"></a><code><span><span class="keyword">val</span> remove_own_frozen : 
  <span><span class="label">amount</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-remove_staked_frozen"><a href="#val-remove_staked_frozen" class="anchor"></a><code><span><span class="keyword">val</span> remove_staked_frozen : 
  <span><span class="label">amount</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_delegated"><a href="#val-add_delegated" class="anchor"></a><code><span><span class="keyword">val</span> add_delegated : 
  <span><span class="label">current_level</span>:<a href="../Level_repr/index.html#type-t">Level_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">amount</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_own_frozen"><a href="#val-add_own_frozen" class="anchor"></a><code><span><span class="keyword">val</span> add_own_frozen : 
  <span><span class="label">amount</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_staked_frozen"><a href="#val-add_staked_frozen" class="anchor"></a><code><span><span class="keyword">val</span> add_staked_frozen : 
  <span><span class="label">amount</span>:<a href="../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <a href="../../Tezos_protocol_environment_020_PsParisC/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_020_PsParisC.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Internal_for_tests_and_RPCs"><a href="#module-Internal_for_tests_and_RPCs" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Internal_for_tests_and_RPCs/index.html">Internal_for_tests_and_RPCs</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
