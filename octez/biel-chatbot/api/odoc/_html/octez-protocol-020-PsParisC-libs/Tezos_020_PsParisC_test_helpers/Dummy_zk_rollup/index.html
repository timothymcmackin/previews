<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dummy_zk_rollup (octez-protocol-020-PsParisC-libs.Tezos_020_PsParisC_test_helpers.Dummy_zk_rollup)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-protocol-020-PsParisC-libs</a> &#x00BB; <a href="../index.html">Tezos_020_PsParisC_test_helpers</a> &#x00BB; Dummy_zk_rollup</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_020_PsParisC_test_helpers.Dummy_zk_rollup</span></code></h1><p>Dummy ZK Rollup for testing the ZKRU integration in the protocol. The library Plompiler is used to build the circuits (in a module V as verifier) and the corresponding functions to produce the inputs for the circuits (in a module P as prover).</p><p>The state of this rollup is a boolean value, which will be represented with a scalar value of <code>zero</code> for <code>false</code> and <code>one</code> for <code>true</code>.</p><p>This RU has only one operation, with <code>op_code</code> 0. In addition to the common header (see <code>Zk_rollup_operation_repr</code>), this operation has as payload one scalar representing a boolean value.</p><p>The transition function <code>f</code> for this rollup is:</p><pre class="language-ocaml"><code>f : operation -&gt; state -&gt; state
f (Op b) s = if b = s then not s else s</code></pre><p>That is, the state bool is flipped only if the operation's payload is equal to the current state.</p><p>The operation can be used publicly or in a private batch. The circuits that describe the RU are:</p><ul><li><code>&quot;op&quot;</code>: for a single public operation.</li><li><code>&quot;batch-&quot;[N]</code>: for a batch of <code>N</code> private operations. <code>N</code> is determined by the <code>batch_size</code> parameter to the <code>Operator</code> functor.</li><li><code>&quot;fee&quot;</code>: the trivial fees circuit, since this RU has no concept of fees.</li></ul><p>NB: the &quot;op&quot; circuit does not add any constraints over the operation's <code>exit_validity</code> other than it being in <code>{0, 1}</code>. This means that the dummy rollup can be used to test deposits/withdrawals, but the rollup will not perform any monetary bookkeeping.</p></header><div class="odoc-content"><p>Helper types and modules</p><p>Empty types to represent bounds</p><div class="odoc-spec"><div class="spec type anchored" id="type-balance"><a href="#type-balance" class="anchor"></a><code><span><span class="keyword">type</span> balance</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-amount"><a href="#type-amount" class="anchor"></a><code><span><span class="keyword">type</span> amount</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fee"><a href="#type-fee" class="anchor"></a><code><span><span class="keyword">type</span> fee</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-op_code"><a href="#type-op_code" class="anchor"></a><code><span><span class="keyword">type</span> op_code</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bound"><a href="#module-Bound" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bound/index.html">Bound</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Bounds required for the dummy rollup.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bounded"><a href="#module-Bounded" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bounded/index.html">Bounded</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Modules to manipulate bounded integers, both as OCaml values and in circuit representation.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Types"><a href="#module-Types" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Types/index.html">Types</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Types used for the Dummy Rollup circuits. This module is split into:</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-V"><a href="#module-V" class="anchor"></a><code><span><span class="keyword">module</span> <a href="V/index.html">V</a></span><span> (<a href="V/argument-1-L/index.html">L</a> : <a href="../../../octez-libs/Plompiler/module-type-LIB/index.html">Plompiler.LIB</a>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Plompiler circuits for the dummy rollup</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Operator"><a href="#module-Operator" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Operator/index.html">Operator</a></span><span> (<a href="Operator/argument-1-Params/index.html">Params</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Basic rollup operator for generating Updates.</p></div></div></div></body></html>
