<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Account_helpers (octez-protocol-alpha-libs.Tezos_alpha_test_helpers.Account_helpers)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-protocol-alpha-libs</a> &#x00BB; <a href="../index.html">Tezos_alpha_test_helpers</a> &#x00BB; Account_helpers</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_alpha_test_helpers.Account_helpers</span></code></h1><p><code>Account_helpers</code> defines a type abstracting the information of an account in the protocol. This includes its pkh, delegate, any funds, staking parameters, etc...</p><p>A type <code>balance</code> is also defined, as an observed state of funds for a given account, i.e balance information that one might get from calling RPCs.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-fail_account_not_found"><a href="#val-fail_account_not_found" class="anchor"></a><code><span><span class="keyword">val</span> fail_account_not_found : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CycleMap"><a href="#module-CycleMap" class="anchor"></a><code><span><span class="keyword">module</span> <a href="CycleMap/index.html">CycleMap</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-account_state"><a href="#type-account_state" class="anchor"></a><code><span><span class="keyword">type</span> account_state</span><span> = </span><span>{</span></code><ol><li id="type-account_state.pkh" class="def record field anchored"><a href="#type-account_state.pkh" class="anchor"></a><code><span>pkh : <a href="../../../octez-libs/Tezos_crypto/Signature/Public_key_hash/index.html#type-t">Tezos_base.TzPervasives.Signature.Public_key_hash.t</a>;</span></code></li><li id="type-account_state.contract" class="def record field anchored"><a href="#type-account_state.contract" class="anchor"></a><code><span>contract : <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Contract/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Contract.t</a>;</span></code></li><li id="type-account_state.delegate" class="def record field anchored"><a href="#type-account_state.delegate" class="anchor"></a><code><span>delegate : <span>string option</span>;</span></code></li><li id="type-account_state.parameters" class="def record field anchored"><a href="#type-account_state.parameters" class="anchor"></a><code><span>parameters : <a href="../Adaptive_issuance_helpers/index.html#type-staking_parameters">Adaptive_issuance_helpers.staking_parameters</a>;</span></code></li><li id="type-account_state.liquid" class="def record field anchored"><a href="#type-account_state.liquid" class="anchor"></a><code><span>liquid : <a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a>;</span></code></li><li id="type-account_state.bonds" class="def record field anchored"><a href="#type-account_state.bonds" class="anchor"></a><code><span>bonds : <a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a>;</span></code></li><li id="type-account_state.frozen_deposits" class="def record field anchored"><a href="#type-account_state.frozen_deposits" class="anchor"></a><code><span>frozen_deposits : <a href="../Tez_staking_helpers/Frozen_tez/index.html#type-t">Tez_staking_helpers.Frozen_tez.t</a>;</span></code></li><li id="type-account_state.unstaked_frozen" class="def record field anchored"><a href="#type-account_state.unstaked_frozen" class="anchor"></a><code><span>unstaked_frozen : <a href="../Tez_staking_helpers/Unstaked_frozen/index.html#type-t">Tez_staking_helpers.Unstaked_frozen.t</a>;</span></code></li><li id="type-account_state.unstaked_finalizable" class="def record field anchored"><a href="#type-account_state.unstaked_finalizable" class="anchor"></a><code><span>unstaked_finalizable : <a href="../Tez_staking_helpers/Unstaked_finalizable/index.html#type-t">Tez_staking_helpers.Unstaked_finalizable.t</a>;</span></code></li><li id="type-account_state.staking_delegator_numerator" class="def record field anchored"><a href="#type-account_state.staking_delegator_numerator" class="anchor"></a><code><span>staking_delegator_numerator : <span class="xref-unresolved">Z</span>.t;</span></code></li><li id="type-account_state.staking_delegate_denominator" class="def record field anchored"><a href="#type-account_state.staking_delegate_denominator" class="anchor"></a><code><span>staking_delegate_denominator : <span class="xref-unresolved">Z</span>.t;</span></code></li><li id="type-account_state.frozen_rights" class="def record field anchored"><a href="#type-account_state.frozen_rights" class="anchor"></a><code><span>frozen_rights : <span><a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a> <a href="CycleMap/index.html#type-t">CycleMap.t</a></span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The portion of rights that comes from staking, used for baking/attesting during the specified cycle.</p><p>At the end of cycle <code>c</code>, the current frozen deposits of the delegate (own + co-staked, taking limit_of_staking_over_baking into account) are added to this table for cycle <code>c + consensus_rights_delay + 1</code>. The table is unmodified if at that time, the account is not a delegate or is a deactivated delegate.</p><span class="comment-delim">*)</span></div></li><li id="type-account_state.slashed_cycles" class="def record field anchored"><a href="#type-account_state.slashed_cycles" class="anchor"></a><code><span>slashed_cycles : <span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Cycle/index.html#type-t">Tezos_alpha_test_helpers.Tez_staking_helpers.Cycle.t</a> list</span>;</span></code></li><li id="type-account_state.last_seen_activity" class="def record field anchored"><a href="#type-account_state.last_seen_activity" class="anchor"></a><code><span>last_seen_activity : <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Cycle/index.html#type-t">Tezos_alpha_test_helpers.Tez_staking_helpers.Cycle.t</a>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Abstract information of accounts</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_account"><a href="#val-init_account" class="anchor"></a><code><span><span class="keyword">val</span> init_account : 
  <span><span class="label">name</span>:<a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-key">Tezos_base.TzPervasives.String.Map.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?delegate</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">pkh</span>:<a href="../../../octez-libs/Tezos_crypto/Signature/Public_key_hash/index.html#type-t">Tezos_base.TzPervasives.Signature.Public_key_hash.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">contract</span>:<a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Contract/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Contract.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">parameters</span>:<a href="../Adaptive_issuance_helpers/index.html#type-staking_parameters">Adaptive_issuance_helpers.staking_parameters</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?liquid</span>:<a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?bonds</span>:<a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?frozen_deposits</span>:<a href="../Tez_staking_helpers/Frozen_tez/index.html#type-t">Tez_staking_helpers.Frozen_tez.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?unstaked_frozen</span>:<a href="../Tez_staking_helpers/Unstaked_frozen/index.html#type-t">Tez_staking_helpers.Unstaked_frozen.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?unstaked_finalizable</span>:<a href="../Tez_staking_helpers/Unstaked_finalizable/index.html#type-t">Tez_staking_helpers.Unstaked_finalizable.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?staking_delegator_numerator</span>:<span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?staking_delegate_denominator</span>:<span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?frozen_rights</span>:<span><a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a> <a href="CycleMap/index.html#type-t">CycleMap.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?slashed_cycles</span>:<span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Cycle/index.html#type-t">Tezos_alpha_test_helpers.Tez_staking_helpers.Cycle.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?last_seen_activity</span>:<a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Cycle/index.html#type-cycle">Tezos_alpha_test_helpers.Tez_staking_helpers.Cycle.cycle</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-account_state">account_state</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-account_map"><a href="#type-account_map" class="anchor"></a><code><span><span class="keyword">type</span> account_map</span><span> = <span><a href="#type-account_state">account_state</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-t">Tezos_base.TzPervasives.String.Map.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-balance"><a href="#type-balance" class="anchor"></a><code><span><span class="keyword">type</span> balance</span><span> = </span><span>{</span></code><ol><li id="type-balance.liquid_b" class="def record field anchored"><a href="#type-balance.liquid_b" class="anchor"></a><code><span>liquid_b : <a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a>;</span></code></li><li id="type-balance.bonds_b" class="def record field anchored"><a href="#type-balance.bonds_b" class="anchor"></a><code><span>bonds_b : <a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a>;</span></code></li><li id="type-balance.staked_b" class="def record field anchored"><a href="#type-balance.staked_b" class="anchor"></a><code><span>staked_b : <a href="../Tez_staking_helpers/Partial_tez/index.html#type-t">Tez_staking_helpers.Partial_tez.t</a>;</span></code></li><li id="type-balance.unstaked_frozen_b" class="def record field anchored"><a href="#type-balance.unstaked_frozen_b" class="anchor"></a><code><span>unstaked_frozen_b : <a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a>;</span></code></li><li id="type-balance.unstaked_finalizable_b" class="def record field anchored"><a href="#type-balance.unstaked_finalizable_b" class="anchor"></a><code><span>unstaked_finalizable_b : <a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a>;</span></code></li><li id="type-balance.staking_delegator_numerator_b" class="def record field anchored"><a href="#type-balance.staking_delegator_numerator_b" class="anchor"></a><code><span>staking_delegator_numerator_b : <span class="xref-unresolved">Z</span>.t;</span></code></li><li id="type-balance.staking_delegate_denominator_b" class="def record field anchored"><a href="#type-balance.staking_delegate_denominator_b" class="anchor"></a><code><span>staking_delegate_denominator_b : <span class="xref-unresolved">Z</span>.t;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Balance returned by RPCs. Partial tez are rounded down</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-balance_zero"><a href="#val-balance_zero" class="anchor"></a><code><span><span class="keyword">val</span> balance_zero : <a href="#type-balance">balance</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-balance_of_account"><a href="#val-balance_of_account" class="anchor"></a><code><span><span class="keyword">val</span> balance_of_account : 
  <span><a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-key">Tezos_base.TzPervasives.String.Map.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-account_map">account_map</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-balance">balance</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-balance_pp"><a href="#val-balance_pp" class="anchor"></a><code><span><span class="keyword">val</span> balance_pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-balance">balance</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-balance_update_pp"><a href="#val-balance_update_pp" class="anchor"></a><code><span><span class="keyword">val</span> balance_update_pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-balance">balance</a> * <a href="#type-balance">balance</a>)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_balance_equal"><a href="#val-assert_balance_equal" class="anchor"></a><code><span><span class="keyword">val</span> assert_balance_equal : 
  <span><span class="label">loc</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-balance">balance</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-balance">balance</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(unit, <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_account"><a href="#val-update_account" class="anchor"></a><code><span><span class="keyword">val</span> update_account : 
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-key">Tezos_base.TzPervasives.String.Map.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-t">Tezos_base.TzPervasives.String.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-t">Tezos_base.TzPervasives.String.Map.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-balance_and_total_balance_of_account"><a href="#val-balance_and_total_balance_of_account" class="anchor"></a><code><span><span class="keyword">val</span> balance_and_total_balance_of_account : 
  <span><a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-key">Tezos_base.TzPervasives.String.Map.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-account_map">account_map</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-balance">balance</a> * <a href="../Tez_staking_helpers/Tez/index.html#type-t">Tez_staking_helpers.Tez.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_pseudotokens_consistency"><a href="#val-assert_pseudotokens_consistency" class="anchor"></a><code><span><span class="keyword">val</span> assert_pseudotokens_consistency : 
  <span><span class="label">loc</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-balance">balance</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-account_state">account_state</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-account_state">account_state</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-t">Tezos_base.TzPervasives.String.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_balance_from_context"><a href="#val-get_balance_from_context" class="anchor"></a><code><span><span class="keyword">val</span> get_balance_from_context : 
  <span><span class="xref-unresolved">Tezos_alpha_test_helpers__Context.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Contract/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Contract.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="#type-balance">balance</a> * <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Tez/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Tez.t</a>,
    <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_balance_check"><a href="#val-assert_balance_check" class="anchor"></a><code><span><span class="keyword">val</span> assert_balance_check : 
  <span><span class="label">loc</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Tezos_alpha_test_helpers__Context.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-key">Tezos_base.TzPervasives.String.Map.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-account_state">account_state</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-t">Tezos_base.TzPervasives.String.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(unit, <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_debug_balance"><a href="#val-log_debug_balance" class="anchor"></a><code><span><span class="keyword">val</span> log_debug_balance : 
  <span><a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-key">Tezos_base.TzPervasives.String.Map.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-account_map">account_map</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_debug_rpc_balance"><a href="#val-log_debug_rpc_balance" class="anchor"></a><code><span><span class="keyword">val</span> log_debug_rpc_balance : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Contract/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Contract.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Block/index.html#type-t">Block.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_debug_balance_update"><a href="#val-log_debug_balance_update" class="anchor"></a><code><span><span class="keyword">val</span> log_debug_balance_update : 
  <span><a href="../../../octez-libs/Tezos_base/TzPervasives/String/Map/index.html#type-key">Tezos_base.TzPervasives.String.Map.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-account_map">account_map</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-account_map">account_map</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-current_total_frozen_deposits_with_limits"><a href="#val-current_total_frozen_deposits_with_limits" class="anchor"></a><code><span><span class="keyword">val</span> current_total_frozen_deposits_with_limits : 
  <span><a href="#type-account_state">account_state</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Tez/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Tez.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_activity"><a href="#val-update_activity" class="anchor"></a><code><span><span class="keyword">val</span> update_activity : 
  <span><a href="#type-account_state">account_state</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Constants/Parametric/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Constants.Parametric.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Cycle/index.html#type-t">Tezos_alpha_test_helpers.Tez_staking_helpers.Cycle.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-account_state">account_state</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_balance_evolution"><a href="#val-assert_balance_evolution" class="anchor"></a><code><span><span class="keyword">val</span> assert_balance_evolution : 
  <span><span class="label">loc</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">for_accounts</span>:<span><a href="../../../octez-libs/Tezos_base/TzPervasives/String/index.html#type-t">Tezos_base.TzPervasives.String.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">part</span>:<span>[&lt; `liquid <span>| `staked</span> <span>| `unstaked_finalizable</span> <span>| `unstaked_frozen</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">name</span>:<a href="../../../octez-libs/Tezos_base/TzPervasives/String/index.html#type-t">Tezos_base.TzPervasives.String.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">old_balance</span>:<a href="#type-balance">balance</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">new_balance</span>:<a href="#type-balance">balance</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Tez_staking_helpers/Partial_tez/index.html#type-t">Tez_staking_helpers.Partial_tez.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span><a href="../Tez_staking_helpers/Partial_tez/index.html#type-t">Tez_staking_helpers.Partial_tez.t</a> <span class="arrow">&#45;&gt;</span></span>
    bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div></div></body></html>
