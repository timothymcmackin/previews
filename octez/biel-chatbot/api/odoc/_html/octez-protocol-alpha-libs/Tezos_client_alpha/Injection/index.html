<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Injection (octez-protocol-alpha-libs.Tezos_client_alpha.Injection)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-protocol-alpha-libs</a> &#x00BB; <a href="../index.html">Tezos_client_alpha</a> &#x00BB; Injection</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_client_alpha.Injection</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-preapply_result"><a href="#type-preapply_result" class="anchor"></a><code><span><span class="keyword">type</span> <span>'kind preapply_result</span></span><span> =
  <a href="../../../octez-libs/Tezos_crypto/Hashed/Operation_hash/index.html#type-t">Tezos_base.TzPervasives.Operation_hash.t</a>
  * <span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-operation">Tezos_protocol_alpha.Protocol.Alpha_context.operation</a></span>
  * <span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Apply_results/index.html#type-operation_metadata">Tezos_protocol_alpha.Protocol.Apply_results.operation_metadata</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fee_parameter"><a href="#type-fee_parameter" class="anchor"></a><code><span><span class="keyword">type</span> fee_parameter</span><span> = </span><span>{</span></code><ol><li id="type-fee_parameter.minimal_fees" class="def record field anchored"><a href="#type-fee_parameter.minimal_fees" class="anchor"></a><code><span>minimal_fees : <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Tez/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Tez.t</a>;</span></code></li><li id="type-fee_parameter.minimal_nanotez_per_byte" class="def record field anchored"><a href="#type-fee_parameter.minimal_nanotez_per_byte" class="anchor"></a><code><span>minimal_nanotez_per_byte : <span class="xref-unresolved">Q</span>.t;</span></code></li><li id="type-fee_parameter.minimal_nanotez_per_gas_unit" class="def record field anchored"><a href="#type-fee_parameter.minimal_nanotez_per_gas_unit" class="anchor"></a><code><span>minimal_nanotez_per_gas_unit : <span class="xref-unresolved">Q</span>.t;</span></code></li><li id="type-fee_parameter.force_low_fee" class="def record field anchored"><a href="#type-fee_parameter.force_low_fee" class="anchor"></a><code><span>force_low_fee : bool;</span></code></li><li id="type-fee_parameter.fee_cap" class="def record field anchored"><a href="#type-fee_parameter.fee_cap" class="anchor"></a><code><span>fee_cap : <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Tez/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Tez.t</a>;</span></code></li><li id="type-fee_parameter.burn_cap" class="def record field anchored"><a href="#type-fee_parameter.burn_cap" class="anchor"></a><code><span>burn_cap : <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Tez/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Tez.t</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-preapply"><a href="#val-preapply" class="anchor"></a><code><span><span class="keyword">val</span> preapply : 
  <span><a href="../Protocol_client_context/class-type-full/index.html">Protocol_client_context.full</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">chain</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-chain">Tezos_shell_services.Shell_services.chain</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">block</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-block">Tezos_shell_services.Shell_services.block</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?verbose_signing</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?fee_parameter</span>:<a href="#type-fee_parameter">fee_parameter</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?branch</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?src_sk</span>:<a href="../../../octez-shell-libs/Tezos_client_base/Client_keys/index.html#type-sk_uri">Tezos_client_base.Client_keys.sk_uri</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-contents_list">Tezos_protocol_alpha.Protocol.Alpha_context.contents_list</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'kind</span> <a href="#type-preapply_result">preapply_result</a></span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-simulate"><a href="#val-simulate" class="anchor"></a><code><span><span class="keyword">val</span> simulate : 
  <span><a href="../Protocol_client_context/class-type-full/index.html">Protocol_client_context.full</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">chain</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-chain">Tezos_shell_services.Shell_services.chain</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">block</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-block">Tezos_shell_services.Shell_services.block</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?successor_level</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?branch</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?latency</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-contents_list">Tezos_protocol_alpha.Protocol.Alpha_context.contents_list</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'kind</span> <a href="#type-preapply_result">preapply_result</a></span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Perform simulation of the given operations and return the corresponding <code>preapply_result</code>s.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-result_list"><a href="#type-result_list" class="anchor"></a><code><span><span class="keyword">type</span> <span>'kind result_list</span></span><span> =
  <a href="../../../octez-libs/Tezos_crypto/Hashed/Operation_hash/index.html#type-t">Tezos_base.TzPervasives.Operation_hash.t</a>
  * <span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-contents_list">Tezos_protocol_alpha.Protocol.Alpha_context.contents_list</a></span>
  * <span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Apply_results/index.html#type-contents_result_list">Tezos_protocol_alpha.Protocol.Apply_results.contents_result_list</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inject_operation"><a href="#val-inject_operation" class="anchor"></a><code><span><span class="keyword">val</span> inject_operation : 
  <span><a href="../Protocol_client_context/class-type-full/index.html">Protocol_client_context.full</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">chain</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-chain">Tezos_shell_services.Shell_services.chain</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">block</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-block">Tezos_shell_services.Shell_services.block</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?confirmations</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dry_run</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?simulation</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?successor_level</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?branch</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?src_sk</span>:<a href="../../../octez-shell-libs/Tezos_client_base/Client_keys/index.html#type-sk_uri">Tezos_client_base.Client_keys.sk_uri</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?verbose_signing</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?fee_parameter</span>:<a href="#type-fee_parameter">fee_parameter</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-contents_list">Tezos_protocol_alpha.Protocol.Alpha_context.contents_list</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'kind</span> <a href="#type-result_list">result_list</a></span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>/!\ <code>inject_operation</code> does not perform automatic patching of gas, storage and fees; use <code>inject_manager_operation</code> to inject manager operations.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-result"><a href="#type-result" class="anchor"></a><code><span><span class="keyword">type</span> <span>'kind result</span></span><span> =
  <a href="../../../octez-libs/Tezos_crypto/Hashed/Operation_hash/index.html#type-t">Tezos_base.TzPervasives.Operation_hash.t</a>
  * <span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-contents">Tezos_protocol_alpha.Protocol.Alpha_context.contents</a></span>
  * <span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Apply_results/index.html#type-contents_result">Tezos_protocol_alpha.Protocol.Apply_results.contents_result</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prepare_manager_operation"><a href="#val-prepare_manager_operation" class="anchor"></a><code><span><span class="keyword">val</span> prepare_manager_operation : 
  <span><span class="label">fee</span>:<span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Tez/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Tez.t</a> <a href="../Limit/index.html#type-t">Limit.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">gas_limit</span>:
    <span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Gas/Arith/index.html#type-integral">Tezos_protocol_alpha.Protocol.Alpha_context.Gas.Arith.integral</a> <a href="../Limit/index.html#type-t">Limit.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">storage_limit</span>:<span><span class="xref-unresolved">Z</span>.t <a href="../Limit/index.html#type-t">Limit.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-manager_operation">Tezos_protocol_alpha.Protocol.Alpha_context.manager_operation</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'kind</span> <a href="../Annotated_manager_operation/index.html#type-t">Annotated_manager_operation.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inject_manager_operation"><a href="#val-inject_manager_operation" class="anchor"></a><code><span><span class="keyword">val</span> inject_manager_operation : 
  <span><a href="../Protocol_client_context/class-type-full/index.html">Protocol_client_context.full</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">chain</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-chain">Tezos_shell_services.Shell_services.chain</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">block</span>:<a href="../../../octez-shell-libs/Tezos_shell_services/Shell_services/index.html#type-block">Tezos_shell_services.Shell_services.block</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?successor_level</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?branch</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?confirmations</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dry_run</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?verbose_signing</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?simulation</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?force</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?safety_guard</span>:<a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Gas/Arith/index.html#type-integral">Tezos_protocol_alpha.Protocol.Alpha_context.Gas.Arith.integral</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">source</span>:<a href="../../../octez-libs/Tezos_crypto/Signature/Public_key_hash/index.html#type-t">Tezos_base.TzPervasives.Signature.Public_key_hash.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">src_pk</span>:<a href="../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key">Tezos_base.TzPervasives.Signature.public_key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">src_sk</span>:<a href="../../../octez-shell-libs/Tezos_client_base/Client_keys/index.html#type-sk_uri">Tezos_client_base.Client_keys.sk_uri</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">fee</span>:<span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Tez/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Tez.t</a> <a href="../Limit/index.html#type-t">Limit.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">gas_limit</span>:
    <span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Gas/Arith/index.html#type-integral">Tezos_protocol_alpha.Protocol.Alpha_context.Gas.Arith.integral</a> <a href="../Limit/index.html#type-t">Limit.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">storage_limit</span>:<span><span class="xref-unresolved">Z</span>.t <a href="../Limit/index.html#type-t">Limit.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?counter</span>:<a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Manager_counter/index.html#type-t">Tezos_protocol_alpha.Protocol.Alpha_context.Manager_counter.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?replace_by_fees</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">fee_parameter</span>:<a href="#type-fee_parameter">fee_parameter</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'kind</span> <a href="../Annotated_manager_operation/index.html#type-annotated_list">Annotated_manager_operation.annotated_list</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../../octez-libs/Tezos_crypto/Hashed/Operation_hash/index.html#type-t">Tezos_base.TzPervasives.Operation_hash.t</a>
   * <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-packed_operation">Tezos_protocol_alpha.Protocol.Alpha_context.packed_operation</a>
   * <span><span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Kind/index.html#type-manager">Tezos_protocol_alpha.Protocol.Alpha_context.Kind.manager</a></span>
       <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/index.html#type-contents_list">Tezos_protocol_alpha.Protocol.Alpha_context.contents_list</a></span>
   * <span><span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Alpha_context/Kind/index.html#type-manager">Tezos_protocol_alpha.Protocol.Alpha_context.Kind.manager</a></span>
       <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Apply_results/index.html#type-contents_result_list">Tezos_protocol_alpha.Protocol.Apply_results.contents_result_list</a></span>)</span>
    <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-originated_contracts"><a href="#val-originated_contracts" class="anchor"></a><code><span><span class="keyword">val</span> originated_contracts : 
  <span><span class="label">force</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'kind</span> <a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Apply_results/index.html#type-contents_result_list">Tezos_protocol_alpha.Protocol.Apply_results.contents_result_list</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../tezos-protocol-alpha/Tezos_raw_protocol_alpha/Contract_hash/index.html#type-t">Tezos_protocol_alpha.Protocol.Contract_hash.t</a> list</span>
    <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p>Collects the addresses of all contracts originated by a batch of operations by looking at the operation results. Fails if an operation in the batch is failed unless <code>force</code> is given.</p></div></div></div></body></html>
