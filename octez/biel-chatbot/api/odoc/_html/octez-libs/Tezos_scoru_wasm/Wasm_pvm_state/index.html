<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Wasm_pvm_state (octez-libs.Tezos_scoru_wasm.Wasm_pvm_state)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-libs</a> &#x00BB; <a href="../index.html">Tezos_scoru_wasm</a> &#x00BB; Wasm_pvm_state</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_scoru_wasm.Wasm_pvm_state</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-version"><a href="#type-version" class="anchor"></a><code><span><span class="keyword">type</span> version</span><span> = </span></code><ol><li id="type-version.V0" class="def variant constructor anchored"><a href="#type-version.V0" class="anchor"></a><code><span>| </span><span><span class="constructor">V0</span></span></code></li><li id="type-version.V1" class="def variant constructor anchored"><a href="#type-version.V1" class="anchor"></a><code><span>| </span><span><span class="constructor">V1</span></span></code></li><li id="type-version.V2" class="def variant constructor anchored"><a href="#type-version.V2" class="anchor"></a><code><span>| </span><span><span class="constructor">V2</span></span></code></li><li id="type-version.V3" class="def variant constructor anchored"><a href="#type-version.V3" class="anchor"></a><code><span>| </span><span><span class="constructor">V3</span></span></code></li><li id="type-version.V4" class="def variant constructor anchored"><a href="#type-version.V4" class="anchor"></a><code><span>| </span><span><span class="constructor">V4</span></span></code></li><li id="type-version.V5" class="def variant constructor anchored"><a href="#type-version.V5" class="anchor"></a><code><span>| </span><span><span class="constructor">V5</span></span></code></li><li id="type-version.V6" class="def variant constructor anchored"><a href="#type-version.V6" class="anchor"></a><code><span>| </span><span><span class="constructor">V6</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-versions"><a href="#val-versions" class="anchor"></a><code><span><span class="keyword">val</span> versions : <span><span>(string * <a href="#type-version">version</a>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-versions_flip"><a href="#val-versions_flip" class="anchor"></a><code><span><span class="keyword">val</span> versions_flip : <span><span>(<a href="#type-version">version</a> * string)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-version_encoding"><a href="#val-version_encoding" class="anchor"></a><code><span><span class="keyword">val</span> version_encoding : <span><a href="#type-version">version</a> <a href="../../Data_encoding/index.html#type-encoding">Tezos_base.TzPervasives.Data_encoding.encoding</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-input_info"><a href="#type-input_info" class="anchor"></a><code><span><span class="keyword">type</span> input_info</span><span> = </span><span>{</span></code><ol><li id="type-input_info.inbox_level" class="def record field anchored"><a href="#type-input_info.inbox_level" class="anchor"></a><code><span>inbox_level : <a href="../../Tezos_base/Bounded/Non_negative_int32/index.html#type-t">Tezos_base.Bounded.Non_negative_int32.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The inbox level at which the message exists.</p><span class="comment-delim">*)</span></div></li><li id="type-input_info.message_counter" class="def record field anchored"><a href="#type-input_info.message_counter" class="anchor"></a><code><span>message_counter : <span class="xref-unresolved">Z</span>.t;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The index of the message in the inbox.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Represents the location of an input message.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-output_info"><a href="#type-output_info" class="anchor"></a><code><span><span class="keyword">type</span> output_info</span><span> = </span><span>{</span></code><ol><li id="type-output_info.outbox_level" class="def record field anchored"><a href="#type-output_info.outbox_level" class="anchor"></a><code><span>outbox_level : <a href="../../Tezos_base/Bounded/Non_negative_int32/index.html#type-t">Tezos_base.Bounded.Non_negative_int32.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The outbox level at which the message exists.</p><span class="comment-delim">*)</span></div></li><li id="type-output_info.message_index" class="def record field anchored"><a href="#type-output_info.message_index" class="anchor"></a><code><span>message_index : <span class="xref-unresolved">Z</span>.t;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The index of the message in the outbox.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Represents the location of an output message.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-reveal"><a href="#type-reveal" class="anchor"></a><code><span><span class="keyword">type</span> reveal</span><span> = <a href="../../Tezos_webassembly_interpreter/Host_funcs/index.html#type-reveal">Tezos_webassembly_interpreter.Host_funcs.reveal</a></span><span> = </span></code><ol><li id="type-reveal.Reveal_raw" class="def variant constructor anchored"><a href="#type-reveal.Reveal_raw" class="anchor"></a><code><span>| </span><span><span class="constructor">Reveal_raw</span> <span class="keyword">of</span> string</span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reveal_raw_data_tag"><a href="#val-reveal_raw_data_tag" class="anchor"></a><code><span><span class="keyword">val</span> reveal_raw_data_tag : char</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reveal_raw_data"><a href="#val-reveal_raw_data" class="anchor"></a><code><span><span class="keyword">val</span> reveal_raw_data : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-reveal">reveal</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reveal_metadata_payload"><a href="#val-reveal_metadata_payload" class="anchor"></a><code><span><span class="keyword">val</span> reveal_metadata_payload : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reveal_metadata"><a href="#val-reveal_metadata" class="anchor"></a><code><span><span class="keyword">val</span> reveal_metadata : <a href="#type-reveal">reveal</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Compatibility"><a href="#module-Compatibility" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Compatibility/index.html">Compatibility</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-input_request"><a href="#type-input_request" class="anchor"></a><code><span><span class="keyword">type</span> input_request</span><span> = </span></code><ol><li id="type-input_request.No_input_required" class="def variant constructor anchored"><a href="#type-input_request.No_input_required" class="anchor"></a><code><span>| </span><span><span class="constructor">No_input_required</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The VM does not expect any input.</p><span class="comment-delim">*)</span></div></li><li id="type-input_request.Input_required" class="def variant constructor anchored"><a href="#type-input_request.Input_required" class="anchor"></a><code><span>| </span><span><span class="constructor">Input_required</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The VM needs input in order to progress.</p><span class="comment-delim">*)</span></div></li><li id="type-input_request.Reveal_required" class="def variant constructor anchored"><a href="#type-input_request.Reveal_required" class="anchor"></a><code><span>| </span><span><span class="constructor">Reveal_required</span> <span class="keyword">of</span> <a href="#type-reveal">reveal</a></span></code></li></ol></div><div class="spec-doc"><p>Represents the state of input requests.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-info"><a href="#type-info" class="anchor"></a><code><span><span class="keyword">type</span> info</span><span> = </span><span>{</span></code><ol><li id="type-info.current_tick" class="def record field anchored"><a href="#type-info.current_tick" class="anchor"></a><code><span>current_tick : <span class="xref-unresolved">Z</span>.t;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The number of ticks processed by the VM, zero for the initial state. <code>current_tick</code> must be incremented for each call to <code>step</code></p><span class="comment-delim">*)</span></div></li><li id="type-info.last_input_read" class="def record field anchored"><a href="#type-info.last_input_read" class="anchor"></a><code><span>last_input_read : <span><a href="#type-input_info">input_info</a> option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The last message to be read by the VM, if any.</p><span class="comment-delim">*)</span></div></li><li id="type-info.input_request" class="def record field anchored"><a href="#type-info.input_request" class="anchor"></a><code><span>input_request : <a href="#type-input_request">input_request</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The current VM input request.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Represents the state of the VM.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Internal_state"><a href="#module-Internal_state" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Internal_state/index.html">Internal_state</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This module type defines the state for the PVM. For use in lib_scoru_wasm only.</p></div></div></div></body></html>
