<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tezt_wrapper (octez-libs.Tezt_wrapper)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">octez-libs</a> &#x00BB; Tezt_wrapper</nav><header class="odoc-preamble"><h1>Module <code><span>Tezt_wrapper</span></code></h1><p>Wrapper around Tezt to declare test dependencies.</p></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="xref-unresolved">Tezt</span></span></code></summary><div class="odoc-spec"><div class="spec module anchored" id="module-Background"><a href="#module-Background" class="anchor"></a><code><span><span class="keyword">module</span> Background</span><span> = <span class="xref-unresolved">Tezt_core</span>.Background</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Base"><a href="#module-Base" class="anchor"></a><code><span><span class="keyword">module</span> Base</span><span> = <span class="xref-unresolved">Tezt_core</span>.Base</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Check"><a href="#module-Check" class="anchor"></a><code><span><span class="keyword">module</span> Check</span><span> = <span class="xref-unresolved">Tezt_core</span>.Check</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Cli"><a href="#module-Cli" class="anchor"></a><code><span><span class="keyword">module</span> Cli</span><span> = <span class="xref-unresolved">Tezt_core</span>.Cli</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Diff"><a href="#module-Diff" class="anchor"></a><code><span><span class="keyword">module</span> Diff</span><span> = <span class="xref-unresolved">Tezt_core</span>.Diff</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-JSON"><a href="#module-JSON" class="anchor"></a><code><span><span class="keyword">module</span> JSON</span><span> = <span class="xref-unresolved">JSON</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Log"><a href="#module-Log" class="anchor"></a><code><span><span class="keyword">module</span> Log</span><span> = <span class="xref-unresolved">Tezt_core</span>.Log</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Process"><a href="#module-Process" class="anchor"></a><code><span><span class="keyword">module</span> Process</span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Process_hooks"><a href="#module-Process_hooks" class="anchor"></a><code><span><span class="keyword">module</span> Process_hooks</span><span> = <span class="xref-unresolved">Tezt_core</span>.Process_hooks</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Runner"><a href="#module-Runner" class="anchor"></a><code><span><span class="keyword">module</span> Runner</span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Temp"><a href="#module-Temp" class="anchor"></a><code><span><span class="keyword">module</span> Temp</span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Process_common"><a href="#module-Process_common" class="anchor"></a><code><span><span class="keyword">module</span> Process_common</span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Echo"><a href="#module-Echo" class="anchor"></a><code><span><span class="keyword">module</span> Echo</span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec module anchored" id="module-Uses"><a href="#module-Uses" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Uses/index.html">Uses</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Test dependencies.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Test"><a href="#module-Test" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Test/index.html">Test</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Regression"><a href="#module-Regression" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Regression/index.html">Regression</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-error_mode"><a href="#type-error_mode" class="anchor"></a><code><span><span class="keyword">type</span> error_mode</span><span> = </span></code><ol><li id="type-error_mode.Ignore" class="def variant constructor anchored"><a href="#type-error_mode.Ignore" class="anchor"></a><code><span>| </span><span><span class="constructor">Ignore</span></span></code></li><li id="type-error_mode.Warn" class="def variant constructor anchored"><a href="#type-error_mode.Warn" class="anchor"></a><code><span>| </span><span><span class="constructor">Warn</span></span></code></li><li id="type-error_mode.Fail" class="def variant constructor anchored"><a href="#type-error_mode.Fail" class="anchor"></a><code><span>| </span><span><span class="constructor">Fail</span></span></code></li></ol></div><div class="spec-doc"><p>Error modes.</p><ul><li><code>Ignore</code>: do not warn, do not fail.</li><li><code>Warn</code>: warn, but do not fail.</li><li><code>Fail</code>: output an error and fail the test.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error_mode_for_missing_use"><a href="#val-error_mode_for_missing_use" class="anchor"></a><code><span><span class="keyword">val</span> error_mode_for_missing_use : <span><a href="#type-error_mode">error_mode</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>What to do if a test uses something without having it declared in its <code>~uses</code>.</p><p>Recommended setting for tests that are intended to run in the CI is <code>Fail</code>, which is the default.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error_mode_for_useless_use"><a href="#val-error_mode_for_useless_use" class="anchor"></a><code><span><span class="keyword">val</span> error_mode_for_useless_use : <span><a href="#type-error_mode">error_mode</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>What to do if a test declares something in its <code>~uses</code> and does not use it.</p><p>Recommended setting for tests that are intended to run in the CI is <code>Warn</code>, which is the default.</p><p>Using <code>Fail</code> is possible but:</p><ul><li>if a test is non-deterministic and only sometimes uses something, one needs to make sure <code>Uses.path</code> is always called anyway;</li><li>if a test actually uses something but not through <code>Uses.path</code>, the wrapper will not be able to detect it, so one will have to call <code>Uses.path</code> just to suppress the error.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error_mode_for_non_existing_use"><a href="#val-error_mode_for_non_existing_use" class="anchor"></a><code><span><span class="keyword">val</span> error_mode_for_non_existing_use : <span><a href="#type-error_mode">error_mode</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>What to do if a test declares a <code>~uses</code> with a path that does not exist.</p><p>Recommended setting is <code>Fail</code>, which is the default.</p></div></div></div></body></html>
