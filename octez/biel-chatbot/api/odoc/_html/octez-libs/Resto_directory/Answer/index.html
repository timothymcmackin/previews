<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Answer (octez-libs.Resto_directory.Answer)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-libs</a> &#x00BB; <a href="../index.html">Resto_directory</a> &#x00BB; Answer</nav><header class="odoc-preamble"><h1>Module <code><span>Resto_directory.Answer</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('o, 'e) t</span></span><span> = </span><span>[ </span></code><ol><li id="type-t.Ok" class="def variant constructor anchored"><a href="#type-t.Ok" class="anchor"></a><code><span>| </span><span>`Ok <span class="keyword">of</span> <span class="type-var">'o</span></span></code></li><li id="type-t.OkChunk" class="def variant constructor anchored"><a href="#type-t.OkChunk" class="anchor"></a><code><span>| </span><span>`OkChunk <span class="keyword">of</span> <span class="type-var">'o</span></span></code></li><li id="type-t.OkStream" class="def variant constructor anchored"><a href="#type-t.OkStream" class="anchor"></a><code><span>| </span><span>`OkStream <span class="keyword">of</span> <span><span class="type-var">'o</span> <a href="#type-stream">stream</a></span></span></code></li><li id="type-t.Created" class="def variant constructor anchored"><a href="#type-t.Created" class="anchor"></a><code><span>| </span><span>`Created <span class="keyword">of</span> <span>string option</span></span></code></li><li id="type-t.No_content" class="def variant constructor anchored"><a href="#type-t.No_content" class="anchor"></a><code><span>| </span><span>`No_content</span></code></li><li id="type-t.Unauthorized" class="def variant constructor anchored"><a href="#type-t.Unauthorized" class="anchor"></a><code><span>| </span><span>`Unauthorized <span class="keyword">of</span> <span><span class="type-var">'e</span> option</span></span></code></li><li id="type-t.Forbidden" class="def variant constructor anchored"><a href="#type-t.Forbidden" class="anchor"></a><code><span>| </span><span>`Forbidden <span class="keyword">of</span> <span><span class="type-var">'e</span> option</span></span></code></li><li id="type-t.Not_found" class="def variant constructor anchored"><a href="#type-t.Not_found" class="anchor"></a><code><span>| </span><span>`Not_found <span class="keyword">of</span> <span><span class="type-var">'e</span> option</span></span></code></li><li id="type-t.Conflict" class="def variant constructor anchored"><a href="#type-t.Conflict" class="anchor"></a><code><span>| </span><span>`Conflict <span class="keyword">of</span> <span><span class="type-var">'e</span> option</span></span></code></li><li id="type-t.Gone" class="def variant constructor anchored"><a href="#type-t.Gone" class="anchor"></a><code><span>| </span><span>`Gone <span class="keyword">of</span> <span><span class="type-var">'e</span> option</span></span></code></li><li id="type-t.Error" class="def variant constructor anchored"><a href="#type-t.Error" class="anchor"></a><code><span>| </span><span>`Error <span class="keyword">of</span> <span><span class="type-var">'e</span> option</span></span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Return type for service handler</p><p>Note about the three distinct <code>200</code>-code constructors:</p><ul><li><code>`Ok</code> is for RPCs that return a value that the server should encode as one blob of data. This should be the most common answer for successful returns of simple, reasonably-sized values.</li><li><code>`OkChunk</code> is for RPCs that return a value that the server should encode as chunks: multiple blobs, the concatenation of which represents the data. This should be reserved for values that can be fairly large (typically over 4Kb, but this threshold may vary depending on your setup). Data is then transferred using chunked transfer encoding.</li><li><code>`OkStream</code> is for RPCs that return a stream of values, not all of which are determined at the time of call.</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-stream"><a href="#type-stream" class="anchor"></a><code><span><span class="keyword">and</span> <span>'a stream</span></span><span> = </span><span>{</span></code><ol><li id="type-stream.next" class="def record field anchored"><a href="#type-stream.next" class="anchor"></a><code><span>next : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="xref-unresolved">Lwt</span>.t</span>;</span></code></li><li id="type-stream.shutdown" class="def record field anchored"><a href="#type-stream.shutdown" class="anchor"></a><code><span>shutdown : <span>unit <span class="arrow">&#45;&gt;</span></span> unit;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'o</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'o</span>, <span class="type-var">'e</span>)</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return_stream"><a href="#val-return_stream" class="anchor"></a><code><span><span class="keyword">val</span> return_stream : <span><span><span class="type-var">'o</span> <a href="#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'o</span>, <span class="type-var">'e</span>)</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div></div></body></html>
