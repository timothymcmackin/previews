<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Eval (octez-libs.Tezos_webassembly_interpreter.Eval)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-libs</a> &#x00BB; <a href="../index.html">Tezos_webassembly_interpreter</a> &#x00BB; Eval</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_webassembly_interpreter.Eval</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-map_kont"><a href="#type-map_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) map_kont</span></span><span> = </span><span>{</span></code><ol><li id="type-map_kont.origin" class="def record field anchored"><a href="#type-map_kont.origin" class="anchor"></a><code><span>origin : <span><span class="type-var">'a</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-map_kont.destination" class="def record field anchored"><a href="#type-map_kont.destination" class="anchor"></a><code><span>destination : <span><span class="type-var">'b</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-map_kont.offset" class="def record field anchored"><a href="#type-map_kont.offset" class="anchor"></a><code><span>offset : int32;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-concat_kont"><a href="#type-concat_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a concat_kont</span></span><span> = </span><span>{</span></code><ol><li id="type-concat_kont.lv" class="def record field anchored"><a href="#type-concat_kont.lv" class="anchor"></a><code><span>lv : <span><span class="type-var">'a</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-concat_kont.rv" class="def record field anchored"><a href="#type-concat_kont.rv" class="anchor"></a><code><span>rv : <span><span class="type-var">'a</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-concat_kont.res" class="def record field anchored"><a href="#type-concat_kont.res" class="anchor"></a><code><span>res : <span><span class="type-var">'a</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-concat_kont.offset" class="def record field anchored"><a href="#type-concat_kont.offset" class="anchor"></a><code><span>offset : int32;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Link"><a href="#exception-Link" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Link</span> <span class="keyword">of</span> <a href="../Source/index.html#type-region">Source.region</a> * string</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Trap"><a href="#exception-Trap" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Trap</span> <span class="keyword">of</span> <a href="../Source/index.html#type-region">Source.region</a> * string</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Crash"><a href="#exception-Crash" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Crash</span> <span class="keyword">of</span> <a href="../Source/index.html#type-region">Source.region</a> * string</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Exhaustion"><a href="#exception-Exhaustion" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Exhaustion</span> <span class="keyword">of</span> <a href="../Source/index.html#type-region">Source.region</a> * string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-init_state"><a href="#type-init_state" class="anchor"></a><code><span><span class="keyword">type</span> init_state</span><span> = </span></code><ol><li id="type-init_state.Init_step" class="def variant constructor anchored"><a href="#type-init_state.Init_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Init_step</span></span></code></li><li id="type-init_state.Map_step" class="def variant constructor anchored"><a href="#type-init_state.Map_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Map_step</span></span></code></li><li id="type-init_state.Map_concat_step" class="def variant constructor anchored"><a href="#type-init_state.Map_concat_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Map_concat_step</span></span></code></li><li id="type-init_state.Join_step" class="def variant constructor anchored"><a href="#type-init_state.Join_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Join_step</span></span></code></li><li id="type-init_state.Section_step" class="def variant constructor anchored"><a href="#type-init_state.Section_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Section_step</span></span></code></li><li id="type-init_state.Eval_const" class="def variant constructor anchored"><a href="#type-init_state.Eval_const" class="anchor"></a><code><span>| </span><span><span class="constructor">Eval_const</span></span></code></li><li id="type-init_state.Create_global_step" class="def variant constructor anchored"><a href="#type-init_state.Create_global_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Create_global_step</span></span></code></li><li id="type-init_state.Run_data_step" class="def variant constructor anchored"><a href="#type-init_state.Run_data_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Run_data_step</span></span></code></li></ol></div><div class="spec-doc"><p>Possible states of the small-step initializer, used for error reporting.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Init_step_error"><a href="#exception-Init_step_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Init_step_error</span> <span class="keyword">of</span> <a href="#type-init_state">init_state</a></span></code></div><div class="spec-doc"><p>Exception raised on irreducible states of the small step initialization.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-eval_state"><a href="#type-eval_state" class="anchor"></a><code><span><span class="keyword">type</span> eval_state</span><span> = </span></code><ol><li id="type-eval_state.Invoke_step" class="def variant constructor anchored"><a href="#type-eval_state.Invoke_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Invoke_step</span> <span class="keyword">of</span> string</span></code></li><li id="type-eval_state.Label_step" class="def variant constructor anchored"><a href="#type-eval_state.Label_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Label_step</span></span></code></li><li id="type-eval_state.Frame_step" class="def variant constructor anchored"><a href="#type-eval_state.Frame_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Frame_step</span></span></code></li><li id="type-eval_state.Eval_step" class="def variant constructor anchored"><a href="#type-eval_state.Eval_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Eval_step</span></span></code></li></ol></div><div class="spec-doc"><p>Possible erroneous states of the small-step evaluation, used for error reporting.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Evaluation_step_error"><a href="#exception-Evaluation_step_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Evaluation_step_error</span> <span class="keyword">of</span> <a href="#type-eval_state">eval_state</a></span></code></div><div class="spec-doc"><p>Exception raised on irreducible states of the small step evaluation.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-frame"><a href="#type-frame" class="anchor"></a><code><span><span class="keyword">type</span> frame</span><span> = </span><span>{</span></code><ol><li id="type-frame.inst" class="def record field anchored"><a href="#type-frame.inst" class="anchor"></a><code><span>inst : <a href="../Instance/index.html#type-module_key">Instance.module_key</a>;</span></code></li><li id="type-frame.locals" class="def record field anchored"><a href="#type-frame.locals" class="anchor"></a><code><span><span class="keyword">mutable</span> locals : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-admin_instr"><a href="#type-admin_instr" class="anchor"></a><code><span><span class="keyword">type</span> admin_instr</span><span> = <span><a href="#type-admin_instr'">admin_instr'</a> <a href="../Source/index.html#type-phrase">Source.phrase</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-admin_instr'"><a href="#type-admin_instr'" class="anchor"></a><code><span><span class="keyword">and</span> admin_instr'</span><span> = </span></code><ol><li id="type-admin_instr'.From_block" class="def variant constructor anchored"><a href="#type-admin_instr'.From_block" class="anchor"></a><code><span>| </span><span><span class="constructor">From_block</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-block_label">Ast.block_label</a> * int32</span></code></li><li id="type-admin_instr'.Plain" class="def variant constructor anchored"><a href="#type-admin_instr'.Plain" class="anchor"></a><code><span>| </span><span><span class="constructor">Plain</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-instr'">Ast.instr'</a></span></code></li><li id="type-admin_instr'.Refer" class="def variant constructor anchored"><a href="#type-admin_instr'.Refer" class="anchor"></a><code><span>| </span><span><span class="constructor">Refer</span> <span class="keyword">of</span> <a href="../Values/index.html#type-ref_">Values.ref_</a></span></code></li><li id="type-admin_instr'.Invoke" class="def variant constructor anchored"><a href="#type-admin_instr'.Invoke" class="anchor"></a><code><span>| </span><span><span class="constructor">Invoke</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-func_inst">Instance.func_inst</a></span></code></li><li id="type-admin_instr'.Trapping" class="def variant constructor anchored"><a href="#type-admin_instr'.Trapping" class="anchor"></a><code><span>| </span><span><span class="constructor">Trapping</span> <span class="keyword">of</span> string</span></code></li><li id="type-admin_instr'.Returning" class="def variant constructor anchored"><a href="#type-admin_instr'.Returning" class="anchor"></a><code><span>| </span><span><span class="constructor">Returning</span> <span class="keyword">of</span> <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-admin_instr'.Breaking" class="def variant constructor anchored"><a href="#type-admin_instr'.Breaking" class="anchor"></a><code><span>| </span><span><span class="constructor">Breaking</span> <span class="keyword">of</span> int32
  * <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-admin_instr'.Table_init_meta" class="def variant constructor anchored"><a href="#type-admin_instr'.Table_init_meta" class="anchor"></a><code><span>| </span><span><span class="constructor">Table_init_meta</span> <span class="keyword">of</span> int32
  * <a href="../Values/index.html#type-ref_">Values.ref_</a>
  * int32
  * int32
  * int32
  * <a href="../Ast/index.html#type-var">Ast.var</a>
  * <a href="../Ast/index.html#type-var">Ast.var</a></span></code></li><li id="type-admin_instr'.Table_fill_meta" class="def variant constructor anchored"><a href="#type-admin_instr'.Table_fill_meta" class="anchor"></a><code><span>| </span><span><span class="constructor">Table_fill_meta</span> <span class="keyword">of</span> int32 * int32 * int32 * <a href="../Values/index.html#type-ref_">Values.ref_</a> * <a href="../Ast/index.html#type-var">Ast.var</a></span></code></li><li id="type-admin_instr'.Table_copy_meta" class="def variant constructor anchored"><a href="#type-admin_instr'.Table_copy_meta" class="anchor"></a><code><span>| </span><span><span class="constructor">Table_copy_meta</span> <span class="keyword">of</span> int32 * int32 * int32 * int32 * <a href="../Ast/index.html#type-var">Ast.var</a> * <a href="../Ast/index.html#type-var">Ast.var</a> * bool</span></code></li><li id="type-admin_instr'.Memory_init_meta" class="def variant constructor anchored"><a href="#type-admin_instr'.Memory_init_meta" class="anchor"></a><code><span>| </span><span><span class="constructor">Memory_init_meta</span> <span class="keyword">of</span> int32 * int32 * int32 * int32 * int32 * <a href="../Ast/index.html#type-var">Ast.var</a></span></code></li><li id="type-admin_instr'.Memory_fill_meta" class="def variant constructor anchored"><a href="#type-admin_instr'.Memory_fill_meta" class="anchor"></a><code><span>| </span><span><span class="constructor">Memory_fill_meta</span> <span class="keyword">of</span> int32 * int32 * <a href="../Values/index.html#type-num">Values.num</a> * int32</span></code></li><li id="type-admin_instr'.Memory_copy_meta" class="def variant constructor anchored"><a href="#type-admin_instr'.Memory_copy_meta" class="anchor"></a><code><span>| </span><span><span class="constructor">Memory_copy_meta</span> <span class="keyword">of</span> int32 * int32 * int32 * int32 * bool</span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-code"><a href="#type-code" class="anchor"></a><code><span><span class="keyword">type</span> code</span><span> =
  <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>
  * <span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-label"><a href="#type-label" class="anchor"></a><code><span><span class="keyword">type</span> label</span><span> = </span><span>{</span></code><ol><li id="type-label.label_arity" class="def record field anchored"><a href="#type-label.label_arity" class="anchor"></a><code><span>label_arity : <span>int32 option</span>;</span></code></li><li id="type-label.label_break" class="def record field anchored"><a href="#type-label.label_break" class="anchor"></a><code><span>label_break : <span><a href="../Ast/index.html#type-instr">Ast.instr</a> option</span>;</span></code></li><li id="type-label.label_code" class="def record field anchored"><a href="#type-label.label_code" class="anchor"></a><code><span>label_code : <a href="#type-code">code</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ongoing"><a href="#type-ongoing" class="anchor"></a><code><span><span class="keyword">type</span> ongoing</span><span> = </span></code><ol><li id="type-ongoing.Ongoing_kind" class="def variant constructor anchored"><a href="#type-ongoing.Ongoing_kind" class="anchor"></a><code><span>| </span><span><span class="constructor">Ongoing_kind</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-finished"><a href="#type-finished" class="anchor"></a><code><span><span class="keyword">type</span> finished</span><span> = </span></code><ol><li id="type-finished.Finished_kind" class="def variant constructor anchored"><a href="#type-finished.Finished_kind" class="anchor"></a><code><span>| </span><span><span class="constructor">Finished_kind</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-label_kont"><a href="#type-label_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>_ label_kont</span></span><span> = </span></code><ol><li id="type-label_kont.Label_stack" class="def variant constructor anchored"><a href="#type-label_kont.Label_stack" class="anchor"></a><code><span>| </span><span><span class="constructor">Label_stack</span> : <a href="#type-label">label</a>
  * <span><a href="#type-label">label</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span> <span class="arrow">&#45;&gt;</span> <span><a href="#type-ongoing">ongoing</a> <a href="#type-label_kont">label_kont</a></span></span></code></li><li id="type-label_kont.Label_result" class="def variant constructor anchored"><a href="#type-label_kont.Label_result" class="anchor"></a><code><span>| </span><span><span class="constructor">Label_result</span> : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span> <span class="arrow">&#45;&gt;</span> 
  <span><a href="#type-finished">finished</a>
    <a href="#type-label_kont">label_kont</a></span></span></code></li><li id="type-label_kont.Label_trapped" class="def variant constructor anchored"><a href="#type-label_kont.Label_trapped" class="anchor"></a><code><span>| </span><span><span class="constructor">Label_trapped</span> : <span>string <a href="../Source/index.html#type-phrase">Source.phrase</a></span> <span class="arrow">&#45;&gt;</span> <span><a href="#type-finished">finished</a> <a href="#type-label_kont">label_kont</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-frame_stack"><a href="#type-frame_stack" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a frame_stack</span></span><span> = </span><span>{</span></code><ol><li id="type-frame_stack.frame_arity" class="def record field anchored"><a href="#type-frame_stack.frame_arity" class="anchor"></a><code><span>frame_arity : <span>int32 option</span>;</span></code></li><li id="type-frame_stack.frame_specs" class="def record field anchored"><a href="#type-frame_stack.frame_specs" class="anchor"></a><code><span>frame_specs : <a href="#type-frame">frame</a>;</span></code></li><li id="type-frame_stack.frame_label_kont" class="def record field anchored"><a href="#type-frame_stack.frame_label_kont" class="anchor"></a><code><span>frame_label_kont : <span><span class="type-var">'a</span> <a href="#type-label_kont">label_kont</a></span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-invoke_step_kont"><a href="#type-invoke_step_kont" class="anchor"></a><code><span><span class="keyword">type</span> invoke_step_kont</span><span> = </span></code><ol><li id="type-invoke_step_kont.Inv_start" class="def variant constructor anchored"><a href="#type-invoke_step_kont.Inv_start" class="anchor"></a><code><span>| </span><span><span class="constructor">Inv_start</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-invoke_step_kont.func" class="def record field anchored"><a href="#type-invoke_step_kont.func" class="anchor"></a><code><span>func : <a href="../Instance/index.html#type-func_inst">Instance.func_inst</a>;</span></code></li><li id="type-invoke_step_kont.code" class="def record field anchored"><a href="#type-invoke_step_kont.code" class="anchor"></a><code><span>code : <a href="#type-code">code</a>;</span></code></li></ol><code><span>}</span></code></li><li id="type-invoke_step_kont.Inv_prepare_locals" class="def variant constructor anchored"><a href="#type-invoke_step_kont.Inv_prepare_locals" class="anchor"></a><code><span>| </span><span><span class="constructor">Inv_prepare_locals</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-invoke_step_kont.arity" class="def record field anchored"><a href="#type-invoke_step_kont.arity" class="anchor"></a><code><span>arity : int32;</span></code></li><li id="type-invoke_step_kont.args" class="def record field anchored"><a href="#type-invoke_step_kont.args" class="anchor"></a><code><span>args : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.vs" class="def record field anchored"><a href="#type-invoke_step_kont.vs" class="anchor"></a><code><span>vs : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.instructions" class="def record field anchored"><a href="#type-invoke_step_kont.instructions" class="anchor"></a><code><span>instructions : <span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.inst" class="def record field anchored"><a href="#type-invoke_step_kont.inst" class="anchor"></a><code><span>inst : <a href="../Instance/index.html#type-module_key">Instance.module_key</a>;</span></code></li><li id="type-invoke_step_kont.func" class="def record field anchored"><a href="#type-invoke_step_kont.func" class="anchor"></a><code><span>func : <a href="../Ast/index.html#type-func">Ast.func</a>;</span></code></li><li id="type-invoke_step_kont.locals_kont" class="def record field anchored"><a href="#type-invoke_step_kont.locals_kont" class="anchor"></a><code><span>locals_kont : <span><span>(<a href="../Types/index.html#type-value_type">Types.value_type</a>, <a href="../Values/index.html#type-value">Values.value</a>)</span> <a href="#type-map_kont">map_kont</a></span>;</span></code></li></ol><code><span>}</span></code></li><li id="type-invoke_step_kont.Inv_prepare_args" class="def variant constructor anchored"><a href="#type-invoke_step_kont.Inv_prepare_args" class="anchor"></a><code><span>| </span><span><span class="constructor">Inv_prepare_args</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-invoke_step_kont.arity" class="def record field anchored"><a href="#type-invoke_step_kont.arity" class="anchor"></a><code><span>arity : int32;</span></code></li><li id="type-invoke_step_kont.vs" class="def record field anchored"><a href="#type-invoke_step_kont.vs" class="anchor"></a><code><span>vs : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.instructions" class="def record field anchored"><a href="#type-invoke_step_kont.instructions" class="anchor"></a><code><span>instructions : <span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.inst" class="def record field anchored"><a href="#type-invoke_step_kont.inst" class="anchor"></a><code><span>inst : <a href="../Instance/index.html#type-module_key">Instance.module_key</a>;</span></code></li><li id="type-invoke_step_kont.func" class="def record field anchored"><a href="#type-invoke_step_kont.func" class="anchor"></a><code><span>func : <a href="../Ast/index.html#type-func">Ast.func</a>;</span></code></li><li id="type-invoke_step_kont.locals" class="def record field anchored"><a href="#type-invoke_step_kont.locals" class="anchor"></a><code><span>locals : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.args_kont" class="def record field anchored"><a href="#type-invoke_step_kont.args_kont" class="anchor"></a><code><span>args_kont : <span><span>(<a href="../Values/index.html#type-value">Values.value</a>, <a href="../Values/index.html#type-value">Values.value</a>)</span> <a href="#type-map_kont">map_kont</a></span>;</span></code></li></ol><code><span>}</span></code></li><li id="type-invoke_step_kont.Inv_concat" class="def variant constructor anchored"><a href="#type-invoke_step_kont.Inv_concat" class="anchor"></a><code><span>| </span><span><span class="constructor">Inv_concat</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-invoke_step_kont.arity" class="def record field anchored"><a href="#type-invoke_step_kont.arity" class="anchor"></a><code><span>arity : int32;</span></code></li><li id="type-invoke_step_kont.vs" class="def record field anchored"><a href="#type-invoke_step_kont.vs" class="anchor"></a><code><span>vs : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.instructions" class="def record field anchored"><a href="#type-invoke_step_kont.instructions" class="anchor"></a><code><span>instructions : <span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-invoke_step_kont.inst" class="def record field anchored"><a href="#type-invoke_step_kont.inst" class="anchor"></a><code><span>inst : <a href="../Instance/index.html#type-module_key">Instance.module_key</a>;</span></code></li><li id="type-invoke_step_kont.func" class="def record field anchored"><a href="#type-invoke_step_kont.func" class="anchor"></a><code><span>func : <a href="../Ast/index.html#type-func">Ast.func</a>;</span></code></li><li id="type-invoke_step_kont.concat_kont" class="def record field anchored"><a href="#type-invoke_step_kont.concat_kont" class="anchor"></a><code><span>concat_kont : <span><a href="../Values/index.html#type-value">Values.value</a> <a href="#type-concat_kont">concat_kont</a></span>;</span></code></li></ol><code><span>}</span></code></li><li id="type-invoke_step_kont.Inv_reveal_tick" class="def variant constructor anchored"><a href="#type-invoke_step_kont.Inv_reveal_tick" class="anchor"></a><code><span>| </span><span><span class="constructor">Inv_reveal_tick</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-invoke_step_kont.reveal" class="def record field anchored"><a href="#type-invoke_step_kont.reveal" class="anchor"></a><code><span>reveal : <a href="../Host_funcs/index.html#type-reveal">Host_funcs.reveal</a>;</span></code></li><li id="type-invoke_step_kont.base_destination" class="def record field anchored"><a href="#type-invoke_step_kont.base_destination" class="anchor"></a><code><span>base_destination : int32;</span></code></li><li id="type-invoke_step_kont.max_bytes" class="def record field anchored"><a href="#type-invoke_step_kont.max_bytes" class="anchor"></a><code><span>max_bytes : int32;</span></code></li><li id="type-invoke_step_kont.code" class="def record field anchored"><a href="#type-invoke_step_kont.code" class="anchor"></a><code><span>code : <a href="#type-code">code</a>;</span></code></li></ol><code><span>}</span></code></li><li id="type-invoke_step_kont.Inv_stop" class="def variant constructor anchored"><a href="#type-invoke_step_kont.Inv_stop" class="anchor"></a><code><span>| </span><span><span class="constructor">Inv_stop</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-invoke_step_kont.code" class="def record field anchored"><a href="#type-invoke_step_kont.code" class="anchor"></a><code><span>code : <a href="#type-code">code</a>;</span></code></li><li id="type-invoke_step_kont.fresh_frame" class="def record field anchored"><a href="#type-invoke_step_kont.fresh_frame" class="anchor"></a><code><span>fresh_frame : <span><span><a href="#type-ongoing">ongoing</a> <a href="#type-frame_stack">frame_stack</a></span> option</span>;</span></code></li><li id="type-invoke_step_kont.remaining_ticks" class="def record field anchored"><a href="#type-invoke_step_kont.remaining_ticks" class="anchor"></a><code><span>remaining_ticks : <span class="xref-unresolved">Z</span>.t;</span></code></li></ol><code><span>}</span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-label_step_kont"><a href="#type-label_step_kont" class="anchor"></a><code><span><span class="keyword">type</span> label_step_kont</span><span> = </span></code><ol><li id="type-label_step_kont.LS_Start" class="def variant constructor anchored"><a href="#type-label_step_kont.LS_Start" class="anchor"></a><code><span>| </span><span><span class="constructor">LS_Start</span> : <span><a href="#type-ongoing">ongoing</a> <a href="#type-label_kont">label_kont</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-label_step_kont">label_step_kont</a></span></code></li><li id="type-label_step_kont.LS_Craft_frame" class="def variant constructor anchored"><a href="#type-label_step_kont.LS_Craft_frame" class="anchor"></a><code><span>| </span><span><span class="constructor">LS_Craft_frame</span> <span class="keyword">of</span> <span><a href="#type-ongoing">ongoing</a> <a href="#type-label_kont">label_kont</a></span> * <a href="#type-invoke_step_kont">invoke_step_kont</a></span></code></li><li id="type-label_step_kont.LS_Push_frame" class="def variant constructor anchored"><a href="#type-label_step_kont.LS_Push_frame" class="anchor"></a><code><span>| </span><span><span class="constructor">LS_Push_frame</span> <span class="keyword">of</span> <span><a href="#type-ongoing">ongoing</a> <a href="#type-label_kont">label_kont</a></span> * <span><a href="#type-ongoing">ongoing</a> <a href="#type-frame_stack">frame_stack</a></span></span></code></li><li id="type-label_step_kont.LS_Consolidate_top" class="def variant constructor anchored"><a href="#type-label_step_kont.LS_Consolidate_top" class="anchor"></a><code><span>| </span><span><span class="constructor">LS_Consolidate_top</span> <span class="keyword">of</span> <a href="#type-label">label</a>
  * <span><a href="../Values/index.html#type-value">Values.value</a> <a href="#type-concat_kont">concat_kont</a></span>
  * <span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>
  * <span><a href="#type-label">label</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-label_step_kont.LS_Modify_top" class="def variant constructor anchored"><a href="#type-label_step_kont.LS_Modify_top" class="anchor"></a><code><span>| </span><span><span class="constructor">LS_Modify_top</span> : <span><span class="type-var">'a</span> <a href="#type-label_kont">label_kont</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-label_step_kont">label_step_kont</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-step_kont"><a href="#type-step_kont" class="anchor"></a><code><span><span class="keyword">type</span> step_kont</span><span> = </span></code><ol><li id="type-step_kont.SK_Start" class="def variant constructor anchored"><a href="#type-step_kont.SK_Start" class="anchor"></a><code><span>| </span><span><span class="constructor">SK_Start</span> : <span><span class="type-var">'a</span> <a href="#type-frame_stack">frame_stack</a></span>
  * <span><span><a href="#type-ongoing">ongoing</a> <a href="#type-frame_stack">frame_stack</a></span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span> <span class="arrow">&#45;&gt;</span> 
  <a href="#type-step_kont">step_kont</a></span></code></li><li id="type-step_kont.SK_Next" class="def variant constructor anchored"><a href="#type-step_kont.SK_Next" class="anchor"></a><code><span>| </span><span><span class="constructor">SK_Next</span> : <span><span class="type-var">'a</span> <a href="#type-frame_stack">frame_stack</a></span>
  * <span><span><a href="#type-ongoing">ongoing</a> <a href="#type-frame_stack">frame_stack</a></span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>
  * <a href="#type-label_step_kont">label_step_kont</a> <span class="arrow">&#45;&gt;</span> <a href="#type-step_kont">step_kont</a></span></code></li><li id="type-step_kont.SK_Consolidate_label_result" class="def variant constructor anchored"><a href="#type-step_kont.SK_Consolidate_label_result" class="anchor"></a><code><span>| </span><span><span class="constructor">SK_Consolidate_label_result</span> <span class="keyword">of</span> <span><a href="#type-ongoing">ongoing</a> <a href="#type-frame_stack">frame_stack</a></span>
  * <span><span><a href="#type-ongoing">ongoing</a> <a href="#type-frame_stack">frame_stack</a></span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>
  * <a href="#type-label">label</a>
  * <span><a href="../Values/index.html#type-value">Values.value</a> <a href="#type-concat_kont">concat_kont</a></span>
  * <span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>
  * <span><a href="#type-label">label</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-step_kont.SK_Result" class="def variant constructor anchored"><a href="#type-step_kont.SK_Result" class="anchor"></a><code><span>| </span><span><span class="constructor">SK_Result</span> <span class="keyword">of</span> <span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-step_kont.SK_Trapped" class="def variant constructor anchored"><a href="#type-step_kont.SK_Trapped" class="anchor"></a><code><span>| </span><span><span class="constructor">SK_Trapped</span> <span class="keyword">of</span> <span>string <a href="../Source/index.html#type-phrase">Source.phrase</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-buffers"><a href="#type-buffers" class="anchor"></a><code><span><span class="keyword">type</span> buffers</span><span> = </span><span>{</span></code><ol><li id="type-buffers.input" class="def record field anchored"><a href="#type-buffers.input" class="anchor"></a><code><span>input : <a href="../Instance/index.html#type-input_inst">Instance.input_inst</a>;</span></code></li><li id="type-buffers.output" class="def record field anchored"><a href="#type-buffers.output" class="anchor"></a><code><span>output : <a href="../Instance/index.html#type-output_inst">Instance.output_inst</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-config"><a href="#type-config" class="anchor"></a><code><span><span class="keyword">type</span> config</span><span> = </span><span>{</span></code><ol><li id="type-config.step_kont" class="def record field anchored"><a href="#type-config.step_kont" class="anchor"></a><code><span>step_kont : <a href="#type-step_kont">step_kont</a>;</span></code></li><li id="type-config.stack_size_limit" class="def record field anchored"><a href="#type-config.stack_size_limit" class="anchor"></a><code><span>stack_size_limit : int;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fold_right2_kont"><a href="#type-fold_right2_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b, 'acc) fold_right2_kont</span></span><span> = </span><span>{</span></code><ol><li id="type-fold_right2_kont.acc" class="def record field anchored"><a href="#type-fold_right2_kont.acc" class="anchor"></a><code><span>acc : <span class="type-var">'acc</span>;</span></code></li><li id="type-fold_right2_kont.lv" class="def record field anchored"><a href="#type-fold_right2_kont.lv" class="anchor"></a><code><span>lv : <span><span class="type-var">'a</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-fold_right2_kont.rv" class="def record field anchored"><a href="#type-fold_right2_kont.rv" class="anchor"></a><code><span>rv : <span><span class="type-var">'b</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-fold_right2_kont.offset" class="def record field anchored"><a href="#type-fold_right2_kont.offset" class="anchor"></a><code><span>offset : int32;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fold_left_kont"><a href="#type-fold_left_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) fold_left_kont</span></span><span> = </span><span>{</span></code><ol><li id="type-fold_left_kont.origin" class="def record field anchored"><a href="#type-fold_left_kont.origin" class="anchor"></a><code><span>origin : <span><span class="type-var">'a</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>;</span></code></li><li id="type-fold_left_kont.acc" class="def record field anchored"><a href="#type-fold_left_kont.acc" class="anchor"></a><code><span>acc : <span class="type-var">'b</span>;</span></code></li><li id="type-fold_left_kont.offset" class="def record field anchored"><a href="#type-fold_left_kont.offset" class="anchor"></a><code><span>offset : int32;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-eval_const_kont"><a href="#type-eval_const_kont" class="anchor"></a><code><span><span class="keyword">type</span> eval_const_kont</span><span> = </span></code><ol><li id="type-eval_const_kont.EC_Next" class="def variant constructor anchored"><a href="#type-eval_const_kont.EC_Next" class="anchor"></a><code><span>| </span><span><span class="constructor">EC_Next</span> <span class="keyword">of</span> <a href="#type-config">config</a></span></code></li><li id="type-eval_const_kont.EC_Stop" class="def variant constructor anchored"><a href="#type-eval_const_kont.EC_Stop" class="anchor"></a><code><span>| </span><span><span class="constructor">EC_Stop</span> <span class="keyword">of</span> <a href="../Values/index.html#type-value">Values.value</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-create_global_kont"><a href="#type-create_global_kont" class="anchor"></a><code><span><span class="keyword">type</span> create_global_kont</span><span> = <a href="../Types/index.html#type-global_type">Types.global_type</a> * <a href="#type-eval_const_kont">eval_const_kont</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-init_section"><a href="#type-init_section" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, _, _) init_section</span></span><span> = </span></code><ol><li id="type-init_section.Func" class="def variant constructor anchored"><a href="#type-init_section.Func" class="anchor"></a><code><span>| </span><span><span class="constructor">Func</span> : <span><span>(<span><span>(<a href="../Ast/index.html#type-func">Ast.func</a>, <a href="../Instance/index.html#type-func_inst">Instance.func_inst</a>)</span> <span class="xref-unresolved">Stdlib</span>.Either.t</span>,
         <a href="../Ast/index.html#type-func">Ast.func</a>,
         <a href="../Instance/index.html#type-func_inst">Instance.func_inst</a>)</span>
         <a href="#type-init_section">init_section</a></span></span></code></li><li id="type-init_section.Global" class="def variant constructor anchored"><a href="#type-init_section.Global" class="anchor"></a><code><span>| </span><span><span class="constructor">Global</span> : <span><span>(<a href="#type-create_global_kont">create_global_kont</a>, <a href="../Ast/index.html#type-global">Ast.global</a>, <a href="../Instance/index.html#type-global_inst">Instance.global_inst</a>)</span> <a href="#type-init_section">init_section</a></span></span></code></li><li id="type-init_section.Table" class="def variant constructor anchored"><a href="#type-init_section.Table" class="anchor"></a><code><span>| </span><span><span class="constructor">Table</span> : <span><span>(<span><span>(<a href="../Ast/index.html#type-table">Ast.table</a>, <a href="../Instance/index.html#type-table_inst">Instance.table_inst</a>)</span> <span class="xref-unresolved">Stdlib</span>.Either.t</span>,
          <a href="../Ast/index.html#type-table">Ast.table</a>,
          <a href="../Instance/index.html#type-table_inst">Instance.table_inst</a>)</span>
          <a href="#type-init_section">init_section</a></span></span></code></li><li id="type-init_section.Memory" class="def variant constructor anchored"><a href="#type-init_section.Memory" class="anchor"></a><code><span>| </span><span><span class="constructor">Memory</span> : <span><span>(<span><span>(<a href="../Ast/index.html#type-memory">Ast.memory</a>, <a href="../Instance/index.html#type-memory_inst">Instance.memory_inst</a>)</span> <span class="xref-unresolved">Stdlib</span>.Either.t</span>,
           <a href="../Ast/index.html#type-memory">Ast.memory</a>,
           <a href="../Instance/index.html#type-memory_inst">Instance.memory_inst</a>)</span>
           <a href="#type-init_section">init_section</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-join_kont"><a href="#type-join_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>'b join_kont</span></span><span> = </span></code><ol><li id="type-join_kont.J_Init" class="def variant constructor anchored"><a href="#type-join_kont.J_Init" class="anchor"></a><code><span>| </span><span><span class="constructor">J_Init</span> <span class="keyword">of</span> <span><span><span class="type-var">'b</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>
            <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-join_kont.J_Next" class="def variant constructor anchored"><a href="#type-join_kont.J_Next" class="anchor"></a><code><span>| </span><span><span class="constructor">J_Next</span> <span class="keyword">of</span> <span><span class="type-var">'b</span> <a href="#type-concat_kont">concat_kont</a></span>
  * <span><span><span class="type-var">'b</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>
      <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-join_kont.J_Stop" class="def variant constructor anchored"><a href="#type-join_kont.J_Stop" class="anchor"></a><code><span>| </span><span><span class="constructor">J_Stop</span> <span class="keyword">of</span> <span><span class="type-var">'b</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-map_concat_kont"><a href="#type-map_concat_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) map_concat_kont</span></span><span> = </span></code><ol><li id="type-map_concat_kont.MC_Map" class="def variant constructor anchored"><a href="#type-map_concat_kont.MC_Map" class="anchor"></a><code><span>| </span><span><span class="constructor">MC_Map</span> <span class="keyword">of</span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span>)</span> <a href="#type-map_kont">map_kont</a></span></span></code></li><li id="type-map_concat_kont.MC_Join" class="def variant constructor anchored"><a href="#type-map_concat_kont.MC_Join" class="anchor"></a><code><span>| </span><span><span class="constructor">MC_Join</span> <span class="keyword">of</span> <span><span class="type-var">'b</span> <a href="#type-join_kont">join_kont</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tick_map_kont"><a href="#type-tick_map_kont" class="anchor"></a><code><span><span class="keyword">type</span> <span>('kont, 'a, 'b) tick_map_kont</span></span><span> = </span><span>{</span></code><ol><li id="type-tick_map_kont.tick" class="def record field anchored"><a href="#type-tick_map_kont.tick" class="anchor"></a><code><span>tick : <span><span class="type-var">'kont</span> option</span>;</span></code></li><li id="type-tick_map_kont.map" class="def record field anchored"><a href="#type-tick_map_kont.map" class="anchor"></a><code><span>map : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-map_kont">map_kont</a></span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-create_elem_kont"><a href="#type-create_elem_kont" class="anchor"></a><code><span><span class="keyword">type</span> create_elem_kont</span><span> = <span><span>(<a href="#type-eval_const_kont">eval_const_kont</a>, <a href="../Ast/index.html#type-const">Ast.const</a>, <a href="../Values/index.html#type-ref_">Values.ref_</a>)</span> <a href="#type-tick_map_kont">tick_map_kont</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-exports_acc"><a href="#type-exports_acc" class="anchor"></a><code><span><span class="keyword">type</span> exports_acc</span><span> = </span><span>{</span></code><ol><li id="type-exports_acc.exports" class="def record field anchored"><a href="#type-exports_acc.exports" class="anchor"></a><code><span>exports : <span><a href="../Instance/index.html#type-extern">Instance.extern</a> <a href="../Instance/NameMap/index.html#type-t">Instance.NameMap.t</a></span>;</span></code></li><li id="type-exports_acc.exports_memory_0" class="def record field anchored"><a href="#type-exports_acc.exports_memory_0" class="anchor"></a><code><span>exports_memory_0 : bool;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-init_kont"><a href="#type-init_kont" class="anchor"></a><code><span><span class="keyword">type</span> init_kont</span><span> = </span></code><ol><li id="type-init_kont.IK_Start" class="def variant constructor anchored"><a href="#type-init_kont.IK_Start" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Start</span> <span class="keyword">of</span> <span><a href="../Instance/index.html#type-extern">Instance.extern</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Very first tick of the <code>init</code> function</p><span class="comment-delim">*)</span></div></li><li id="type-init_kont.IK_Add_import" class="def variant constructor anchored"><a href="#type-init_kont.IK_Add_import" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Add_import</span> <span class="keyword">of</span> <span><span>(<a href="../Instance/index.html#type-extern">Instance.extern</a>, <a href="../Ast/index.html#type-import">Ast.import</a>, <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a>)</span>
                   <a href="#type-fold_right2_kont">fold_right2_kont</a></span></span></code></li><li id="type-init_kont.IK_Type" class="def variant constructor anchored"><a href="#type-init_kont.IK_Type" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Type</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a> * <span><span>(<a href="../Ast/index.html#type-type_">Ast.type_</a>, <a href="../Types/index.html#type-func_type">Types.func_type</a>)</span> <a href="#type-map_kont">map_kont</a></span></span></code></li><li id="type-init_kont.IK_Aggregate" class="def variant constructor anchored"><a href="#type-init_kont.IK_Aggregate" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Aggregate</span> : <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a>
  * <span><span>(<span class="type-var">'kont</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-init_section">init_section</a></span>
  * <span><span>(<span class="type-var">'kont</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-tick_map_kont">tick_map_kont</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-init_kont">init_kont</a></span></code></li><li id="type-init_kont.IK_Aggregate_concat" class="def variant constructor anchored"><a href="#type-init_kont.IK_Aggregate_concat" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Aggregate_concat</span> : <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a>
  * <span><span>(<span class="type-var">'kont</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-init_section">init_section</a></span>
  * <span><span class="type-var">'b</span> <a href="#type-concat_kont">concat_kont</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-init_kont">init_kont</a></span></code></li><li id="type-init_kont.IK_Exports" class="def variant constructor anchored"><a href="#type-init_kont.IK_Exports" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Exports</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a> * <span><span>(<a href="../Ast/index.html#type-export">Ast.export</a>, <a href="#type-exports_acc">exports_acc</a>)</span> <a href="#type-fold_left_kont">fold_left_kont</a></span></span></code></li><li id="type-init_kont.IK_Elems" class="def variant constructor anchored"><a href="#type-init_kont.IK_Elems" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Elems</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a>
  * <span><span>(<a href="#type-create_elem_kont">create_elem_kont</a>, <a href="../Ast/index.html#type-elem_segment">Ast.elem_segment</a>, <a href="../Instance/index.html#type-elem_inst">Instance.elem_inst</a>)</span> <a href="#type-tick_map_kont">tick_map_kont</a></span></span></code></li><li id="type-init_kont.IK_Datas" class="def variant constructor anchored"><a href="#type-init_kont.IK_Datas" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Datas</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a>
  * <span><span>(<a href="../Ast/index.html#type-data_segment">Ast.data_segment</a>, <a href="../Instance/index.html#type-data_inst">Instance.data_inst</a>)</span> <a href="#type-map_kont">map_kont</a></span></span></code></li><li id="type-init_kont.IK_Es_elems" class="def variant constructor anchored"><a href="#type-init_kont.IK_Es_elems" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Es_elems</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a>
  * <span><span>(<a href="../Ast/index.html#type-elem_segment">Ast.elem_segment</a>, <a href="#type-admin_instr">admin_instr</a>)</span> <a href="#type-map_concat_kont">map_concat_kont</a></span></span></code></li><li id="type-init_kont.IK_Es_datas" class="def variant constructor anchored"><a href="#type-init_kont.IK_Es_datas" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Es_datas</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a>
  * <span><span>(<a href="../Ast/index.html#type-data_segment">Ast.data_segment</a>, <a href="#type-admin_instr">admin_instr</a>)</span> <a href="#type-map_concat_kont">map_concat_kont</a></span>
  * <span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span></span></code></li><li id="type-init_kont.IK_Join_admin" class="def variant constructor anchored"><a href="#type-init_kont.IK_Join_admin" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Join_admin</span> <span class="keyword">of</span> <a href="../Instance/index.html#type-module_inst">Instance.module_inst</a> * <span><a href="#type-admin_instr">admin_instr</a> <a href="#type-join_kont">join_kont</a></span></span></code></li><li id="type-init_kont.IK_Eval" class="def variant constructor anchored"><a href="#type-init_kont.IK_Eval" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Eval</span> <span class="keyword">of</span> <a href="#type-config">config</a></span></code></li><li id="type-init_kont.IK_Stop" class="def variant constructor anchored"><a href="#type-init_kont.IK_Stop" class="anchor"></a><code><span>| </span><span><span class="constructor">IK_Stop</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Witness that there is no more tick to execute to complete the <code>init</code> process.</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-memory_export_rules"><a href="#type-memory_export_rules" class="anchor"></a><code><span><span class="keyword">type</span> memory_export_rules</span><span> = </span></code><ol><li id="type-memory_export_rules.Exports_memory_0" class="def variant constructor anchored"><a href="#type-memory_export_rules.Exports_memory_0" class="anchor"></a><code><span>| </span><span><span class="constructor">Exports_memory_0</span></span></code></li><li id="type-memory_export_rules.No_memory_export_rules" class="def variant constructor anchored"><a href="#type-memory_export_rules.No_memory_export_rules" class="anchor"></a><code><span>| </span><span><span class="constructor">No_memory_export_rules</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Missing_memory_0_export"><a href="#exception-Missing_memory_0_export" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Missing_memory_0_export</span></span></code></div><div class="spec-doc"><p>This is raised when an initialisation function detects that the module does not export its main memory.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_step"><a href="#val-init_step" class="anchor"></a><code><span><span class="keyword">val</span> init_step : 
  <span><span class="label">stack_size_limit</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">filter_exports</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?check_module_exports</span>:<a href="#type-memory_export_rules">memory_export_rules</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">module_reg</span>:<a href="../Instance/index.html#type-module_reg">Instance.module_reg</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">self</span>:<a href="../Instance/index.html#type-module_key">Instance.module_key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-buffers">buffers</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Host_funcs/index.html#type-registry">Host_funcs.registry</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Ast/index.html#type-module_">Ast.module_</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-init_kont">init_kont</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-init_kont">init_kont</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Small-step execution of the <code>init</code> process. See <a href="#val-init"><code>init</code></a>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if called with <code>IK_Stop</code>. There is no transition from the terminal state.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : 
  <span><span class="optlabel">?stack_size_limit</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">module_reg</span>:<a href="../Instance/index.html#type-module_reg">Instance.module_reg</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">self</span>:<a href="../Instance/index.html#type-module_key">Instance.module_key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-buffers">buffers</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Host_funcs/index.html#type-registry">Host_funcs.registry</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Ast/index.html#type-module_">Ast.module_</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Instance/index.html#type-extern">Instance.extern</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Instance/index.html#type-module_inst">Instance.module_inst</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-invoke"><a href="#val-invoke" class="anchor"></a><code><span><span class="keyword">val</span> invoke : 
  <span><span class="optlabel">?stack_size_limit</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">module_reg</span>:<a href="../Instance/index.html#type-module_reg">Instance.module_reg</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">caller</span>:<a href="../Instance/index.html#type-module_key">Instance.module_key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?input</span>:<a href="../Input_buffer/index.html#type-t">Input_buffer.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?output</span>:<a href="../Output_buffer/index.html#type-t">Output_buffer.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?durable</span>:<a href="../Durable_storage/index.html#type-t">Durable_storage.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?init</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Host_funcs/index.html#type-registry">Host_funcs.registry</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Instance/index.html#type-func_inst">Instance.func_inst</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Values/index.html#type-value">Values.value</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Durable_storage/index.html#type-t">Durable_storage.t</a> * <span><a href="../Values/index.html#type-value">Values.value</a> list</span>)</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-step"><a href="#val-step" class="anchor"></a><code><span><span class="keyword">val</span> step : 
  <span><span class="optlabel">?init</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?durable</span>:<a href="../Durable_storage/index.html#type-t">Durable_storage.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">host_funcs</span>:<a href="../Host_funcs/index.html#type-registry">Host_funcs.registry</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Instance/index.html#type-module_reg">Instance.module_reg</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-config">config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-buffers">buffers</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Durable_storage/index.html#type-t">Durable_storage.t</a> * <a href="#type-config">config</a>)</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-reveal_error"><a href="#type-reveal_error" class="anchor"></a><code><span><span class="keyword">type</span> reveal_error</span><span> = </span></code><ol><li id="type-reveal_error.Reveal_step" class="def variant constructor anchored"><a href="#type-reveal_error.Reveal_step" class="anchor"></a><code><span>| </span><span><span class="constructor">Reveal_step</span></span></code></li><li id="type-reveal_error.Reveal_hash_decoding" class="def variant constructor anchored"><a href="#type-reveal_error.Reveal_hash_decoding" class="anchor"></a><code><span>| </span><span><span class="constructor">Reveal_hash_decoding</span> <span class="keyword">of</span> string</span></code></li><li id="type-reveal_error.Reveal_payload_decoding" class="def variant constructor anchored"><a href="#type-reveal_error.Reveal_payload_decoding" class="anchor"></a><code><span>| </span><span><span class="constructor">Reveal_payload_decoding</span> <span class="keyword">of</span> string</span></code></li></ol></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Reveal_error"><a href="#exception-Reveal_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Reveal_error</span> <span class="keyword">of</span> <a href="#type-reveal_error">reveal_error</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_reveal_tick"><a href="#val-is_reveal_tick" class="anchor"></a><code><span><span class="keyword">val</span> is_reveal_tick : <span><a href="#type-config">config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Host_funcs/index.html#type-reveal">Host_funcs.reveal</a> option</span></span></code></div><div class="spec-doc"><p><code>is_reveal_tick config</code> returns <code>Some hash</code> if the evalutation is in a state expecting the payload of a given hash, and returns <code>None</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reveal_step"><a href="#val-reveal_step" class="anchor"></a><code><span><span class="keyword">val</span> reveal_step : 
  <span><span>(<span><span class="label">memory</span>:<a href="../Instance/index.html#type-memory_inst">Instance.memory_inst</a> <span class="arrow">&#45;&gt;</span></span>
    <span><span class="label">dst</span>:int32 <span class="arrow">&#45;&gt;</span></span>
    <span><span class="label">max_bytes</span>:int32 <span class="arrow">&#45;&gt;</span></span>
    <span><span class="label">payload</span>:bytes <span class="arrow">&#45;&gt;</span></span>
    <span>int32 <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Instance/index.html#type-module_reg">Instance.module_reg</a> <span class="arrow">&#45;&gt;</span></span>
  <span>bytes <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-config">config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-config">config</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>reveal_step reveal module_reg payload config</code> loads <code>payload</code> in the memory of the module whose function is being evaluated with <code>config</code>.</p><p>This function can only be used when <code>is_reveal_tick</code> returns something (<i>i.e.</i>, not <code>None</code>).</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Reveal_error"><code>Reveal_error</code></a> </li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-config"><a href="#val-config" class="anchor"></a><code><span><span class="keyword">val</span> config : 
  <span><span class="label">stack_size_limit</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?frame_arity</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Instance/index.html#type-module_key">Instance.module_key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Values/index.html#type-value">Values.value</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-admin_instr">admin_instr</a> <a href="../../Tezos_lazy_containers/Lazy_vector/Int32Vector/index.html#type-t">Tezos_webassembly_interpreter.Instance.Vector.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-config">config</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_output_buffer"><a href="#val-default_output_buffer" class="anchor"></a><code><span><span class="keyword">val</span> default_output_buffer : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../Instance/index.html#type-output_inst">Instance.output_inst</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-buffers"><a href="#val-buffers" class="anchor"></a><code><span><span class="keyword">val</span> buffers : 
  <span><span class="optlabel">?input</span>:<a href="../Instance/index.html#type-input_inst">Instance.input_inst</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?output</span>:<a href="../Instance/index.html#type-output_inst">Instance.output_inst</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-buffers">buffers</a></span></code></div></div></div></body></html>
