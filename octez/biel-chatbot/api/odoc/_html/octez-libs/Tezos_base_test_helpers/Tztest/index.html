<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tztest (octez-libs.Tezos_base_test_helpers.Tztest)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-libs</a> &#x00BB; <a href="../index.html">Tezos_base_test_helpers</a> &#x00BB; Tztest</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_base_test_helpers.Tztest</span></code></h1><p><code>tztest</code> contains the definition of <code>tztest</code>: a wrapper for tests cases running in the error monad. It also adds helpers for working with the mock sink.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-tztest"><a href="#val-tztest" class="anchor"></a><code><span><span class="keyword">val</span> tztest : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../octez-alcotezt/Octez_alcotezt/Alcotest/index.html#type-speed_level">Octez_alcotezt.Alcotest.speed_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><span>(unit, <a href="../../Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../octez-alcotezt/Octez_alcotezt/Alcotest_lwt/index.html#type-test_case">Octez_alcotezt.Alcotest_lwt.test_case</a></span></span></code></div><div class="spec-doc"><p>Transform a function running in the error monad into an Alcotest, taking care of failing the test if the function results is an error. Note that the given function must still take care of test assertions, e.g. by using <code>Alcotest.check</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tztest_qcheck"><a href="#val-tztest_qcheck" class="anchor"></a><code><span><span class="keyword">val</span> tztest_qcheck : 
  <span><span class="optlabel">?count</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <span class="xref-unresolved">QCheck</span>.arbitrary</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <a href="../../Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../octez-alcotezt/Octez_alcotezt/Alcotest_lwt/index.html#type-test_case">Octez_alcotezt.Alcotest_lwt.test_case</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tztest_qcheck2"><a href="#val-tztest_qcheck2" class="anchor"></a><code><span><span class="keyword">val</span> tztest_qcheck2 : 
  <span><span class="optlabel">?print</span>:<span><span class="type-var">'a</span> <span class="xref-unresolved">QCheck2</span>.Print.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?count</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <span class="xref-unresolved">QCheck2</span>.Gen.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <a href="../../Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../octez-alcotezt/Octez_alcotezt/Alcotest_lwt/index.html#type-test_case">Octez_alcotezt.Alcotest_lwt.test_case</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mock_sink"><a href="#val-mock_sink" class="anchor"></a><code><span><span class="keyword">val</span> mock_sink : 
  <span><a href="../../Tezos_event_logging_test_helpers/Mock_sink/index.html#type-t">Tezos_event_logging_test_helpers.Mock_sink.t</a>
    <a href="../../Tezos_event_logging/Internal_event/index.html#type-sink_definition">Tezos_base.TzPervasives.Internal_event.sink_definition</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_empty_mock_sink"><a href="#val-with_empty_mock_sink" class="anchor"></a><code><span><span class="keyword">val</span> with_empty_mock_sink : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>with_empty_mock_sink f</code> executes f after activating or clearing a Mock_sink sink.</p><p>Sinks can only be registered and activated once, and not removed thereafter.</p></div></div></div></body></html>
