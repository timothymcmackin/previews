<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Counter (octez-libs.Prometheus.Counter)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-libs</a> &#x00BB; <a href="../index.html">Prometheus</a> &#x00BB; Counter</nav><header class="odoc-preamble"><h1>Module <code><span>Prometheus.Counter</span></code></h1><p>A counter is a cumulative metric that represents a single numerical value that only ever goes up.</p></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../module-type-METRIC/index.html">METRIC</a></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-family"><a href="#type-family" class="anchor"></a><code><span><span class="keyword">type</span> family</span></code></div><div class="spec-doc"><p>A collection of metrics that are the same except for their labels. e.g. &quot;Number of HTTP responses&quot;</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A particular metric. e.g. &quot;Number of HTTP responses with code=404&quot;</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-v_labels"><a href="#val-v_labels" class="anchor"></a><code><span><span class="keyword">val</span> v_labels : 
  <span><span class="label">label_names</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?registry</span>:<a href="../CollectorRegistry/index.html#type-t">CollectorRegistry.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">help</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?namespace</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?subsystem</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-family">family</a></span></code></div><div class="spec-doc"><p><code>v_labels ~label_names ~help ~namespace ~subsystem name</code> is a family of metrics with full name <code>namespace_subsystem_name</code> and documentation string <code>help</code>. Each metric in the family will provide a value for each of the labels. The new family is registered with <code>registry</code> (default: <a href="../CollectorRegistry/index.html#val-default"><code>CollectorRegistry.default</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-labels"><a href="#val-labels" class="anchor"></a><code><span><span class="keyword">val</span> labels : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>labels family label_values</code> is the metric in <code>family</code> with these values for the labels. The order of the values must be the same as the order of the <code>label_names</code> passed to <code>v_labels</code>; you may wish to write a wrapper function with labelled arguments to avoid mistakes. If this is called multiple times with the same set of values, the existing metric will be returned.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-v_label"><a href="#val-v_label" class="anchor"></a><code><span><span class="keyword">val</span> v_label : 
  <span><span class="label">label_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?registry</span>:<a href="../CollectorRegistry/index.html#type-t">CollectorRegistry.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">help</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?namespace</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?subsystem</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>v_label</code> is a convenience wrapper around <code>v_labels</code> for the case where there is a single label. The result is a function from the single label's value to the metric.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-v"><a href="#val-v" class="anchor"></a><code><span><span class="keyword">val</span> v : 
  <span><span class="optlabel">?registry</span>:<a href="../CollectorRegistry/index.html#type-t">CollectorRegistry.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">help</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?namespace</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?subsystem</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>v</code> is a convenience wrapper around <code>v_labels</code> for the case where there are no labels.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>clear</code> will clean every metric that was sent.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_specific"><a href="#val-clear_specific" class="anchor"></a><code><span><span class="keyword">val</span> clear_specific : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>clear_specific t labels</code> will clear a specific metric <code>t</code> that matches the given <code>labels</code>.</p></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-inc_one"><a href="#val-inc_one" class="anchor"></a><code><span><span class="keyword">val</span> inc_one : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inc"><a href="#val-inc" class="anchor"></a><code><span><span class="keyword">val</span> inc : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>inc t v</code> increases <code>t</code> by <code>v</code>, which must be non-negative.</p></div></div></div></body></html>
