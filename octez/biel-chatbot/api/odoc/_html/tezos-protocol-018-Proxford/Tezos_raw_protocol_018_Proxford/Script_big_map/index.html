<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Script_big_map (tezos-protocol-018-Proxford.Tezos_raw_protocol_018_Proxford.Script_big_map)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-protocol-018-Proxford</a> &#x00BB; <a href="../index.html">Tezos_raw_protocol_018_Proxford</a> &#x00BB; Script_big_map</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_raw_protocol_018_Proxford.Script_big_map</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : 
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-comparable_ty">Script_typed_ir.comparable_ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span></span></code></div><div class="spec-doc"><p><code>empty</code> is the big map with no bindings.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(bool * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_018_Proxford.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Lwt/index.html#type-t">Tezos_protocol_environment_018_Proxford.Lwt.t</a></span></span></code></div><div class="spec-doc"><p><code>mem ctxt key big_map</code> returns <code>true</code> iff <code>key</code> is bound in the given <code>big_map</code>. Consumes the cost of hashing the given key. Consumes as <code>Storage.Big_map.Contents.mem</code> if the key is not bound yet in the current overlay.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span class="type-var">'value</span> option</span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_018_Proxford.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Lwt/index.html#type-t">Tezos_protocol_environment_018_Proxford.Lwt.t</a></span></span></code></div><div class="spec-doc"><p><code>get ctxt key big_map</code> returns the value bound by <code>key</code> in the given <code>big_map</code>. If the <code>key</code> is not bound, <code>None</code> is returned instead. Consumes cost of hashing the given key. Consumes cost as <code>Storage.Big_map.Contents.find</code> in case of the given key is absent in the current overlay. Consumes cost of parsing data if the value is readed from storage.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update"><a href="#val-update" class="anchor"></a><code><span><span class="keyword">val</span> update : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'value</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_018_Proxford.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Lwt/index.html#type-t">Tezos_protocol_environment_018_Proxford.Lwt.t</a></span></span></code></div><div class="spec-doc"><p><code>update ctxt key new_value big_map</code> updates the value bound by <code>key</code> with <code>v</code> if the <code>new_value</code> is <code>Some v</code>. When the <code>new_value</code> is <code>None</code>, delete the entire entry bound by <code>key</code> in the <code>big_map</code>. Consumes cost for hashing the given key. See <a href="#val-get_and_update"><code>get_and_update</code></a> for details.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_and_update"><a href="#val-get_and_update" class="anchor"></a><code><span><span class="keyword">val</span> get_and_update : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'value</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span>(<span><span class="type-var">'value</span> option</span> * <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span>)</span>
   * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_018_Proxford.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_018_Proxford/Lwt/index.html#type-t">Tezos_protocol_environment_018_Proxford.Lwt.t</a></span></span></code></div><div class="spec-doc"><p><code>get_and_update ctxt key new_value big_map</code> works just like <code>update ctxt key new_value big_map</code> except it also returns the old value bound by <code>key</code>. Consumes cost for hashing the given key. This does <i>not</i> modify the underlying storage, only the diff table.</p></div></div></div></body></html>
