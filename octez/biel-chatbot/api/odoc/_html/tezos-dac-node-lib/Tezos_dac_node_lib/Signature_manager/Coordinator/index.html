<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Coordinator (tezos-dac-node-lib.Tezos_dac_node_lib.Signature_manager.Coordinator)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-dac-node-lib</a> &#x00BB; <a href="../../index.html">Tezos_dac_node_lib</a> &#x00BB; <a href="../index.html">Signature_manager</a> &#x00BB; Coordinator</nav><header class="odoc-preamble"><h1>Module <code><span>Signature_manager.Coordinator</span></code></h1><p>Module that exposes signature operations necsesary when running in <code>Configuration.Coordinator</code> mode.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-handle_put_dac_member_signature"><a href="#val-handle_put_dac_member_signature" class="anchor"></a><code><span><span class="keyword">val</span> handle_put_dac_member_signature : 
  <span><a href="../../Node_context/Coordinator/index.html#type-t">Node_context.Coordinator.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../tezos-dac-lib/Tezos_dac_lib/Dac_plugin/index.html#type-t">Tezos_dac_lib.Dac_plugin.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../../octez-l2-libs/Tezos_layer2_store/Store_sigs/index.html#type-rw">Tezos_layer2_store.Store_sigs.rw</a> <a href="../../Store/Irmin_store/index.html#type-t">Store.Irmin_store.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Page_store/Filesystem/index.html#type-t">Page_store.Filesystem.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../tezos-dac-lib/Tezos_dac_lib/Signature_repr/index.html#type-t">Tezos_dac_lib.Signature_repr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>handle_put_dac_member_signature ctx dac_plugin ro_store rw_store page_store
      dac_member_signature</code> does the following procedure: 1. Checks that the <code>root_hash</code> provided inside <code>Signature_repr.t</code> is known. Fails if unknown 2. Checks that the <code>dac_member_signature.signer_pkh</code> is currently a Dac member. 3. Checks that the dac member has not yet signed. If already signed, then noop and return. 4. Otherwise: 1. Verify the signature against the root hash and signer's public key. 2. Add signature to <code>Signature_store</code> 3. Update the aggregate signature in <code>Aggregate_signature_store</code></p></div></div></div></body></html>
