<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Merkle_tree (tezos-dac-node-lib.Tezos_dac_node_lib.Pages_encoding.Merkle_tree)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-dac-node-lib</a> &#x00BB; <a href="../../index.html">Tezos_dac_node_lib</a> &#x00BB; <a href="../index.html">Pages_encoding</a> &#x00BB; Merkle_tree</nav><header class="odoc-preamble"><h1>Module <code><span>Pages_encoding.Merkle_tree</span></code></h1><p>Encoding of DAC payload as a Merkle tree with an arbitrary branching factor greater or equal to 2. The serialization process works as follows:</p><ul><li>A large sequence of bytes, the payload, is split into several pages of fixed size, each of which is prefixed with a small sequence of bytes (also of fixed size), which is referred to as the preamble of the page. Pages obtained directly from the original payload are referred to as `Contents pages`. Contents pages constitute the leaves of the Merkle tree being built,</li><li>Each content page (each of which is a sequence of bytes consisting of the preamble followed by the actual content from the original payload) is then hashed. The size of each hash is fixed. The hashes are concatenated together, and the resulting sequence of bytes is split into pages of the same size of `Hashes pages`, each of which is prefixed with a preamble whose size is the same as in Contents pages. Hashes pages correspond to nodes of the Merkle tree being built, and the children of a hash page are the (either Payload or Hashes) pages whose hash appear into the former,</li><li>Hashes pages are hashed using the same process described above, leading to a smaller list of hashes pages. To guarantee that the list of hashes pages is actually smaller than the original list of pages being hashed, we require the size of pages to be large enough to contain at least two hashes.</li></ul><p>Merkle tree encodings of DAC pages are versioned, to allow for multiple hashing schemes to be used.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-V0"><a href="#module-V0" class="anchor"></a><code><span><span class="keyword">module</span> <a href="V0/index.html">V0</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Internal_for_tests"><a href="#module-Internal_for_tests" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Internal_for_tests/index.html">Internal_for_tests</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
