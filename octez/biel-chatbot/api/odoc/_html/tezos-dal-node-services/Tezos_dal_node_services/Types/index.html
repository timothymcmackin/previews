<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Types (tezos-dal-node-services.Tezos_dal_node_services.Types)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-dal-node-services</a> &#x00BB; <a href="../index.html">Tezos_dal_node_services</a> &#x00BB; Types</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_dal_node_services.Types</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Cryptobox"><a href="#module-Cryptobox" class="anchor"></a><code><span><span class="keyword">module</span> Cryptobox</span><span> = <a href="../../../octez-libs/Tezos_crypto_dal/Cryptobox/index.html">Tezos_crypto_dal.Cryptobox</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-level"><a href="#type-level" class="anchor"></a><code><span><span class="keyword">type</span> level</span><span> = int32</span></code></div><div class="spec-doc"><p>A Tezos level.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-slot_index"><a href="#type-slot_index" class="anchor"></a><code><span><span class="keyword">type</span> slot_index</span><span> = int</span></code></div><div class="spec-doc"><p>An index of a DAL slot header.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-page_index"><a href="#type-page_index" class="anchor"></a><code><span><span class="keyword">type</span> page_index</span><span> = int</span></code></div><div class="spec-doc"><p>An index of a DAL page.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Slot_id"><a href="#module-Slot_id" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Slot_id/index.html">Slot_id</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>An ID associated to a slot or to its commitment.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-slot_id"><a href="#type-slot_id" class="anchor"></a><code><span><span class="keyword">type</span> slot_id</span><span> = <a href="Slot_id/index.html#type-t">Slot_id.t</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Topic"><a href="#module-Topic" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Topic/index.html">Topic</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A topic is defined by a public key hash of an attester and a slot index.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Message_id"><a href="#module-Message_id" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Message_id/index.html">Message_id</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A message id uniquely identifies a share whose commitment is included in an L1 block. It is defined by a tuple containing the commitment, the level at which the commitment is successfully included in an L1 block, the corresponding slot index, the shard index, as well as the public key hash <code>pkh</code> of the delegate expected to attest it.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Message"><a href="#module-Message" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Message/index.html">Message</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A message is a portion of an encoded slot's data. It's basically a shard without the corresponding index. The proof that the corresponding shard belong to the commitment (part of the message id) is also part of the message.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Peer"><a href="#module-Peer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Peer/index.html">Peer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A peer from the point of view of gossipsub.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Point"><a href="#module-Point" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Point/index.html">Point</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A point is made of an IP address and a port. Only the worker knows about the notion. The automaton only sees peers (i.e. cryptographic identities of nodes).</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Span"><a href="#module-Span" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Span/index.html">Span</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Time"><a href="#module-Time" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Time/index.html">Time</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Score"><a href="#module-Score" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Score/index.html">Score</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-slot_set"><a href="#type-slot_set" class="anchor"></a><code><span><span class="keyword">type</span> slot_set</span><span> = </span><span>{</span></code><ol><li id="type-slot_set.slots" class="def record field anchored"><a href="#type-slot_set.slots" class="anchor"></a><code><span>slots : <span>bool list</span>;</span></code></li><li id="type-slot_set.published_level" class="def record field anchored"><a href="#type-slot_set.published_level" class="anchor"></a><code><span>published_level : int32;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>A set of slots, represented by a list of booleans (false for not in the set). It is used for instance to record which slots are deemed available by an attester. The level at which the slots have been published is also given.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-attestable_slots"><a href="#type-attestable_slots" class="anchor"></a><code><span><span class="keyword">type</span> attestable_slots</span><span> = </span></code><ol><li id="type-attestable_slots.Attestable_slots" class="def variant constructor anchored"><a href="#type-attestable_slots.Attestable_slots" class="anchor"></a><code><span>| </span><span><span class="constructor">Attestable_slots</span> <span class="keyword">of</span> <a href="#type-slot_set">slot_set</a></span></code></li><li id="type-attestable_slots.Not_in_committee" class="def variant constructor anchored"><a href="#type-attestable_slots.Not_in_committee" class="anchor"></a><code><span>| </span><span><span class="constructor">Not_in_committee</span></span></code></li></ol></div><div class="spec-doc"><p>The set of attestable slots of an attester (which may not necessarily be in the committee for a given level).</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-shard_index"><a href="#type-shard_index" class="anchor"></a><code><span><span class="keyword">type</span> shard_index</span><span> = int</span></code></div><div class="spec-doc"><p>An index of a DAL shard</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-header_status"><a href="#type-header_status" class="anchor"></a><code><span><span class="keyword">type</span> header_status</span><span> = </span><span>[ </span></code><ol><li id="type-header_status.Waiting_attestation" class="def variant constructor anchored"><a href="#type-header_status.Waiting_attestation" class="anchor"></a><code><span>| </span><span>`Waiting_attestation</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The slot header was included and applied in a finalized L1 block but remains to be attested.</p><span class="comment-delim">*)</span></div></li><li id="type-header_status.Attested" class="def variant constructor anchored"><a href="#type-header_status.Attested" class="anchor"></a><code><span>| </span><span>`Attested</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The slot header was included in an L1 block and attested.</p><span class="comment-delim">*)</span></div></li><li id="type-header_status.Unattested" class="def variant constructor anchored"><a href="#type-header_status.Unattested" class="anchor"></a><code><span>| </span><span>`Unattested</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The slot header was included in an L1 block but not timely attested.</p><span class="comment-delim">*)</span></div></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>The status of a header a DAL node is aware of:</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-profile"><a href="#type-profile" class="anchor"></a><code><span><span class="keyword">type</span> profile</span><span> = </span></code><ol><li id="type-profile.Bootstrap" class="def variant constructor anchored"><a href="#type-profile.Bootstrap" class="anchor"></a><code><span>| </span><span><span class="constructor">Bootstrap</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The bootstrap profile facilitates peer discovery in the DAL network. Note that bootstrap nodes are incompatible with attester/producer/observer profiles as bootstrap nodes are expected to connect to all the meshes with degree 0.</p><span class="comment-delim">*)</span></div></li><li id="type-profile.Operator" class="def variant constructor anchored"><a href="#type-profile.Operator" class="anchor"></a><code><span>| </span><span><span class="constructor">Operator</span> <span class="keyword">of</span> <a href="../Operator_profile/index.html#type-t">Operator_profile.t</a></span></code></li><li id="type-profile.Random_observer" class="def variant constructor anchored"><a href="#type-profile.Random_observer" class="anchor"></a><code><span>| </span><span><span class="constructor">Random_observer</span></span></code></li></ol></div><div class="spec-doc"><p>DAL node can track one or many profiles that correspond to various modes that the DAL node would operate in.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-slot_header"><a href="#type-slot_header" class="anchor"></a><code><span><span class="keyword">type</span> slot_header</span><span> = </span><span>{</span></code><ol><li id="type-slot_header.slot_id" class="def record field anchored"><a href="#type-slot_header.slot_id" class="anchor"></a><code><span>slot_id : <a href="#type-slot_id">slot_id</a>;</span></code></li><li id="type-slot_header.commitment" class="def record field anchored"><a href="#type-slot_header.commitment" class="anchor"></a><code><span>commitment : <a href="../../../octez-libs/Tezos_crypto_dal/Cryptobox/Commitment/index.html#type-t">Cryptobox.Commitment.t</a>;</span></code></li><li id="type-slot_header.status" class="def record field anchored"><a href="#type-slot_header.status" class="anchor"></a><code><span>status : <a href="#type-header_status">header_status</a>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Information associated to a slot header in the RPC services of the DAL node.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-with_proof"><a href="#type-with_proof" class="anchor"></a><code><span><span class="keyword">type</span> with_proof</span><span> = </span><span>{</span></code><ol><li id="type-with_proof.with_proof" class="def record field anchored"><a href="#type-with_proof.with_proof" class="anchor"></a><code><span>with_proof : bool;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>The <code>with_proof</code> flag is associated to shards computation. It indicates whether we also compute shards' proofs or not.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-slot_id_query"><a href="#val-slot_id_query" class="anchor"></a><code><span><span class="keyword">val</span> slot_id_query : <span><span>(<span><a href="#type-level">level</a> option</span> * <span><a href="#type-shard_index">shard_index</a> option</span>)</span> <a href="../../../octez-libs/Resto/Query/index.html#type-t">Resto.Query.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-slot_query"><a href="#val-slot_query" class="anchor"></a><code><span><span class="keyword">val</span> slot_query : 
  <span><span>&lt; padding : char ; slot_index : <span><a href="#type-slot_index">slot_index</a> option</span> &gt;</span> <a href="../../../octez-libs/Resto/Query/index.html#type-t">Resto.Query.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wait_query"><a href="#val-wait_query" class="anchor"></a><code><span><span class="keyword">val</span> wait_query : <span><span>&lt; wait : bool &gt;</span> <a href="../../../octez-libs/Resto/Query/index.html#type-t">Resto.Query.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-connected_query"><a href="#val-connected_query" class="anchor"></a><code><span><span class="keyword">val</span> connected_query : <span><span>&lt; connected : bool &gt;</span> <a href="../../../octez-libs/Resto/Query/index.html#type-t">Resto.Query.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-all_query"><a href="#val-all_query" class="anchor"></a><code><span><span class="keyword">val</span> all_query : <span><span>&lt; all : bool &gt;</span> <a href="../../../octez-libs/Resto/Query/index.html#type-t">Resto.Query.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-opt_header_status_query"><a href="#val-opt_header_status_query" class="anchor"></a><code><span><span class="keyword">val</span> opt_header_status_query : <span><span><a href="#type-header_status">header_status</a> option</span> <a href="../../../octez-libs/Resto/Query/index.html#type-t">Resto.Query.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-slot_encoding"><a href="#val-slot_encoding" class="anchor"></a><code><span><span class="keyword">val</span> slot_encoding : <span><a href="../../../octez-libs/Tezos_crypto_dal/Cryptobox/index.html#type-slot">Cryptobox.slot</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-slot_header_encoding"><a href="#val-slot_header_encoding" class="anchor"></a><code><span><span class="keyword">val</span> slot_header_encoding : <span><a href="#type-slot_header">slot_header</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-slot_id_encoding"><a href="#val-slot_id_encoding" class="anchor"></a><code><span><span class="keyword">val</span> slot_id_encoding : <span><a href="#type-slot_id">slot_id</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-header_status_encoding"><a href="#val-header_status_encoding" class="anchor"></a><code><span><span class="keyword">val</span> header_status_encoding : 
  <span><a href="#type-header_status">header_status</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-profile_encoding"><a href="#val-profile_encoding" class="anchor"></a><code><span><span class="keyword">val</span> profile_encoding : <span><a href="#type-profile">profile</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_proof_encoding"><a href="#val-with_proof_encoding" class="anchor"></a><code><span><span class="keyword">val</span> with_proof_encoding : <span><a href="#type-with_proof">with_proof</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-attestable_slots_encoding"><a href="#val-attestable_slots_encoding" class="anchor"></a><code><span><span class="keyword">val</span> attestable_slots_encoding : 
  <span><a href="#type-attestable_slots">attestable_slots</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_header_status"><a href="#val-pp_header_status" class="anchor"></a><code><span><span class="keyword">val</span> pp_header_status : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-header_status">header_status</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Store"><a href="#module-Store" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Store/index.html">Store</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-P2P"><a href="#module-P2P" class="anchor"></a><code><span><span class="keyword">module</span> <a href="P2P/index.html">P2P</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Gossipsub"><a href="#module-Gossipsub" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Gossipsub/index.html">Gossipsub</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Version"><a href="#module-Version" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Version/index.html">Version</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Health"><a href="#module-Health" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Health/index.html">Health</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
