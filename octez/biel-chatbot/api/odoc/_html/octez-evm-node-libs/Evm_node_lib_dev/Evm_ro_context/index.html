<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Evm_ro_context (octez-evm-node-libs.Evm_node_lib_dev.Evm_ro_context)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">octez-evm-node-libs</a> &#x00BB; <a href="../index.html">Evm_node_lib_dev</a> &#x00BB; Evm_ro_context</nav><header class="odoc-preamble"><h1>Module <code><span>Evm_node_lib_dev.Evm_ro_context</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><ol><li id="type-t.preimages" class="def record field anchored"><a href="#type-t.preimages" class="anchor"></a><code><span>preimages : string;</span></code></li><li id="type-t.preimages_endpoint" class="def record field anchored"><a href="#type-t.preimages_endpoint" class="anchor"></a><code><span>preimages_endpoint : <span><span class="xref-unresolved">Uri</span>.t option</span>;</span></code></li><li id="type-t.native_execution_policy" class="def record field anchored"><a href="#type-t.native_execution_policy" class="anchor"></a><code><span>native_execution_policy : <a href="../../Evm_node_config/Configuration/index.html#type-native_execution_policy">Evm_node_config.Configuration.native_execution_policy</a>;</span></code></li><li id="type-t.data_dir" class="def record field anchored"><a href="#type-t.data_dir" class="anchor"></a><code><span>data_dir : string;</span></code></li><li id="type-t.store" class="def record field anchored"><a href="#type-t.store" class="anchor"></a><code><span>store : <a href="../Evm_store/index.html#type-t">Evm_store.t</a>;</span></code></li><li id="type-t.smart_rollup_address" class="def record field anchored"><a href="#type-t.smart_rollup_address" class="anchor"></a><code><span>smart_rollup_address : <a href="../../../octez-libs/Tezos_crypto/Hashed/Smart_rollup_address/index.html#type-t">Tezos_crypto.Hashed.Smart_rollup_address.t</a>;</span></code></li><li id="type-t.index" class="def record field anchored"><a href="#type-t.index" class="anchor"></a><code><span>index : <a href="../../../octez-l2-libs/Tezos_layer2_irmin_context/Irmin_context/index.html#type-ro_index">Tezos_layer2_irmin_context.Irmin_context.ro_index</a>;</span></code></li><li id="type-t.finalized_view" class="def record field anchored"><a href="#type-t.finalized_view" class="anchor"></a><code><span>finalized_view : bool;</span></code></li><li id="type-t.block_storage_sqlite3" class="def record field anchored"><a href="#type-t.block_storage_sqlite3" class="anchor"></a><code><span>block_storage_sqlite3 : bool;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : 
  <span><span class="optlabel">?network</span>:<a href="../../Evm_node_config/Configuration/index.html#type-supported_network">Evm_node_config.Configuration.supported_network</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?smart_rollup_address</span>:<a href="../../../octez-l2-libs/Octez_smart_rollup/Address/index.html#type-t">Octez_smart_rollup.Address.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">data_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_config/Configuration/index.html#type-t">Evm_node_config.Configuration.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>load ~data_dir configuration</code> creates a new read-only handler on the node’s context. You can have as many read-only handlers as you want split over as many processes.</p><p>If <code>smart_rollup_address</code> is omitted, the argument is fetched from the store.</p><p>If <code>network</code> is set, the function performs additional sanity checks to ensure its local context is consistent with the expected network.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-preload_known_kernels"><a href="#val-preload_known_kernels" class="anchor"></a><code><span><span class="keyword">val</span> preload_known_kernels : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>preload_known_kernels ctxt</code> uses <code>ctxt</code> to preload every kernel known to the node in the Fast Execution kernel cache.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-preload_kernel_from_level"><a href="#val-preload_kernel_from_level" class="anchor"></a><code><span><span class="keyword">val</span> preload_kernel_from_level : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>preload_kernel_from_level ctxt level</code> uses <code>ctxt</code> to preload the kernel used to apply the block at level <code>level</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_blueprint_number"><a href="#val-next_blueprint_number" class="anchor"></a><code><span><span class="keyword">val</span> next_blueprint_number : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a>
    <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ro_backend"><a href="#val-ro_backend" class="anchor"></a><code><span><span class="keyword">val</span> ro_backend : 
  <span><span class="optlabel">?evm_node_endpoint</span>:<span class="xref-unresolved">Uri</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_config/Configuration/index.html#type-t">Evm_node_config.Configuration.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>(<span class="keyword">module</span> <a href="../Services_backend_sig/module-type-S/index.html">Services_backend_sig.S</a>)</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-replay"><a href="#val-replay" class="anchor"></a><code><span><span class="keyword">val</span> replay : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?log_file</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?profile</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?alter_evm_state</span>:
    <span>(<span><a href="../../../octez-l2-libs/Tezos_layer2_irmin_context/Irmin_context/index.html#type-tree">Tezos_layer2_irmin_context.Irmin_context.tree</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span><span>(<a href="../../../octez-l2-libs/Tezos_layer2_irmin_context/Irmin_context/index.html#type-tree">Tezos_layer2_irmin_context.Irmin_context.tree</a>,
        <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>
        <span class="xref-unresolved">Lwt</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Evm_state/index.html#type-apply_result">Evm_state.apply_result</a>, <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-evm_services_methods"><a href="#val-evm_services_methods" class="anchor"></a><code><span><span class="keyword">val</span> evm_services_methods : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_config/Configuration/index.html#type-time_between_blocks">Evm_node_config.Configuration.time_between_blocks</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Rpc_server/index.html#type-evm_services_methods">Rpc_server.evm_services_methods</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-blueprints_range"><a href="#val-blueprints_range" class="anchor"></a><code><span><span class="keyword">val</span> blueprints_range : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Blueprints_publisher/index.html#type-blueprints_range">Blueprints_publisher.blueprints_range</a></span></code></div></div></div></body></html>
