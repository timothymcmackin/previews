<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Events (octez-evm-node-libs.Evm_node_lib_dev.Events)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-evm-node-libs</a> &#x00BB; <a href="../index.html">Evm_node_lib_dev</a> &#x00BB; Events</nav><header class="odoc-preamble"><h1>Module <code><span>Evm_node_lib_dev.Events</span></code></h1><p>General purposes events.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-section"><a href="#val-section" class="anchor"></a><code><span><span class="keyword">val</span> section : <span>string list</span></span></code></div><div class="spec-doc"><p>Default section for events.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-received_upgrade"><a href="#val-received_upgrade" class="anchor"></a><code><span><span class="keyword">val</span> received_upgrade : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>received_upgrade payload</code> advertises that the sequencer received an upgrade of payload <code>payload</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pending_upgrade"><a href="#val-pending_upgrade" class="anchor"></a><code><span><span class="keyword">val</span> pending_upgrade : 
  <span><a href="../../Evm_node_lib_dev_encoding/Evm_events/Upgrade/index.html#type-t">Evm_node_lib_dev_encoding.Evm_events.Upgrade.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>pending_upgrade upgrade</code> advertises that the EVM node is aware that an upgrade is pending.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-applied_upgrade"><a href="#val-applied_upgrade" class="anchor"></a><code><span><span class="keyword">val</span> applied_upgrade : 
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-hash">Evm_node_lib_dev_encoding.Ethereum_types.hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>applied_upgrade root_hash level</code> advertises that the kernel of the EVM node successfully upgraded to <code>root_hash</code> with the <code>level</code>th blueprint.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-failed_upgrade"><a href="#val-failed_upgrade" class="anchor"></a><code><span><span class="keyword">val</span> failed_upgrade : 
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-hash">Evm_node_lib_dev_encoding.Ethereum_types.hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>failed_upgrade root_hash level</code> advertises that the kernel of the EVM node failed to upgrade to <code>root_hash</code> with the <code>level</code>th blueprint.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ignored_kernel_arg"><a href="#val-ignored_kernel_arg" class="anchor"></a><code><span><span class="keyword">val</span> ignored_kernel_arg : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>ignored_kernel_arg ()</code> advertises that the EVM node has ignored the path to the initial kernel given as a command-line argument since its EVM state was already initialized.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-catching_up_evm_event"><a href="#val-catching_up_evm_event" class="anchor"></a><code><span><span class="keyword">val</span> catching_up_evm_event : <span><span class="label">from</span>:int32 <span class="arrow">&#45;&gt;</span></span> <span><span class="label">to_</span>:int32 <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>catching_up_evm_event ~from ~to_</code> advertises that the sequencer is catching up on event produced by the evm kernel in the rollup node from L1 level <code>from</code> to <code>to_</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_ready"><a href="#val-is_ready" class="anchor"></a><code><span><span class="keyword">val</span> is_ready : 
  <span><span class="label">rpc_addr</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">rpc_port</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">websockets</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">backend</span>:<a href="../../Evm_node_config/Configuration/index.html#type-rpc_server">Evm_node_config.Configuration.rpc_server</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>is_ready ~rpc_addr ~rpc_port ~websockets ~backend</code> advertises that the sequencer is ready and listens to <code>rpc_addr</code>:<code>rpc_port</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-private_server_is_ready"><a href="#val-private_server_is_ready" class="anchor"></a><code><span><span class="keyword">val</span> private_server_is_ready : 
  <span><span class="label">rpc_addr</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">rpc_port</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">websockets</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">backend</span>:<a href="../../Evm_node_config/Configuration/index.html#type-rpc_server">Evm_node_config.Configuration.rpc_server</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>private_server_is_ready ~rpc_addr ~rpc_port ~websockets ~backend</code> advertises that the private rpc server is ready and listens to <code>rpc_addr</code>:<code>rpc_port</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rpc_server_error"><a href="#val-rpc_server_error" class="anchor"></a><code><span><span class="keyword">val</span> rpc_server_error : <span>exn <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-shutdown_rpc_server"><a href="#val-shutdown_rpc_server" class="anchor"></a><code><span><span class="keyword">val</span> shutdown_rpc_server : <span><span class="label">private_</span>:bool <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>shutdown_rpc_server ~private_ ()</code> advertises that the RPC server was shut down, <code>private_</code> tells whether it is the private server or not.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-shutdown_node"><a href="#val-shutdown_node" class="anchor"></a><code><span><span class="keyword">val</span> shutdown_node : <span><span class="label">exit_status</span>:int <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>shutdown_node ~exit_status</code> advertises that the sequencer was shutdown, and exits with <code>exit_status</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-callback_log"><a href="#val-callback_log" class="anchor"></a><code><span><span class="keyword">val</span> callback_log : <span><span class="label">uri</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">meth</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">body</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>callback_log ~uri ~meth ~body</code> is used as the debug event used as callback for resto to logs the requests.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-kernel_log_kind"><a href="#type-kernel_log_kind" class="anchor"></a><code><span><span class="keyword">type</span> kernel_log_kind</span><span> = </span></code><ol><li id="type-kernel_log_kind.Application" class="def variant constructor anchored"><a href="#type-kernel_log_kind.Application" class="anchor"></a><code><span>| </span><span><span class="constructor">Application</span></span></code></li><li id="type-kernel_log_kind.Simulation" class="def variant constructor anchored"><a href="#type-kernel_log_kind.Simulation" class="anchor"></a><code><span>| </span><span><span class="constructor">Simulation</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-kernel_log_level"><a href="#type-kernel_log_level" class="anchor"></a><code><span><span class="keyword">type</span> kernel_log_level</span><span> = </span></code><ol><li id="type-kernel_log_level.Debug" class="def variant constructor anchored"><a href="#type-kernel_log_level.Debug" class="anchor"></a><code><span>| </span><span><span class="constructor">Debug</span></span></code></li><li id="type-kernel_log_level.Info" class="def variant constructor anchored"><a href="#type-kernel_log_level.Info" class="anchor"></a><code><span>| </span><span><span class="constructor">Info</span></span></code></li><li id="type-kernel_log_level.Error" class="def variant constructor anchored"><a href="#type-kernel_log_level.Error" class="anchor"></a><code><span>| </span><span><span class="constructor">Error</span></span></code></li><li id="type-kernel_log_level.Fatal" class="def variant constructor anchored"><a href="#type-kernel_log_level.Fatal" class="anchor"></a><code><span>| </span><span><span class="constructor">Fatal</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-event_kernel_log"><a href="#val-event_kernel_log" class="anchor"></a><code><span><span class="keyword">val</span> event_kernel_log : 
  <span><span class="label">level</span>:<a href="#type-kernel_log_level">kernel_log_level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">kind</span>:<a href="#type-kernel_log_kind">kernel_log_kind</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">msg</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Logs kernel log <code>Debug</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-retrying_connect"><a href="#val-retrying_connect" class="anchor"></a><code><span><span class="keyword">val</span> retrying_connect : <span><span class="label">endpoint</span>:<span class="xref-unresolved">Uri</span>.t <span class="arrow">&#45;&gt;</span></span> <span><span class="label">delay</span>:float <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-preload_kernel"><a href="#val-preload_kernel" class="anchor"></a><code><span><span class="keyword">val</span> preload_kernel : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>preload_kernel version</code> advertizes the EVM node has preloaded in the module cache the kernel <code>version</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patched_state"><a href="#val-patched_state" class="anchor"></a><code><span><span class="keyword">val</span> patched_state : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-predownload_kernel"><a href="#val-predownload_kernel" class="anchor"></a><code><span><span class="keyword">val</span> predownload_kernel : <span><a href="../../../octez-libs/Tezos_stdlib/Hex/index.html#type-t">Tezos_base.TzPervasives.Hex.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>predownload_kernel root_hash</code> advertizes the EVM node has downloaded all preimages under <code>root_hash</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sandbox_started"><a href="#val-sandbox_started" class="anchor"></a><code><span><span class="keyword">val</span> sandbox_started : <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>sandbox_started level</code> advertizes that sandbox mode started on top of level <code>level</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cannot_fetch_time_between_blocks"><a href="#val-cannot_fetch_time_between_blocks" class="anchor"></a><code><span><span class="keyword">val</span> cannot_fetch_time_between_blocks : 
  <span><a href="../../Evm_node_config/Configuration/index.html#type-time_between_blocks">Evm_node_config.Configuration.time_between_blocks</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tztrace">Tezos_base.TzPervasives.tztrace</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-invalid_node_da_fees"><a href="#val-invalid_node_da_fees" class="anchor"></a><code><span><span class="keyword">val</span> invalid_node_da_fees : 
  <span><span class="label">node_da_fees</span>:<span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">kernel_da_fees</span>:<span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">block_number</span>:<span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">call</span>:<a href="../../../octez-libs/Data_encoding/index.html#type-json">Tezos_base.TzPervasives.Data_encoding.json</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-deprecation_note"><a href="#val-deprecation_note" class="anchor"></a><code><span><span class="keyword">val</span> deprecation_note : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wasm_pvm_fallback"><a href="#val-wasm_pvm_fallback" class="anchor"></a><code><span><span class="keyword">val</span> wasm_pvm_fallback : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>wasm_pvm_fallback ()</code> advertises that the node has to fallback to the PVM to execute a block, which is slow.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-missing_chain_id"><a href="#val-missing_chain_id" class="anchor"></a><code><span><span class="keyword">val</span> missing_chain_id : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>missing_chain_id ()</code> advertises that the node could not check the consistency of the stored chain id with the selected network.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-downloading_file"><a href="#val-downloading_file" class="anchor"></a><code><span><span class="keyword">val</span> downloading_file : <span><span class="optlabel">?size</span>:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>downloading_file ?size url</code> advertises that the node is downloading the file at <code>url</code>, and explicitly mentions its <code>size</code> if provided.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-download_error"><a href="#type-download_error" class="anchor"></a><code><span><span class="keyword">type</span> download_error</span><span> = </span></code><ol><li id="type-download_error.Http_error" class="def variant constructor anchored"><a href="#type-download_error.Http_error" class="anchor"></a><code><span>| </span><span><span class="constructor">Http_error</span> <span class="keyword">of</span> <span class="xref-unresolved">Cohttp</span>.Code.status_code</span></code></li><li id="type-download_error.Exn" class="def variant constructor anchored"><a href="#type-download_error.Exn" class="anchor"></a><code><span>| </span><span><span class="constructor">Exn</span> <span class="keyword">of</span> exn</span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-download_failed"><a href="#val-download_failed" class="anchor"></a><code><span><span class="keyword">val</span> download_failed : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-download_error">download_error</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>download_failed url status</code> advertises that the download of <code>url</code> failed with the given <code>status</code> code.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-importing_snapshot"><a href="#val-importing_snapshot" class="anchor"></a><code><span><span class="keyword">val</span> importing_snapshot : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div></div></body></html>
