<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sequencer_blueprint (octez-evm-node-libs.Evm_node_lib_dev.Sequencer_blueprint)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-evm-node-libs</a> &#x00BB; <a href="../index.html">Evm_node_lib_dev</a> &#x00BB; Sequencer_blueprint</nav><header class="odoc-preamble"><h1>Module <code><span>Evm_node_lib_dev.Sequencer_blueprint</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-chunk_encoding"><a href="#val-chunk_encoding" class="anchor"></a><code><span><span class="keyword">val</span> chunk_encoding : <span><a href="#type-t">t</a> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Tezos_base.TzPervasives.Data_encoding.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-chunk_to_rlp"><a href="#val-chunk_to_rlp" class="anchor"></a><code><span><span class="keyword">val</span> chunk_to_rlp : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Evm_node_lib_dev_encoding/Rlp/index.html#type-item">Evm_node_lib_dev_encoding.Rlp.item</a></span></code></div><div class="spec-doc"><p><code>chunk_to_rlp chunk</code> encodes a chunk into its RLP format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prepare"><a href="#val-prepare" class="anchor"></a><code><span><span class="keyword">val</span> prepare : 
  <span><span class="label">cctxt</span>:<a href="../../../octez-shell-libs/Tezos_client_base/Client_context/class-type-wallet/index.html">Tezos_client_base.Client_context.wallet</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">sequencer_key</span>:<a href="../../../octez-shell-libs/Tezos_client_base/Client_keys/index.html#type-sk_uri">Tezos_client_base.Client_keys.sk_uri</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">timestamp</span>:<a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">number</span>:<a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-quantity">Evm_node_lib_dev_encoding.Ethereum_types.quantity</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">parent_hash</span>:<a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-block_hash">Evm_node_lib_dev_encoding.Ethereum_types.block_hash</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">delayed_transactions</span>:<span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-hash">Evm_node_lib_dev_encoding.Ethereum_types.hash</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">transactions</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="#type-t">t</a> list</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>prepare ~secret_key ~timestamp ~number ~parent_hash ~delayed_transactions
    ~transactions</code> creates a sequencer blueprint at <code>timestamp</code> with a given <code>number</code> containing <code>transactions</code>, signed with <code>secret_key</code>. Returns the list of prepared chunks.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_inbox_payload"><a href="#val-create_inbox_payload" class="anchor"></a><code><span><span class="keyword">val</span> create_inbox_payload : 
  <span><span class="label">smart_rollup_address</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">chunks</span>:<span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Blueprint_types/index.html#type-payload">Blueprint_types.payload</a></span></code></div><div class="spec-doc"><p><code>create_inbox_payload ~smart_rollup_address ~chunks</code> encodes the chunks into message(s) that can be read from the inbox by the kernel.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_dal_payloads"><a href="#val-create_dal_payloads" class="anchor"></a><code><span><span class="keyword">val</span> create_dal_payloads : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>create_dal_payloads chunks</code> encodes the chunks into messages that can be read from DAL slots by the kernel. The chunks are prefixed by a tag.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-maximum_usable_space_in_blueprint"><a href="#val-maximum_usable_space_in_blueprint" class="anchor"></a><code><span><span class="keyword">val</span> maximum_usable_space_in_blueprint : <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>maximum_usable_size_in_blueprint chunks_count</code> returns the available space for transactions in a blueprint composed of <code>chunks_count</code> chunks.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-maximum_chunks_per_l1_level"><a href="#val-maximum_chunks_per_l1_level" class="anchor"></a><code><span><span class="keyword">val</span> maximum_chunks_per_l1_level : int</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-kernel_blueprint"><a href="#type-kernel_blueprint" class="anchor"></a><code><span><span class="keyword">type</span> kernel_blueprint</span><span> = </span><span>{</span></code><ol><li id="type-kernel_blueprint.parent_hash" class="def record field anchored"><a href="#type-kernel_blueprint.parent_hash" class="anchor"></a><code><span>parent_hash : <a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-block_hash">Evm_node_lib_dev_encoding.Ethereum_types.block_hash</a>;</span></code></li><li id="type-kernel_blueprint.delayed_transactions" class="def record field anchored"><a href="#type-kernel_blueprint.delayed_transactions" class="anchor"></a><code><span>delayed_transactions : <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-hash">Evm_node_lib_dev_encoding.Ethereum_types.hash</a> list</span>;</span></code></li><li id="type-kernel_blueprint.transactions" class="def record field anchored"><a href="#type-kernel_blueprint.transactions" class="anchor"></a><code><span>transactions : <span>string list</span>;</span></code></li><li id="type-kernel_blueprint.timestamp" class="def record field anchored"><a href="#type-kernel_blueprint.timestamp" class="anchor"></a><code><span>timestamp : <a href="../../../octez-libs/Tezos_base/Time/Protocol/index.html#type-t">Tezos_base.TzPervasives.Time.Protocol.t</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-kernel_blueprint_parent_hash_of_payload"><a href="#val-kernel_blueprint_parent_hash_of_payload" class="anchor"></a><code><span><span class="keyword">val</span> kernel_blueprint_parent_hash_of_payload : 
  <span><a href="../../../octez-libs/Tezos_crypto/Signature/index.html#type-public_key">Tezos_base.TzPervasives.Signature.public_key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Blueprint_types/index.html#type-payload">Blueprint_types.payload</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Evm_node_lib_dev_encoding/Ethereum_types/index.html#type-block_hash">Evm_node_lib_dev_encoding.Ethereum_types.block_hash</a> option</span></span></code></div><div class="spec-doc"><p><code>kernel_blueprint_parent_hash_of_payload sequencer bytes</code> partially decodes fields of a <a href="#type-kernel_blueprint"><code>kernel_blueprint</code></a> and return the <a href="#type-kernel_blueprint.parent_hash"><code>kernel_blueprint.parent_hash</code></a>. Verify the signature of each chunk against public key <code>sequencer</code>.</p></div></div></div></body></html>
