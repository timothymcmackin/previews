<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Signals_publisher (octez-evm-node-libs.Evm_node_lib_dev.Signals_publisher)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-evm-node-libs</a> &#x00BB; <a href="../index.html">Evm_node_lib_dev</a> &#x00BB; Signals_publisher</nav><header class="odoc-preamble"><h1>Module <code><span>Evm_node_lib_dev.Signals_publisher</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-start"><a href="#val-start" class="anchor"></a><code><span><span class="keyword">val</span> start : 
  <span><span class="label">cctxt</span>:<a href="../../../octez-shell-libs/Tezos_client_base/Client_context/class-type-wallet/index.html">Tezos_client_base.Client_context.wallet</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">smart_rollup_address</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">sequencer_key</span>:<a href="../../../octez-shell-libs/Tezos_client_base/Client_keys/index.html#type-sk_uri">Tezos_client_base.Client_keys.sk_uri</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">rollup_node_endpoint</span>:<span class="xref-unresolved">Uri</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>start ~cctxt ~smart_rollup_address ~sequencer_key
    ~rollup_node_endpoint ()</code> starts the signal publisher. It should only be called once and only if DAL is enabled. The signal publisher should be started before the blueprint publisher because it expects messages from the blueprint publisher.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-shutdown"><a href="#val-shutdown" class="anchor"></a><code><span><span class="keyword">val</span> shutdown : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>shutdown ()</code> shuts down the signal publisher.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_rollup_block"><a href="#val-new_rollup_block" class="anchor"></a><code><span><span class="keyword">val</span> new_rollup_block : 
  <span><span class="label">finalized_level</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>new_rollup_block finalized_level</code> tells the worker to check whether the blueprints that have been previously injected on the DAL have been committed/included and finalized. If it is the case, the worker builds the corresponding signals. For now it does not send them to the kernel.</p></div></div></div></body></html>
