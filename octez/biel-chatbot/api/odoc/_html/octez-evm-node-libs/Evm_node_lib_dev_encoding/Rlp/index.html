<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Rlp (octez-evm-node-libs.Evm_node_lib_dev_encoding.Rlp)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">octez-evm-node-libs</a> &#x00BB; <a href="../index.html">Evm_node_lib_dev_encoding</a> &#x00BB; Rlp</nav><header class="odoc-preamble"><h1>Module <code><span>Evm_node_lib_dev_encoding.Rlp</span></code></h1><p>A simple RLP encoding library, see https://ethereum.org/en/developers/docs/data-structures-and-encoding/rlp/ for the specification.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type extension anchored" id="extension-decl-Rlp_decoding_error"><a href="#extension-decl-Rlp_decoding_error" class="anchor"></a><code><span><span class="keyword">type</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-error">Tezos_base.TzPervasives.error</a> += </span></code><ol><li id="extension-Rlp_decoding_error" class="def variant extension anchored"><a href="#extension-Rlp_decoding_error" class="anchor"></a><code><span>| </span><span><span class="extension">Rlp_decoding_error</span> <span class="keyword">of</span> string</span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-item"><a href="#type-item" class="anchor"></a><code><span><span class="keyword">type</span> item</span><span> = </span></code><ol><li id="type-item.Value" class="def variant constructor anchored"><a href="#type-item.Value" class="anchor"></a><code><span>| </span><span><span class="constructor">Value</span> <span class="keyword">of</span> bytes</span></code></li><li id="type-item.List" class="def variant constructor anchored"><a href="#type-item.List" class="anchor"></a><code><span>| </span><span><span class="constructor">List</span> <span class="keyword">of</span> <span><a href="#type-item">item</a> list</span></span></code></li></ol></div><div class="spec-doc"><p>An RLP value is either a bytes value, or a list of RLP values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode_int"><a href="#val-encode_int" class="anchor"></a><code><span><span class="keyword">val</span> encode_int : <span>int <span class="arrow">&#45;&gt;</span></span> bytes</span></code></div><div class="spec-doc"><p><code>encode_int i</code> encodes an integer in big endian in its smallest representation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode_z"><a href="#val-encode_z" class="anchor"></a><code><span><span class="keyword">val</span> encode_z : <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span> bytes</span></code></div><div class="spec-doc"><p><code>encode_z z</code> encodes a big integer in big endian in its smallest representation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode"><a href="#val-encode" class="anchor"></a><code><span><span class="keyword">val</span> encode : <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> bytes</span></code></div><div class="spec-doc"><p><code>encode item</code> takes an RLP <code>item</code> and returns its encoded form.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_int"><a href="#val-decode_int" class="anchor"></a><code><span><span class="keyword">val</span> decode_int : <span>bytes <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode_int bytes</code> decodes an integer encoded in big endian from the given <code>bytes</code>. Returns an <a href="#extension-Rlp_decoding_error"><code>Rlp_decoding_error</code></a> if the bytes is not a valid RLP encoded integer.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_z"><a href="#val-decode_z" class="anchor"></a><code><span><span class="keyword">val</span> decode_z : <span>bytes <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Z</span>.t <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode_z bytes</code> decodes a big integer encoded in big endian from the given <code>bytes</code>. Returns an <a href="#extension-Rlp_decoding_error"><code>Rlp_decoding_error</code></a> if the bytes is not a valid RLP encoded big integer.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode"><a href="#val-decode" class="anchor"></a><code><span><span class="keyword">val</span> decode : <span>bytes <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-item">item</a> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode bytes</code> decodes an RLP value from the given <code>bytes</code>. Returns an <a href="#extension-Rlp_decoding_error"><code>Rlp_decoding_error</code></a> if the bytes is not an RLP encoded value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_exn"><a href="#val-decode_exn" class="anchor"></a><code><span><span class="keyword">val</span> decode_exn : <span>bytes <span class="arrow">&#45;&gt;</span></span> <a href="#type-item">item</a></span></code></div><div class="spec-doc"><p><code>decode_exn bytes</code> calls <a href="#val-decode"><code>decode</code></a> and raises <code>Invalid_argument</code> if it fails to decode.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_option"><a href="#val-decode_option" class="anchor"></a><code><span><span class="keyword">val</span> decode_option : 
  <span><span>(<span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> option</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode_option decode_value optional_value</code> decodes the option following Rust's RLP encoding.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_result"><a href="#val-decode_result" class="anchor"></a><code><span><span class="keyword">val</span> decode_result : 
  <span><span>(<span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode_result decode_ok decode_error value</code> decodes an encoded result type.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_value"><a href="#val-decode_value" class="anchor"></a><code><span><span class="keyword">val</span> decode_value : 
  <span><span>(<span>bytes <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode_value decode item</code> decodes an encapsulated value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_list"><a href="#val-decode_list" class="anchor"></a><code><span><span class="keyword">val</span> decode_list : 
  <span><span>(<span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode_list decode_item list_item</code> decodes a list using <code>decode_item</code> on each list element.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_decode_list"><a href="#val-filter_decode_list" class="anchor"></a><code><span><span class="keyword">val</span> filter_decode_list : 
  <span><span>(<span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>filter_decode_list filter_decode list</code> decodes and filter the item in a list: If <code>filter_decode item</code> is <code>None</code> then the item is filtered out, else it's decoded. Based on <code>List.filter_map</code> so slightly faster than two steps.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_as_bytes"><a href="#val-decode_as_bytes" class="anchor"></a><code><span><span class="keyword">val</span> decode_as_bytes : <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> <span>bytes <a href="../../../octez-libs/Tezos_base/TzPervasives/index.html#type-tzresult">Tezos_base.TzPervasives.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>decode_as_bytes item</code> returns the bytes of <code>item</code> if it's a value, and returns a <a href="#extension-Rlp_decoding_error"><code>Rlp_decoding_error</code></a> if it's a list.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-item">item</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>pp ppf item</code> pretty-prints an item.</p></div></div></div></body></html>
