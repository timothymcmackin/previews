<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Michelson_mcmc_samplers (tezos-benchmark-020-PsParisC.Tezos_benchmark_020_PsParisC.Michelson_mcmc_samplers)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-benchmark-020-PsParisC</a> &#x00BB; <a href="../index.html">Tezos_benchmark_020_PsParisC</a> &#x00BB; Michelson_mcmc_samplers</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_benchmark_020_PsParisC.Michelson_mcmc_samplers</span></code></h1><p>MCMC-based Michelson data and code samplers.</p></header><div class="odoc-content"><p>MCMC samplers can either produce data or code. Note that the samplers natively produce data and code in Micheline (ie untyped) form.</p><div class="odoc-spec"><div class="spec type anchored" id="type-michelson_code"><a href="#type-michelson_code" class="anchor"></a><code><span><span class="keyword">type</span> michelson_code</span><span> = </span><span>{</span></code><ol><li id="type-michelson_code.term" class="def record field anchored"><a href="#type-michelson_code.term" class="anchor"></a><code><span>term : <a href="../../../tezos-protocol-020-PsParisC/Tezos_raw_protocol_020_PsParisC/Script_repr/index.html#type-expr">Tezos_protocol_020_PsParisC.Protocol.Script_repr.expr</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>term</code> is a typeable Michelson program in Micheline form.</p><span class="comment-delim">*)</span></div></li><li id="type-michelson_code.bef" class="def record field anchored"><a href="#type-michelson_code.bef" class="anchor"></a><code><span>bef : <span><a href="../../../tezos-protocol-020-PsParisC/Tezos_raw_protocol_020_PsParisC/Script_repr/index.html#type-expr">Tezos_protocol_020_PsParisC.Protocol.Script_repr.expr</a> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>bef</code> is an input stack type for which <code>term</code> is a well-typed script.</p><span class="comment-delim">*)</span></div></li><li id="type-michelson_code.aft" class="def record field anchored"><a href="#type-michelson_code.aft" class="anchor"></a><code><span>aft : <span><a href="../../../tezos-protocol-020-PsParisC/Tezos_raw_protocol_020_PsParisC/Script_repr/index.html#type-expr">Tezos_protocol_020_PsParisC.Protocol.Script_repr.expr</a> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>aft</code> is the stack type corresponding to the execution of <code>term</code> on a stack of type <code>bef</code>.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-michelson_data"><a href="#type-michelson_data" class="anchor"></a><code><span><span class="keyword">type</span> michelson_data</span><span> = </span><span>{</span></code><ol><li id="type-michelson_data.term" class="def record field anchored"><a href="#type-michelson_data.term" class="anchor"></a><code><span>term : <a href="../../../tezos-protocol-020-PsParisC/Tezos_raw_protocol_020_PsParisC/Script_repr/index.html#type-expr">Tezos_protocol_020_PsParisC.Protocol.Script_repr.expr</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>term</code> is a typeable Michelson data in Micheline form.</p><span class="comment-delim">*)</span></div></li><li id="type-michelson_data.typ" class="def record field anchored"><a href="#type-michelson_data.typ" class="anchor"></a><code><span>typ : <a href="../../../tezos-protocol-020-PsParisC/Tezos_raw_protocol_020_PsParisC/Script_repr/index.html#type-expr">Tezos_protocol_020_PsParisC.Protocol.Script_repr.expr</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>typ</code> is the type of <code>term</code>.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-michelson_sample"><a href="#type-michelson_sample" class="anchor"></a><code><span><span class="keyword">type</span> michelson_sample</span><span> = </span></code><ol><li id="type-michelson_sample.Code" class="def variant constructor anchored"><a href="#type-michelson_sample.Code" class="anchor"></a><code><span>| </span><span><span class="constructor">Code</span> <span class="keyword">of</span> <a href="#type-michelson_code">michelson_code</a></span></code></li><li id="type-michelson_sample.Data" class="def variant constructor anchored"><a href="#type-michelson_sample.Data" class="anchor"></a><code><span>| </span><span><span class="constructor">Data</span> <span class="keyword">of</span> <a href="#type-michelson_data">michelson_data</a></span></code></li></ol></div><div class="spec-doc"><p>A <code>michelson_sample</code> is either a code sample or a data sample.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-michelson_sample_list_encoding"><a href="#val-michelson_sample_list_encoding" class="anchor"></a><code><span><span class="keyword">val</span> michelson_sample_list_encoding : <span><span><a href="#type-michelson_sample">michelson_sample</a> list</span> <a href="../../../octez-libs/Data_encoding/index.html#type-t">Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding used for saving or loading data.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-save"><a href="#val-save" class="anchor"></a><code><span><span class="keyword">val</span> save : <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">terms</span>:<span><a href="#type-michelson_sample">michelson_sample</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Saving a list of samples to a file. Exits with code 1 if an error arises during encoding or file manipulation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-michelson_sample">michelson_sample</a> list</span></span></code></div><div class="spec-doc"><p>Loading a list of samples from a file. Exits with code 1 if an error arises during decoding or file manipulation.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_code_sampler"><a href="#module-Make_code_sampler" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_code_sampler/index.html">Make_code_sampler</a></span><span>
  (<a href="Make_code_sampler/argument-1-Michelson_base/index.html">Michelson_base</a> : <a href="../Michelson_samplers_base/module-type-S/index.html">Michelson_samplers_base.S</a>)
  (<a href="Make_code_sampler/argument-2-Crypto_samplers/index.html">Crypto_samplers</a> : <a href="../../../tezos-benchmark/Tezos_benchmark/Crypto_samplers/module-type-Finite_key_pool_S/index.html">Tezos_benchmark.Crypto_samplers.Finite_key_pool_S</a>)
  (<a href="Make_code_sampler/argument-3-X/index.html">X</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : 
  <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>Make_code_sampler</code> produces a sampler for well-typed Michelson code. The parameters of the functor are:</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_data_sampler"><a href="#module-Make_data_sampler" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_data_sampler/index.html">Make_data_sampler</a></span><span>
  (<a href="Make_data_sampler/argument-1-Michelson_base/index.html">Michelson_base</a> : <a href="../Michelson_samplers_base/module-type-S/index.html">Michelson_samplers_base.S</a>)
  (<a href="Make_data_sampler/argument-2-Crypto_samplers/index.html">Crypto_samplers</a> : <a href="../../../tezos-benchmark/Tezos_benchmark/Crypto_samplers/module-type-Finite_key_pool_S/index.html">Tezos_benchmark.Crypto_samplers.Finite_key_pool_S</a>)
  (<a href="Make_data_sampler/argument-3-X/index.html">X</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : 
  <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>See documentation for <code>Make_code_sampler</code></p></div></div></div></body></html>
