<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Script_ir_translator (tezos-protocol-011-PtHangz2.Tezos_raw_protocol_011_PtHangz2.Script_ir_translator)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-protocol-011-PtHangz2</a> &#x00BB; <a href="../index.html">Tezos_raw_protocol_011_PtHangz2</a> &#x00BB; Script_ir_translator</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_raw_protocol_011_PtHangz2.Script_ir_translator</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-eq"><a href="#type-eq" class="anchor"></a><code><span><span class="keyword">type</span> <span>('ta, 'tb) eq</span></span><span> = </span></code><ol><li id="type-eq.Eq" class="def variant constructor anchored"><a href="#type-eq.Eq" class="anchor"></a><code><span>| </span><span><span class="constructor">Eq</span> : <span><span>(<span class="type-var">'same</span>, <span class="type-var">'same</span>)</span> <a href="#type-eq">eq</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ex_comparable_ty"><a href="#type-ex_comparable_ty" class="anchor"></a><code><span><span class="keyword">type</span> ex_comparable_ty</span><span> = </span></code><ol><li id="type-ex_comparable_ty.Ex_comparable_ty" class="def variant constructor anchored"><a href="#type-ex_comparable_ty.Ex_comparable_ty" class="anchor"></a><code><span>| </span><span><span class="constructor">Ex_comparable_ty</span> : <span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-comparable_ty">Script_typed_ir.comparable_ty</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-ex_comparable_ty">ex_comparable_ty</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ex_ty"><a href="#type-ex_ty" class="anchor"></a><code><span><span class="keyword">type</span> ex_ty</span><span> = </span></code><ol><li id="type-ex_ty.Ex_ty" class="def variant constructor anchored"><a href="#type-ex_ty.Ex_ty" class="anchor"></a><code><span>| </span><span><span class="constructor">Ex_ty</span> : <span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-ex_ty">ex_ty</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ex_stack_ty"><a href="#type-ex_stack_ty" class="anchor"></a><code><span><span class="keyword">type</span> ex_stack_ty</span><span> = </span></code><ol><li id="type-ex_stack_ty.Ex_stack_ty" class="def variant constructor anchored"><a href="#type-ex_stack_ty.Ex_stack_ty" class="anchor"></a><code><span>| </span><span><span class="constructor">Ex_stack_ty</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../Script_typed_ir/index.html#type-stack_ty">Script_typed_ir.stack_ty</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-ex_stack_ty">ex_stack_ty</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ex_script"><a href="#type-ex_script" class="anchor"></a><code><span><span class="keyword">type</span> ex_script</span><span> = </span></code><ol><li id="type-ex_script.Ex_script" class="def variant constructor anchored"><a href="#type-ex_script.Ex_script" class="anchor"></a><code><span>| </span><span><span class="constructor">Ex_script</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Script_typed_ir/index.html#type-script">Script_typed_ir.script</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-ex_script">ex_script</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-toplevel"><a href="#type-toplevel" class="anchor"></a><code><span><span class="keyword">type</span> toplevel</span><span> = </span><span>{</span></code><ol><li id="type-toplevel.code_field" class="def record field anchored"><a href="#type-toplevel.code_field" class="anchor"></a><code><span>code_field : <a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a>;</span></code></li><li id="type-toplevel.arg_type" class="def record field anchored"><a href="#type-toplevel.arg_type" class="anchor"></a><code><span>arg_type : <a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a>;</span></code></li><li id="type-toplevel.storage_type" class="def record field anchored"><a href="#type-toplevel.storage_type" class="anchor"></a><code><span>storage_type : <a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a>;</span></code></li><li id="type-toplevel.views" class="def record field anchored"><a href="#type-toplevel.views" class="anchor"></a><code><span>views : <span><a href="../Script_typed_ir/index.html#type-view">Script_typed_ir.view</a> <a href="../Script_typed_ir/SMap/index.html#type-t">Script_typed_ir.SMap.t</a></span>;</span></code></li><li id="type-toplevel.root_name" class="def record field anchored"><a href="#type-toplevel.root_name" class="anchor"></a><code><span>root_name : <span><a href="../Script_typed_ir/index.html#type-field_annot">Script_typed_ir.field_annot</a> option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-code"><a href="#type-code" class="anchor"></a><code><span><span class="keyword">type</span> <span>('arg, 'storage) code</span></span><span> = </span><span>{</span></code><ol><li id="type-code.code" class="def record field anchored"><a href="#type-code.code" class="anchor"></a><code><span>code : <span><span>(<span><span>(<span class="type-var">'arg</span>, <span class="type-var">'storage</span>)</span> <a href="../Script_typed_ir/index.html#type-pair">Script_typed_ir.pair</a></span>,
         <span><span>(<span><a href="../Script_typed_ir/index.html#type-operation">Script_typed_ir.operation</a> <a href="../Script_typed_ir/index.html#type-boxed_list">Script_typed_ir.boxed_list</a></span>, <span class="type-var">'storage</span>)</span>
           <a href="../Script_typed_ir/index.html#type-pair">Script_typed_ir.pair</a></span>)</span>
         <a href="../Script_typed_ir/index.html#type-lambda">Script_typed_ir.lambda</a></span>;</span></code></li><li id="type-code.arg_type" class="def record field anchored"><a href="#type-code.arg_type" class="anchor"></a><code><span>arg_type : <span><span class="type-var">'arg</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>;</span></code></li><li id="type-code.storage_type" class="def record field anchored"><a href="#type-code.storage_type" class="anchor"></a><code><span>storage_type : <span><span class="type-var">'storage</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>;</span></code></li><li id="type-code.views" class="def record field anchored"><a href="#type-code.views" class="anchor"></a><code><span>views : <span><a href="../Script_typed_ir/index.html#type-view">Script_typed_ir.view</a> <a href="../Script_typed_ir/SMap/index.html#type-t">Script_typed_ir.SMap.t</a></span>;</span></code></li><li id="type-code.root_name" class="def record field anchored"><a href="#type-code.root_name" class="anchor"></a><code><span>root_name : <span><a href="../Script_typed_ir/index.html#type-field_annot">Script_typed_ir.field_annot</a> option</span>;</span></code></li><li id="type-code.code_size" class="def record field anchored"><a href="#type-code.code_size" class="anchor"></a><code><span>code_size : <a href="../Cache_memory_helpers/index.html#type-sint">Cache_memory_helpers.sint</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>This is an over-approximation of the value size in memory, in bytes, of the contract's static part, that is its source code. This includes the code of the contract as well as the code of the views. The storage size is not taken into account by this field as it has a dynamic size.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ex_code"><a href="#type-ex_code" class="anchor"></a><code><span><span class="keyword">type</span> ex_code</span><span> = </span></code><ol><li id="type-ex_code.Ex_code" class="def variant constructor anchored"><a href="#type-ex_code.Ex_code" class="anchor"></a><code><span>| </span><span><span class="constructor">Ex_code</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="#type-code">code</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-ex_code">ex_code</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ex_view"><a href="#type-ex_view" class="anchor"></a><code><span><span class="keyword">type</span> <span>'storage ex_view</span></span><span> = </span></code><ol><li id="type-ex_view.Ex_view" class="def variant constructor anchored"><a href="#type-ex_view.Ex_view" class="anchor"></a><code><span>| </span><span><span class="constructor">Ex_view</span> : <span><span>(<span class="type-var">'input</span> * <span class="type-var">'storage</span>, <span class="type-var">'output</span>)</span> <a href="../Script_typed_ir/index.html#type-lambda">Script_typed_ir.lambda</a></span> <span class="arrow">&#45;&gt;</span> <span><span class="type-var">'storage</span>
                                                                   <a href="#type-ex_view">ex_view</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-cinstr"><a href="#type-cinstr" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 's, 'b, 'u) cinstr</span></span><span> = </span><span>{</span></code><ol><li id="type-cinstr.apply" class="def record field anchored"><a href="#type-cinstr.apply" class="anchor"></a><code><span>apply : 'r 'f. <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../Script_typed_ir/index.html#type-kinfo">Script_typed_ir.kinfo</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'u</span>, <span class="type-var">'r</span>, <span class="type-var">'f</span>)</span> <a href="../Script_typed_ir/index.html#type-kinstr">Script_typed_ir.kinstr</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'f</span>)</span> <a href="../Script_typed_ir/index.html#type-kinstr">Script_typed_ir.kinstr</a></span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-descr"><a href="#type-descr" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 's, 'b, 'u) descr</span></span><span> = </span><span>{</span></code><ol><li id="type-descr.loc" class="def record field anchored"><a href="#type-descr.loc" class="anchor"></a><code><span>loc : <a href="../Alpha_context/Script/index.html#type-location">Alpha_context.Script.location</a>;</span></code></li><li id="type-descr.bef" class="def record field anchored"><a href="#type-descr.bef" class="anchor"></a><code><span>bef : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../Script_typed_ir/index.html#type-stack_ty">Script_typed_ir.stack_ty</a></span>;</span></code></li><li id="type-descr.aft" class="def record field anchored"><a href="#type-descr.aft" class="anchor"></a><code><span>aft : <span><span>(<span class="type-var">'b</span>, <span class="type-var">'u</span>)</span> <a href="../Script_typed_ir/index.html#type-stack_ty">Script_typed_ir.stack_ty</a></span>;</span></code></li><li id="type-descr.instr" class="def record field anchored"><a href="#type-descr.instr" class="anchor"></a><code><span>instr : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>, <span class="type-var">'b</span>, <span class="type-var">'u</span>)</span> <a href="#type-cinstr">cinstr</a></span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tc_context"><a href="#type-tc_context" class="anchor"></a><code><span><span class="keyword">type</span> tc_context</span><span> = </span></code><ol><li id="type-tc_context.Lambda" class="def variant constructor anchored"><a href="#type-tc_context.Lambda" class="anchor"></a><code><span>| </span><span><span class="constructor">Lambda</span> : <a href="#type-tc_context">tc_context</a></span></code></li><li id="type-tc_context.Dip" class="def variant constructor anchored"><a href="#type-tc_context.Dip" class="anchor"></a><code><span>| </span><span><span class="constructor">Dip</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../Script_typed_ir/index.html#type-stack_ty">Script_typed_ir.stack_ty</a></span> * <a href="#type-tc_context">tc_context</a> <span class="arrow">&#45;&gt;</span> <a href="#type-tc_context">tc_context</a></span></code></li><li id="type-tc_context.Toplevel" class="def variant constructor anchored"><a href="#type-tc_context.Toplevel" class="anchor"></a><code><span>| </span><span><span class="constructor">Toplevel</span> : </span><span>{</span></code><ol><li id="type-tc_context.storage_type" class="def record field anchored"><a href="#type-tc_context.storage_type" class="anchor"></a><code><span>storage_type : <span><span class="type-var">'sto</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>;</span></code></li><li id="type-tc_context.param_type" class="def record field anchored"><a href="#type-tc_context.param_type" class="anchor"></a><code><span>param_type : <span><span class="type-var">'param</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>;</span></code></li><li id="type-tc_context.root_name" class="def record field anchored"><a href="#type-tc_context.root_name" class="anchor"></a><code><span>root_name : <span><a href="../Script_typed_ir/index.html#type-field_annot">Script_typed_ir.field_annot</a> option</span>;</span></code></li><li id="type-tc_context.legacy_create_contract_literal" class="def record field anchored"><a href="#type-tc_context.legacy_create_contract_literal" class="anchor"></a><code><span>legacy_create_contract_literal : bool;</span></code></li></ol><code><span>}</span><span> <span class="arrow">&#45;&gt;</span> <a href="#type-tc_context">tc_context</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-judgement"><a href="#type-judgement" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 's) judgement</span></span><span> = </span></code><ol><li id="type-judgement.Typed" class="def variant constructor anchored"><a href="#type-judgement.Typed" class="anchor"></a><code><span>| </span><span><span class="constructor">Typed</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>, <span class="type-var">'b</span>, <span class="type-var">'u</span>)</span> <a href="#type-descr">descr</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="#type-judgement">judgement</a></span></span></code></li><li id="type-judgement.Failed" class="def variant constructor anchored"><a href="#type-judgement.Failed" class="anchor"></a><code><span>| </span><span><span class="constructor">Failed</span> : </span><span>{</span></code><ol><li id="type-judgement.descr" class="def record field anchored"><a href="#type-judgement.descr" class="anchor"></a><code><span>descr : 'b 'u. <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'u</span>)</span> <a href="../Script_typed_ir/index.html#type-stack_ty">Script_typed_ir.stack_ty</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>, <span class="type-var">'b</span>, <span class="type-var">'u</span>)</span> <a href="#type-descr">descr</a></span>;</span></code></li></ol><code><span>}</span><span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="#type-judgement">judgement</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-close_descr"><a href="#val-close_descr" class="anchor"></a><code><span><span class="keyword">val</span> close_descr : 
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-descr">descr</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="../Script_typed_ir/index.html#type-kdescr">Script_typed_ir.kdescr</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-unparsing_mode"><a href="#type-unparsing_mode" class="anchor"></a><code><span><span class="keyword">type</span> unparsing_mode</span><span> = </span></code><ol><li id="type-unparsing_mode.Optimized" class="def variant constructor anchored"><a href="#type-unparsing_mode.Optimized" class="anchor"></a><code><span>| </span><span><span class="constructor">Optimized</span></span></code></li><li id="type-unparsing_mode.Readable" class="def variant constructor anchored"><a href="#type-unparsing_mode.Readable" class="anchor"></a><code><span>| </span><span><span class="constructor">Readable</span></span></code></li><li id="type-unparsing_mode.Optimized_legacy" class="def variant constructor anchored"><a href="#type-unparsing_mode.Optimized_legacy" class="anchor"></a><code><span>| </span><span><span class="constructor">Optimized_legacy</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-merge_type_error_flag"><a href="#type-merge_type_error_flag" class="anchor"></a><code><span><span class="keyword">type</span> merge_type_error_flag</span><span> = </span></code><ol><li id="type-merge_type_error_flag.Default_merge_type_error" class="def variant constructor anchored"><a href="#type-merge_type_error_flag.Default_merge_type_error" class="anchor"></a><code><span>| </span><span><span class="constructor">Default_merge_type_error</span></span></code></li><li id="type-merge_type_error_flag.Fast_merge_type_error" class="def variant constructor anchored"><a href="#type-merge_type_error_flag.Fast_merge_type_error" class="anchor"></a><code><span>| </span><span><span class="constructor">Fast_merge_type_error</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Gas_monad"><a href="#module-Gas_monad" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Gas_monad/index.html">Gas_monad</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-type_logger"><a href="#type-type_logger" class="anchor"></a><code><span><span class="keyword">type</span> type_logger</span><span> =
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Alpha_context/Script/index.html#type-expr">Alpha_context.Script.expr</a> * <a href="../Alpha_context/Script/index.html#type-annot">Alpha_context.Script.annot</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Alpha_context/Script/index.html#type-expr">Alpha_context.Script.expr</a> * <a href="../Alpha_context/Script/index.html#type-annot">Alpha_context.Script.annot</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty_big_map"><a href="#val-empty_big_map" class="anchor"></a><code><span><span class="keyword">val</span> empty_big_map : 
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-comparable_ty">Script_typed_ir.comparable_ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span></span></code></div><div class="spec-doc"><p>Create an empty big_map</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-big_map_mem"><a href="#val-big_map_mem" class="anchor"></a><code><span><span class="keyword">val</span> big_map_mem : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(bool * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-big_map_get"><a href="#val-big_map_get" class="anchor"></a><code><span><span class="keyword">val</span> big_map_get : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span class="type-var">'value</span> option</span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-big_map_update"><a href="#val-big_map_update" class="anchor"></a><code><span><span class="keyword">val</span> big_map_update : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'value</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Update a big map. See <a href="#val-big_map_get_and_update"><code>big_map_get_and_update</code></a> for details.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-big_map_get_and_update"><a href="#val-big_map_get_and_update" class="anchor"></a><code><span><span class="keyword">val</span> big_map_get_and_update : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'value</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span>(<span><span class="type-var">'value</span> option</span> * <span><span>(<span class="type-var">'key</span>, <span class="type-var">'value</span>)</span> <a href="../Script_typed_ir/index.html#type-big_map">Script_typed_ir.big_map</a></span>)</span>
   * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Update a big map, returning the old value of the given key and the new map.</p><p>This does <i>not</i> modify the underlying storage, only the diff table.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ty_eq"><a href="#val-ty_eq" class="anchor"></a><code><span><span class="keyword">val</span> ty_eq : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-location">Alpha_context.Script.location</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'ta</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'tb</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<span><span class="type-var">'ta</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>, <span><span class="type-var">'tb</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>)</span> <a href="#type-eq">eq</a></span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-merge_types"><a href="#val-merge_types" class="anchor"></a><code><span><span class="keyword">val</span> merge_types : 
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">merge_type_error_flag</span>:<a href="#type-merge_type_error_flag">merge_type_error_flag</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-location">Alpha_context.Script.location</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>, <span><span class="type-var">'b</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>)</span> <a href="#type-eq">eq</a></span> * <span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span>)</span>
    <a href="Gas_monad/index.html#type-t">Gas_monad.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_comparable_data"><a href="#val-parse_comparable_data" class="anchor"></a><code><span><span class="keyword">val</span> parse_comparable_data : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-comparable_ty">Script_typed_ir.comparable_ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_data"><a href="#val-parse_data" class="anchor"></a><code><span><span class="keyword">val</span> parse_data : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">allow_forged</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unparse_data"><a href="#val-unparse_data" class="anchor"></a><code><span><span class="keyword">val</span> unparse_data : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-unparsing_mode">unparsing_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unparse_code"><a href="#val-unparse_code" class="anchor"></a><code><span><span class="keyword">val</span> unparse_code : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-unparsing_mode">unparsing_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_instr"><a href="#val-parse_instr" class="anchor"></a><code><span><span class="keyword">val</span> parse_instr : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-tc_context">tc_context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../Script_typed_ir/index.html#type-stack_ty">Script_typed_ir.stack_ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="#type-judgement">judgement</a></span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_big_map_value_ty"><a href="#val-parse_big_map_value_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_big_map_value_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_ty">ex_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>parse_ty</code> specialized for the right-hand side part of a big map type, i.e. the `value` in `big_map key value`.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_packable_ty"><a href="#val-parse_packable_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_packable_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_ty">ex_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_parameter_ty"><a href="#val-parse_parameter_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_parameter_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_ty">ex_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_comparable_ty"><a href="#val-parse_comparable_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_comparable_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_comparable_ty">ex_comparable_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_view_input_ty"><a href="#val-parse_view_input_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_view_input_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">stack_depth</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_ty">ex_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_view_output_ty"><a href="#val-parse_view_output_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_view_output_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">stack_depth</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_ty">ex_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_view_returning"><a href="#val-parse_view_returning" class="anchor"></a><code><span><span class="keyword">val</span> parse_view_returning : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'storage</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Script_typed_ir/index.html#type-view">Script_typed_ir.view</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span class="type-var">'storage</span> <a href="#type-ex_view">ex_view</a></span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-typecheck_views"><a href="#val-typecheck_views" class="anchor"></a><code><span><span class="keyword">val</span> typecheck_views : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'storage</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Script_typed_ir/index.html#type-view">Script_typed_ir.view</a> <a href="../Script_typed_ir/SMap/index.html#type-t">Script_typed_ir.SMap.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_any_ty"><a href="#val-parse_any_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_any_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_ty">ex_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>parse_ty</code> allowing big_map values, operations, contract and tickets.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_ty"><a href="#val-parse_ty" class="anchor"></a><code><span><span class="keyword">val</span> parse_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">allow_lazy_storage</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">allow_operation</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">allow_contract</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">allow_ticket</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-ex_ty">ex_ty</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p>We expose <code>parse_ty</code> for convenience to external tools. Please use specialized versions such as <code>parse_packable_ty</code>, <code>parse_parameter_ty</code>, <code>parse_comparable_ty</code>, or <code>parse_big_map_value_ty</code> if possible.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unparse_ty"><a href="#val-unparse_ty" class="anchor"></a><code><span><span class="keyword">val</span> unparse_ty : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ty_of_comparable_ty"><a href="#val-ty_of_comparable_ty" class="anchor"></a><code><span><span class="keyword">val</span> ty_of_comparable_ty : 
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-comparable_ty">Script_typed_ir.comparable_ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_toplevel"><a href="#val-parse_toplevel" class="anchor"></a><code><span><span class="keyword">val</span> parse_toplevel : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-expr">Alpha_context.Script.expr</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="#type-toplevel">toplevel</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_field_annot"><a href="#val-add_field_annot" class="anchor"></a><code><span><span class="keyword">val</span> add_field_annot : 
  <span><span><a href="../Script_typed_ir/index.html#type-field_annot">Script_typed_ir.field_annot</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Script_typed_ir/index.html#type-var_annot">Script_typed_ir.var_annot</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-typecheck_code"><a href="#val-typecheck_code" class="anchor"></a><code><span><span class="keyword">val</span> typecheck_code : 
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-expr">Alpha_context.Script.expr</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Script_tc_errors/index.html#type-type_map">Script_tc_errors.type_map</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-serialize_ty_for_error"><a href="#val-serialize_ty_for_error" class="anchor"></a><code><span><span class="keyword">val</span> serialize_ty_for_error : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Alpha_context/Script/index.html#type-expr">Alpha_context.Script.expr</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_code"><a href="#val-parse_code" class="anchor"></a><code><span><span class="keyword">val</span> parse_code : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">code</span>:<a href="../Alpha_context/Script/index.html#type-lazy_expr">Alpha_context.Script.lazy_expr</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="#type-ex_code">ex_code</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_storage"><a href="#val-parse_storage" class="anchor"></a><code><span><span class="keyword">val</span> parse_storage : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">allow_forged</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'storage</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">storage</span>:<a href="../Alpha_context/Script/index.html#type-lazy_expr">Alpha_context.Script.lazy_expr</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'storage</span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_script"><a href="#val-parse_script" class="anchor"></a><code><span><span class="keyword">val</span> parse_script : 
  <span><span class="optlabel">?type_logger</span>:<a href="#type-type_logger">type_logger</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">allow_forged_in_storage</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-t">Alpha_context.Script.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="#type-ex_script">ex_script</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Combines <code>parse_code</code> and <code>parse_storage</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unparse_script"><a href="#val-unparse_script" class="anchor"></a><code><span><span class="keyword">val</span> unparse_script : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-unparsing_mode">unparsing_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Script_typed_ir/index.html#type-script">Script_typed_ir.script</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Alpha_context/Script/index.html#type-t">Alpha_context.Script.t</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_contract"><a href="#val-parse_contract" class="anchor"></a><code><span><span class="keyword">val</span> parse_contract : 
  <span><span class="label">legacy</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-location">Alpha_context.Script.location</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Contract/index.html#type-t">Alpha_context.Contract.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">entrypoint</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> * <span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-typed_contract">Script_typed_ir.typed_contract</a></span>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_contract_for_script"><a href="#val-parse_contract_for_script" class="anchor"></a><code><span><span class="keyword">val</span> parse_contract_for_script : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Script/index.html#type-location">Alpha_context.Script.location</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/Contract/index.html#type-t">Alpha_context.Contract.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">entrypoint</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> * <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-typed_contract">Script_typed_ir.typed_contract</a></span> option</span>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_entrypoint"><a href="#val-find_entrypoint" class="anchor"></a><code><span><span class="keyword">val</span> find_entrypoint : 
  <span><span><span class="type-var">'t</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">root_name</span>:<span><a href="../Script_typed_ir/index.html#type-field_annot">Script_typed_ir.field_annot</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>(<span><a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a>)</span> * <a href="#type-ex_ty">ex_ty</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Entrypoints_map"><a href="#module-Entrypoints_map" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Entrypoints_map/index.html">Entrypoints_map</a></span><span> : 
  <a href="../../Tezos_protocol_environment_011_PtHangz2/Map/module-type-S/index.html">Tezos_protocol_environment_011_PtHangz2.Map.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Tezos_protocol_environment_011_PtHangz2/Map/module-type-S/index.html#type-key">key</a> = string</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list_entrypoints"><a href="#val-list_entrypoints" class="anchor"></a><code><span><span class="keyword">val</span> list_entrypoints : 
  <span><span><span class="type-var">'t</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">root_name</span>:<span><a href="../Script_typed_ir/index.html#type-field_annot">Script_typed_ir.field_annot</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><a href="../Michelson_v1_primitives/index.html#type-prim">Michelson_v1_primitives.prim</a> list</span> list</span>
   * <span><span>(<span><a href="../Michelson_v1_primitives/index.html#type-prim">Michelson_v1_primitives.prim</a> list</span> * <a href="../Alpha_context/Script/index.html#type-node">Alpha_context.Script.node</a>)</span>
       <a href="Entrypoints_map/index.html#type-t">Entrypoints_map.t</a></span>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pack_data"><a href="#val-pack_data" class="anchor"></a><code><span><span class="keyword">val</span> pack_data : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(bytes * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hash_comparable_data"><a href="#val-hash_comparable_data" class="anchor"></a><code><span><span class="keyword">val</span> hash_comparable_data : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-comparable_ty">Script_typed_ir.comparable_ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Script_expr_hash/index.html#type-t">Script_expr_hash.t</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hash_data"><a href="#val-hash_data" class="anchor"></a><code><span><span class="keyword">val</span> hash_data : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Script_expr_hash/index.html#type-t">Script_expr_hash.t</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-lazy_storage_ids"><a href="#type-lazy_storage_ids" class="anchor"></a><code><span><span class="keyword">type</span> lazy_storage_ids</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_lazy_storage_id"><a href="#val-no_lazy_storage_id" class="anchor"></a><code><span><span class="keyword">val</span> no_lazy_storage_id : <a href="#type-lazy_storage_ids">lazy_storage_ids</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-collect_lazy_storage"><a href="#val-collect_lazy_storage" class="anchor"></a><code><span><span class="keyword">val</span> collect_lazy_storage : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-lazy_storage_ids">lazy_storage_ids</a> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p>Traverse the given type, producing a <a href="#type-lazy_storage_ids"><code>lazy_storage_ids</code></a> for use with <a href="#val-extract_lazy_storage_diff"><code>extract_lazy_storage_diff</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list_of_big_map_ids"><a href="#val-list_of_big_map_ids" class="anchor"></a><code><span><span class="keyword">val</span> list_of_big_map_ids : <span><a href="#type-lazy_storage_ids">lazy_storage_ids</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Alpha_context/Big_map/Id/index.html#type-t">Alpha_context.Big_map.Id.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extract_lazy_storage_diff"><a href="#val-extract_lazy_storage_diff" class="anchor"></a><code><span><span class="keyword">val</span> extract_lazy_storage_diff : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-unparsing_mode">unparsing_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">temporary</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">to_duplicate</span>:<a href="#type-lazy_storage_ids">lazy_storage_ids</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">to_update</span>:<a href="#type-lazy_storage_ids">lazy_storage_ids</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span> * <span><a href="../Alpha_context/Lazy_storage/index.html#type-diffs">Alpha_context.Lazy_storage.diffs</a> option</span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Lwt/index.html#type-t">Tezos_protocol_environment_011_PtHangz2.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Produce a lazy storage diff, containing in-memory writes to lazy data structures such as big_maps yet to be committed.</p><p>The resulting diff can be committed to the underlying storage (context) using <code>Lazy_storage_diff.apply</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">to_duplicate</span> <p>Lazy data structure reference produced via <a href="#val-collect_lazy_storage"><code>collect_lazy_storage</code></a> that can not be reused. Typically collected via traversing the parameters to a smart contract.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">to_update</span> <p>Lazy data structure reference produced via <a href="#val-collect_lazy_storage"><code>collect_lazy_storage</code></a> that can be reused. Typically collected via traversing the previous storage of a smart contract.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_single_sapling_state"><a href="#val-get_single_sapling_state" class="anchor"></a><code><span><span class="keyword">val</span> get_single_sapling_state : 
  <span><a href="../Alpha_context/index.html#type-context">Alpha_context.context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Alpha_context/Sapling/Id/index.html#type-t">Alpha_context.Sapling.Id.t</a> option</span> * <a href="../Alpha_context/index.html#type-context">Alpha_context.context</a>)</span>
    <a href="../../Tezos_protocol_environment_011_PtHangz2/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_011_PtHangz2.Error_monad.tzresult</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-script_size"><a href="#val-script_size" class="anchor"></a><code><span><span class="keyword">val</span> script_size : <span><a href="#type-ex_script">ex_script</a> <span class="arrow">&#45;&gt;</span></span> int * <a href="../Gas_limit_repr/index.html#type-cost">Gas_limit_repr.cost</a></span></code></div><div class="spec-doc"><p><code>script_size script</code> returns an overapproximation of the size of the in-memory representation of <code>script</code> as well as the cost associated to computing that overapproximation.</p></div></div></div></body></html>
