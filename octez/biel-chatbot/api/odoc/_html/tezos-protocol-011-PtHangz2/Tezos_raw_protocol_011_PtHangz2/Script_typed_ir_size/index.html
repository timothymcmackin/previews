<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Script_typed_ir_size (tezos-protocol-011-PtHangz2.Tezos_raw_protocol_011_PtHangz2.Script_typed_ir_size)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-protocol-011-PtHangz2</a> &#x00BB; <a href="../index.html">Tezos_raw_protocol_011_PtHangz2</a> &#x00BB; Script_typed_ir_size</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_raw_protocol_011_PtHangz2.Script_typed_ir_size</span></code></h1><p>This module provides overapproximation of memory footprint for Michelson-related values.</p><p>These overapproximations are used by the cache to evaluate its own memory footprint and enforce declared limit over its size.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-value_size"><a href="#val-value_size" class="anchor"></a><code><span><span class="keyword">val</span> value_size : 
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p><code>value_size ty v</code> returns an overapproximation of the size of the in-memory representation of <code>v</code> of type <code>ty</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ty_size"><a href="#val-ty_size" class="anchor"></a><code><span><span class="keyword">val</span> ty_size : <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p><code>ty_size ty</code> returns an overapproximation of the size of the in-memory representation of type <code>ty</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-comparable_ty_size"><a href="#val-comparable_ty_size" class="anchor"></a><code><span><span class="keyword">val</span> comparable_ty_size : 
  <span><span><span class="type-var">'a</span> <a href="../Script_typed_ir/index.html#type-comparable_ty">Script_typed_ir.comparable_ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p><code>comparable_ty_size cty</code> returns an overapproximation of the size of the in-memory representation of comparable type <code>cty</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lambda_size"><a href="#val-lambda_size" class="anchor"></a><code><span><span class="keyword">val</span> lambda_size : 
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Script_typed_ir/index.html#type-lambda">Script_typed_ir.lambda</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p><code>lambda_size l</code> returns an overapproximation of the size of the internal IR for the Michelson lambda abstraction <code>l</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-kinstr_size"><a href="#val-kinstr_size" class="anchor"></a><code><span><span class="keyword">val</span> kinstr_size : 
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'f</span>)</span> <a href="../Script_typed_ir/index.html#type-kinstr">Script_typed_ir.kinstr</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p><code>kinstr_size i</code> returns an overapproximation of the size of the internal IR <code>i</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-node_size"><a href="#val-node_size" class="anchor"></a><code><span><span class="keyword">val</span> node_size : <span><a href="../Script_repr/index.html#type-node">Script_repr.node</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p><code>node_size root</code> returns the size of the in-memory representation of <code>root</code> in bytes. This is an over-approximation of the memory actually consumed by <code>root</code> since no sharing is taken into account.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(++)"><a href="#val-(++)" class="anchor"></a><code><span><span class="keyword">val</span> (++) : 
  <span><a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p>Pointwise addition (reexport from <a href="../Cache_memory_helpers/index.html"><code>Cache_memory_helpers</code></a>)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zero"><a href="#val-zero" class="anchor"></a><code><span><span class="keyword">val</span> zero : <a href="../Cache_memory_helpers/index.html#type-nodes_and_size">Cache_memory_helpers.nodes_and_size</a></span></code></div><div class="spec-doc"><p>Zero vector (reexport from <a href="../Cache_memory_helpers/index.html"><code>Cache_memory_helpers</code></a>)</p></div></div></div></body></html>
