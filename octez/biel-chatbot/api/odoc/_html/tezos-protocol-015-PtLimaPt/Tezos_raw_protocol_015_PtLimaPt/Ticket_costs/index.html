<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ticket_costs (tezos-protocol-015-PtLimaPt.Tezos_raw_protocol_015_PtLimaPt.Ticket_costs)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-protocol-015-PtLimaPt</a> &#x00BB; <a href="../index.html">Tezos_raw_protocol_015_PtLimaPt</a> &#x00BB; Ticket_costs</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_raw_protocol_015_PtLimaPt.Ticket_costs</span></code></h1><p>This module contains constants and utility functions for gas metering functions used for extracting and handling tickets for the global ticket balance table.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Constants"><a href="#module-Constants" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Constants/index.html">Constants</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-consume_gas_steps"><a href="#val-consume_gas_steps" class="anchor"></a><code><span><span class="keyword">val</span> consume_gas_steps : 
  <span><a href="../Alpha_context/index.html#type-t">Alpha_context.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">step_cost</span>:<a href="../Alpha_context/Gas/index.html#type-cost">Alpha_context.Gas.cost</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">num_steps</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Alpha_context/index.html#type-t">Alpha_context.t</a> <a href="../../Tezos_protocol_environment_015_PtLimaPt/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_015_PtLimaPt.Error_monad.tzresult</a></span></span></code></div><div class="spec-doc"><p><code>consume_gas_steps ctxt ~num_steps</code> consumes gas corresponding to a given <code>num_steps</code> and <code>step_cost</code>. It's useful for paying for gas upfront where the number of steps can be determined.</p><p>This function is generic and should probably be moved. See issue https://gitlab.com/tezos/tezos/-/issues/1950.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-has_tickets_of_ty_cost"><a href="#val-has_tickets_of_ty_cost" class="anchor"></a><code><span><span class="keyword">val</span> has_tickets_of_ty_cost : 
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../Script_typed_ir/index.html#type-ty">Script_typed_ir.ty</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Saturation_repr/index.html#type-may_saturate">Saturation_repr.may_saturate</a> <a href="../Saturation_repr/index.html#type-t">Saturation_repr.t</a></span></span></code></div><div class="spec-doc"><p><code>has_tickets_of_ty_cost ty</code> returns the cost of producing a <code>has_tickets</code>, used internally in the <code>Ticket_scanner</code> module.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-negate_cost"><a href="#val-negate_cost" class="anchor"></a><code><span><span class="keyword">val</span> negate_cost : 
  <span><a href="../../Tezos_protocol_environment_015_PtLimaPt/Z/index.html#type-t">Tezos_protocol_environment_015_PtLimaPt.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Alpha_context/Gas/index.html#type-cost">Alpha_context.Gas.cost</a></span></code></div><div class="spec-doc"><p><code>negate_cost z</code> returns the cost of negating the given value <code>z</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_int_cost"><a href="#val-add_int_cost" class="anchor"></a><code><span><span class="keyword">val</span> add_int_cost : 
  <span><span><a href="../Script_int/index.html#type-n">Script_int.n</a> <a href="../Script_int/index.html#type-num">Script_int.num</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Script_int/index.html#type-n">Script_int.n</a> <a href="../Script_int/index.html#type-num">Script_int.num</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Alpha_context/Gas/index.html#type-cost">Alpha_context.Gas.cost</a></span></code></div><div class="spec-doc"><p><code>add_int_cost n1 n2</code> returns the cost of adding the values <code>n1</code> and <code>n2</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_z_cost"><a href="#val-add_z_cost" class="anchor"></a><code><span><span class="keyword">val</span> add_z_cost : 
  <span><a href="../../Tezos_protocol_environment_015_PtLimaPt/Z/index.html#type-t">Tezos_protocol_environment_015_PtLimaPt.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Tezos_protocol_environment_015_PtLimaPt/Z/index.html#type-t">Tezos_protocol_environment_015_PtLimaPt.Z.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Alpha_context/Gas/index.html#type-cost">Alpha_context.Gas.cost</a></span></code></div><div class="spec-doc"><p><code>add_z_cost z1 z2</code> returns the cost of adding the values <code>z1</code> and <code>z2</code>.</p></div></div></div></body></html>
