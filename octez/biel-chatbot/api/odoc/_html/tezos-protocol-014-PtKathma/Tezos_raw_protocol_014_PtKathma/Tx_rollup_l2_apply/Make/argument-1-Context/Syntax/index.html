<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Syntax (tezos-protocol-014-PtKathma.Tezos_raw_protocol_014_PtKathma.Tx_rollup_l2_apply.Make.Context.Syntax)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../index.html">tezos-protocol-014-PtKathma</a> &#x00BB; <a href="../../../../index.html">Tezos_raw_protocol_014_PtKathma</a> &#x00BB; <a href="../../../index.html">Tx_rollup_l2_apply</a> &#x00BB; <a href="../../index.html">Make</a> &#x00BB; <a href="../index.html">Context</a> &#x00BB; Syntax</nav><header class="odoc-preamble"><h1>Module <code><span>Context.Syntax</span></code></h1><p>The necessary monadic operators the storage monad is required to provide.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-let+"><a href="#val-let+" class="anchor"></a><code><span><span class="keyword">val</span> let+ : <span><span><span class="type-var">'a</span> <a href="../index.html#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let*"><a href="#val-let*" class="anchor"></a><code><span><span class="keyword">val</span> let* : <span><span><span class="type-var">'a</span> <a href="../index.html#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let*?"><a href="#val-let*?" class="anchor"></a><code><span><span class="keyword">val</span> let*? : 
  <span><span><span>(<span class="type-var">'a</span>, <a href="../../../../../Tezos_protocol_environment_014_PtKathma/Error_monad/index.html#type-error">Tezos_protocol_environment_014_PtKathma.Error_monad.error</a>)</span>
    <a href="../../../../../Tezos_protocol_environment_014_PtKathma/Pervasives/index.html#type-result">Tezos_protocol_environment_014_PtKathma.Pervasives.result</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>let*?</code> is for binding the value from Result-only expressions into the storage monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fail"><a href="#val-fail" class="anchor"></a><code><span><span class="keyword">val</span> fail : <span><a href="../../../../../Tezos_protocol_environment_014_PtKathma/Error_monad/index.html#type-error">Tezos_protocol_environment_014_PtKathma.Error_monad.error</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>fail err</code> shortcuts the current computation by raising an error.</p><p>Said error can be handled with the <code>catch</code> combinator.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-catch"><a href="#val-catch" class="anchor"></a><code><span><span class="keyword">val</span> catch : 
  <span><span><span class="type-var">'a</span> <a href="../index.html#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../../../../Tezos_protocol_environment_014_PtKathma/Error_monad/index.html#type-error">Tezos_protocol_environment_014_PtKathma.Error_monad.error</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <a href="../index.html#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>catch p k h</code> tries to executes the monadic computation <code>p</code>. If <code>p</code> terminates without an error, then its result is passed to the continuation <code>k</code>. On the contrary, if an error <code>err</code> is raised, it is passed to the error handler <code>h</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>return x</code> is the simplest computation inside the monad <code>m</code> which simply computes <code>x</code> and nothing else.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list_fold_left_m"><a href="#val-list_fold_left_m" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_left_m : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>list_fold_left_m f</code> is a monadic version of <code>List.fold_left
        f</code>, wherein <code>f</code> is not a pure computation, but a computation in the monad <code>m</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fail_unless"><a href="#val-fail_unless" class="anchor"></a><code><span><span class="keyword">val</span> fail_unless : 
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../Tezos_protocol_environment_014_PtKathma/Error_monad/index.html#type-error">Tezos_protocol_environment_014_PtKathma.Error_monad.error</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../index.html#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>fail_unless cond err</code> raises <code>err</code> iff <code>cond</code> is <code>false</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fail_when"><a href="#val-fail_when" class="anchor"></a><code><span><span class="keyword">val</span> fail_when : 
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../../Tezos_protocol_environment_014_PtKathma/Error_monad/index.html#type-error">Tezos_protocol_environment_014_PtKathma.Error_monad.error</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../index.html#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>fail_when cond err</code> raises <code>err</code> iff <code>cond</code> is <code>true</code>.</p></div></div></div></body></html>
