
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Protocol Edo &#8212; Octez &amp; Protocol products documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=c488f85a" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=01de138a"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-KT3Z3X4Y82"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-KT3Z3X4Y82');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-KT3Z3X4Y82');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'protocols/008_edo';</script>
    <script src="../_static/js/custom.js?v=e7f469e6"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Protocol Delphi" href="007_delphi.html" />
    <link rel="prev" title="Protocol Florence" href="009_florence.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="Octez & Protocol products documentation - Home"/>
    <script>document.write(`<img src="../_static/logo.svg" class="logo__image only-dark" alt="Octez & Protocol products documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introduction/tezos.html">Octez &amp; Protocol overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../introduction/howtoget.html">Installing Octez</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/get_troubleshooting.html">Installation troubleshooting</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/howtouse.html">Getting started with Octez</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/howtorun.html">Running Octez</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/versioning.html">Octez &amp; Protocol versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/breaking_changes.html">BREAKING CHANGES</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Octez User manual</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../user/setup-client.html">Setting up the client</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/client-configuration.html">Client Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/key-management.html">Key Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/sandbox.html">Sandboxed mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/mockup.html">Mockup mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/proxy.html">Proxy mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/light.html">Light mode</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user/setup-node.html">Setting up the node</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/node-configuration.html">Node Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/multinetwork.html">Connecting to a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/history_modes.html">History modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/snapshots.html">Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/proxy-server.html">Proxy server</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/node-monitoring.html">Monitoring an Octez Node</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/openmetrics.html">Supported Open Metrics</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../user/multisig.html">Built-in multisig contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/fa12.html">FA1.2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/logging.html">Logging features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/exits.html">Exit codes and signals</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Octez Reference manual</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../shell/the_big_picture.html">Octez Software Architecture</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../shell/shell.html">The Octez Shell</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../shell/validation.html">The validation subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/prevalidation.html">The Prevalidator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/storage.html">The storage layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/sync.html">Synchronisation heuristic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/p2p.html">The peer-to-peer layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/protocol_environment.html">Protocol Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/micheline.html">Micheline</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/data_availability_committees.html">Data Availability Committees</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../shell/dal.html">Data Availability Layer</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_overview.html">DAL overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_node.html">The DAL node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_run.html">Running a DAL node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/dal_bakers.html">Bakers &amp; the DAL</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/smart_rollup_node.html">Smart rollup node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/p2p_api.html">P2P message format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/cli-commands.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell/rpc.html">Shell RPCs - Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Protocol Reference Manuals</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../active/index.html">Paris Protocol Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../active/protocol.html">Economic protocol features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../active/protocol_overview.html">Overview of the economic protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/proof_of_stake.html">Proof-of-stake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/randomness_generation.html">Randomness generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/consensus.html">The consensus algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/voting.html">The Amendment (and Voting) Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/accounts.html">Accounts and addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/michelson.html">Michelson: the language of Smart Contracts in Tezos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/views.html">On-chain Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/timelock.html">Time-lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/sapling.html">Sapling support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/liquidity_baking.html">Liquidity Baking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/global_constants.html">Global Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/michelson_anti_patterns.html">Michelson Anti-Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/token_management.html">Token transfers and balance updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/precheck.html">Prechecking of manager operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/smart_rollups.html">Smart Optimistic Rollups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/plugins.html">Protocol Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/event.html">Contract events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/blocks_ops.html">Blocks and Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/validation.html">Validation and Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/tickets.html">Tickets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/adaptive_issuance.html">Adaptive Issuance and Staking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/adaptive_slashing.html">Adaptive Slashing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../active/dal_support.html">DAL support</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../active/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../active/cli-commands.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../active/rpc.html">Paris RPCs - Reference</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../quebec/index.html">Quebec Protocol Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../quebec/protocol.html">Economic protocol features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../quebec/protocol_overview.html">Overview of the economic protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/proof_of_stake.html">Proof-of-stake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/randomness_generation.html">Randomness generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/baking_power.html">Baking Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/consensus.html">The consensus algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/voting.html">The Amendment (and Voting) Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/accounts.html">Accounts and addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/michelson.html">Michelson: the language of Smart Contracts in Tezos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/views.html">On-chain Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/timelock.html">Time-lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/sapling.html">Sapling support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/liquidity_baking.html">Liquidity Baking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/global_constants.html">Global Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/michelson_anti_patterns.html">Michelson Anti-Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/token_management.html">Token transfers and balance updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/precheck.html">Prechecking of manager operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/smart_rollups.html">Smart Optimistic Rollups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/plugins.html">Protocol Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/event.html">Contract events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/blocks_ops.html">Blocks and Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/validation.html">Validation and Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/tickets.html">Tickets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/adaptive_issuance.html">Adaptive Issuance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/staking.html">Staking mechanism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/adaptive_slashing.html">Adaptive Slashing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quebec/dal_support.html">DAL support</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../quebec/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quebec/cli-commands.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quebec/rpc.html">Quebec RPCs - Reference</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../alpha/index.html">Alpha Dev Protocol Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../alpha/protocol.html">Economic protocol features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../alpha/protocol_overview.html">Overview of the economic protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/proof_of_stake.html">Proof-of-stake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/randomness_generation.html">Randomness generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/baking_power.html">Baking Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/consensus.html">The consensus algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/voting.html">The Amendment (and Voting) Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/accounts.html">Accounts and addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/michelson.html">Michelson: the language of Smart Contracts in Tezos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/views.html">On-chain Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/timelock.html">Time-lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/sapling.html">Sapling support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/liquidity_baking.html">Liquidity Baking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/global_constants.html">Global Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/michelson_anti_patterns.html">Michelson Anti-Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/token_management.html">Token transfers and balance updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/precheck.html">Prechecking of manager operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/smart_rollups.html">Smart Optimistic Rollups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/plugins.html">Protocol Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/event.html">Contract events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/blocks_ops.html">Blocks and Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/validation.html">Validation and Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/tickets.html">Tickets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/adaptive_issuance.html">Adaptive Issuance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/staking.html">Staking mechanism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/adaptive_slashing.html">Adaptive Slashing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../alpha/dal_support.html">DAL support</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../alpha/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alpha/cli-commands.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alpha/rpc.html">Alpha RPCs - Reference</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tezos developer Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../developer/rpc.html">JSON/RPC interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/errors.html">RPC Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/openapi.html">RPCs - OpenAPI reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Changes in Octez releases</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../releases/releases.html">Release System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/version-20.html">Version 20.2</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../releases/history.html">Older Versions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-19.html">Version 19.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-18.html">Version 18.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-17.html">Version 17.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-16.html">Version 16.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-15.html">Version 15.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-14.html">Version 14.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-13.html">Version 13.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-12.html">Version 12.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-11.html">Version 11.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-10.html">Version 10.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-9.html">Version 9.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-8.html">Version 8.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/version-7.html">Version 7.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/january-2020.html">Mainnet January 2020</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/december-2019.html">Mainnet December 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/october-2019.html">Mainnet-Staging October 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/september-2019.html">Mainnet September 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/may-2019.html">Mainnet May 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/april-2019.html">Mainnet April 2019</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Changes in protocol versions</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="naming.html">Protocol versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="019_paris.html">Protocol Paris</a></li>
<li class="toctree-l1"><a class="reference internal" href="021_quebec.html">Protocol Quebec</a></li>
<li class="toctree-l1"><a class="reference internal" href="alpha.html">Protocol Alpha</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="history.html">Older Protocols</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="018_oxford.html">Protocol Oxford</a></li>
<li class="toctree-l2"><a class="reference internal" href="017_nairobi.html">Protocol Nairobi</a></li>
<li class="toctree-l2"><a class="reference internal" href="016_mumbai.html">Protocol Mumbai</a></li>
<li class="toctree-l2"><a class="reference internal" href="015_lima.html">Protocol Lima</a></li>
<li class="toctree-l2"><a class="reference internal" href="014_kathmandu.html">Protocol Kathmandu</a></li>
<li class="toctree-l2"><a class="reference internal" href="013_jakarta.html">Protocol Jakarta</a></li>
<li class="toctree-l2"><a class="reference internal" href="012_ithaca.html">Protocol Ithaca</a></li>
<li class="toctree-l2"><a class="reference internal" href="011_hangzhou.html">Protocol Hangzhou</a></li>
<li class="toctree-l2"><a class="reference internal" href="010_granada.html">Protocol Granada</a></li>
<li class="toctree-l2"><a class="reference internal" href="009_florence.html">Protocol Florence</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Protocol Edo</a></li>
<li class="toctree-l2"><a class="reference internal" href="007_delphi.html">Protocol Delphi</a></li>
<li class="toctree-l2"><a class="reference internal" href="006_carthage.html">Protocol Carthage</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_babylon.html">Protocol Babylon</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_Pt24m4xi.html">Protocol Athens</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_PsddFKi3.html">Protocol 003_PsddFKi3</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/contributing_index.html">How to contribute</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/contributing.html">How to contribute to Octez</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/contributing-adding-a-new-opam-dependency.html">How to add or update opam dependencies</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merge_team.html">Octez Merge Team</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/guidelines.html">Documentation and coding guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/repository_scope.html">Scope of the Octez repository</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/programming.html">Programming tutorials</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/gadt.html">Generalized Algebraic Data Types (GADTs)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/error_monad.html">The Error Monad</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p1_result.html">Part 1: <code class="docutils literal notranslate"><span class="pre">result</span></code>, Lwt, and Lwt-<code class="docutils literal notranslate"><span class="pre">result</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p2_tzresult.html">Part 2: <code class="docutils literal notranslate"><span class="pre">tzresult</span></code> and Lwt-<code class="docutils literal notranslate"><span class="pre">tzresult</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p3_advanced.html">Part 3: Advanced topics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/error_monad_p4_appendices.html">Part 4: Appendices</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/clic.html">The <code class="docutils literal notranslate"><span class="pre">clic</span></code> library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/data_encoding.html">The <code class="docutils literal notranslate"><span class="pre">data_encoding</span></code> library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/event_logging_framework.html">Using The Event Logging Framework</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/testing_index.html">Testing in Octez</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/testing.html">Overview of Testing in Octez</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/ppx_expect.html">Ppx_expect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/tezt.html">Tezt: OCaml Tezos Test Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/long-tezts.html">Tezt: Long Tests and Performance Regression Test Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/alcotezt.html">Alcotezt: An Alcotest Compatibility Wrapper for Tezt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/unit_testing_legacy_code.html">Making legacy code unit-testable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/proposal_testing.html">How to Test a Protocol Proposal</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/maintaining.html">Maintaining</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/entering_alpha.html">How to start reading protocol Alpha</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/michelson_instructions.html">Adding a new instruction to Michelson language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/protocol_release_checklist.html">Protocol Release Checklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/howto-freeze-protocols.html">How to Freeze Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/protocol_environment_upgrade.html">Adding a new protocol environment</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Documenting</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/tools.html">Platform Development tools</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/profiling.html">Profiling the Octez node</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/snoop.html">Benchmarking with Snoop</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_arch.html">Architecture of <code class="docutils literal notranslate"><span class="pre">octez-snoop</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_tutorial.html">Snoop usage tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_example.html">In-depth usage example: more control over your benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/tezos_micheline_rewriting.html">Rewriting Micheline with <code class="docutils literal notranslate"><span class="pre">tezos-micheline-rewriting</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/snoop_interpreter.html">Snoop and the Michelson Interpreter</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/time_measurement_ppx.html">Time measurement PPX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/python_environment.html">Python Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/pre_commit_hook.html">Pre-Commit Hook</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/encodings.html">Encodings</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/merkle-proof-encoding-formats.html">Merkle Proof Encoding Formats</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v1-tree32.html">V1 for Tree32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v1-tree2.html">V1 for Tree2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v2-tree32.html">V2 for Tree32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/merkle-proof-formats/v2-tree2.html">V2 for Tree2</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api-inline.html">OCaml APIs - Reference</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-gitlab"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://gitlab.com/tezos/tezos" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-gitlab"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://gitlab.com/tezos/tezos/-/issues/new?issue[title]=Issue%20on%20page%20%2Fprotocols/008_edo.html&issue[description]=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Protocol Edo</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-v1">Environment V1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rpcs">RPCs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#voting">Voting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata">Metadata</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#current-level">Current_level</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#baking-rights">Baking rights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#michelson">Michelson</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encodings">Encodings</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#block-metadata"><code class="docutils literal notranslate"><span class="pre">block_metadata</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#operation-receipt"><code class="docutils literal notranslate"><span class="pre">operation_receipt</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#voting-procedure">Voting procedure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#smart-contracts-michelson">Smart contracts/Michelson</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sapling">Sapling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bls12-381">Bls12-381</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tickets">Tickets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comb-pairs">Comb pairs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-system">Type system</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#macros-promoted-as-instructions">Macros promoted as instructions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-instructions">New instructions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#legacy">Legacy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internal">Internal</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changelog">Changelog</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list-of-merge-requests">List of Merge Requests</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#instructions-to-reproduce-the-source-tarball">Instructions to reproduce the source tarball</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="protocol-edo">
<h1>Protocol Edo<a class="headerlink" href="#protocol-edo" title="Link to this heading">#</a></h1>
<p><strong>Important: revision 008_PtEdoTez of protocol Edo contains a bug that
is corrected in the latest version 008_PtEdo2Zk</strong></p>
<p>This page contains all the relevant information for protocol 008 Edo (008_PtEdo2Zk).
Each of the main changes is briefly described with links to relevant
external documentation and merge requests.
There are dedicated sections for all the changes to RPCs and
operations.
The changelog section contains all the Merge Requests and instructions
to regenerate the protocol sources from the Gitlab branch.</p>
<p>The code can be found in the directory <code class="docutils literal notranslate"><span class="pre">../src/proto_008_PtEdo2Zk</span></code> of branch <code class="docutils literal notranslate"><span class="pre">master</span></code> or in the release
8.2 and its full hash is
<code class="docutils literal notranslate"><span class="pre">PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA</span></code>.</p>
<p>As usual a <a class="reference internal" href="../user/multinetwork.html#test-networks"><span class="std std-ref">testnet</span></a> called <code class="docutils literal notranslate"><span class="pre">Edonet</span></code> will be available
during the full lifetime of the protocol.</p>
<p>The main novelties in the Edo protocol are:</p>
<ul class="simple">
<li><p>An implementation of <a class="reference internal" href="#sapling">Sapling</a>, enabling privacy-preserving
transactions</p></li>
<li><p>The notion of <a class="reference internal" href="#tickets">tickets</a>, making it easier for developers to write
secure and composable contracts</p></li>
<li><p>An extended <a class="reference internal" href="#voting-procedure">Voting procedure</a> with a 5th period, ensuring smoother
protocol upgrades</p></li>
</ul>
<section id="environment-v1">
<h2>Environment V1<a class="headerlink" href="#environment-v1" title="Link to this heading">#</a></h2>
<p>Edo is the first protocol that relies on a new environment V1 which
introduces the new cryptographic libraries that Edo relies on for its
features. Because of this, in case of a positive vote, all nodes will
have to be updated to a shell containing V1 in order to run Edo.</p>
<ul class="simple">
<li><p>update to OCaml 4.09 standard library</p></li>
<li><p>update of all libraries, Tezos specific or not (e.g. Lwt)</p></li>
<li><p>addition of Keccak and SHA3</p></li>
<li><p>addition of BLS12-381</p></li>
<li><p>addition of PVSS</p></li>
<li><p>addition of lib_sapling</p></li>
</ul>
</section>
<section id="rpcs">
<h2>RPCs<a class="headerlink" href="#rpcs" title="Link to this heading">#</a></h2>
<p>As usual refer to the <a class="reference internal" href="../active/rpc.html"><span class="doc">RPC documentation page</span></a> or the
<a class="reference internal" href="../api/openapi.html"><span class="doc">OpenAPI specification page</span></a>
automatically generated with each protocol.</p>
<section id="voting">
<h3>Voting<a class="headerlink" href="#voting" title="Link to this heading">#</a></h3>
<p>The RPC <code class="docutils literal notranslate"><span class="pre">votes/current_period_kind</span></code> when called on the last block of
a voting period has always returned the kind of the following period.
This behavior is partly due to the need of the client to know the next
period kind in order to prepare operations that are valid for it.
However it was often the source of confusion and for this reason
<code class="docutils literal notranslate"><span class="pre">votes/current_period_kind</span></code> is deprecated in favor of two additional
RPCs:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">votes/current_period</span></code> which returns information on the voting
period of the current block and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">votes/successor_period</span></code> which returns information on the voting
period of the successor block, which can be used by the client to
forge operations for example.</p></li>
</ul>
</section>
<section id="metadata">
<h3>Metadata<a class="headerlink" href="#metadata" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">&lt;block_id&gt;/metadata</span></code> reflects the changes described later for the
encoding <a class="reference internal" href="#id1">block_metadata</a>.
It is advised to stop relying on deprecated fields and use the new ones.</p>
</section>
<section id="current-level">
<h3>Current_level<a class="headerlink" href="#current-level" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">&lt;block_id&gt;/helpers/current_level</span></code> reflects the changes described
later for the encoding <a class="reference internal" href="#id1">block_metadata</a>, two fields becoming
deprecated, namely <code class="docutils literal notranslate"><span class="pre">voting_period</span></code> and <code class="docutils literal notranslate"><span class="pre">voting_period_position</span></code>.
It is advised to stop relying on the deprecated fields and use the new
dedicated RPCs (see <a class="reference internal" href="#voting">voting</a>).</p>
</section>
<section id="baking-rights">
<h3>Baking rights<a class="headerlink" href="#baking-rights" title="Link to this heading">#</a></h3>
<p>The RPC <code class="docutils literal notranslate"><span class="pre">&lt;block_id&gt;/helpers/baking_rights</span></code> when querying for whole
cycles now returns priorities up to 8 instead of 64.
Furthermore it is now more efficient when querying for a restricted set
of delegates.</p>
</section>
<section id="michelson">
<h3>Michelson<a class="headerlink" href="#michelson" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>added mandatory balance field to run_code</p></li>
<li><p>added optional legacy switch to typecheck</p></li>
</ul>
</section>
</section>
<section id="encodings">
<h2>Encodings<a class="headerlink" href="#encodings" title="Link to this heading">#</a></h2>
<p>Two encodings changed in 008, some fields were deprecated in favor of
some new fields.
If your software relies on the deprecated fields it should remain
compatible with 008, however it is strongly suggested to use the new
ones as the deprecated will be removed in a future protocol.
If your software parses the entire encodings then it is not compatible with
008 because of the new added fields.</p>
<p>You can always use the binary <code class="docutils literal notranslate"><span class="pre">tezos-codec</span></code> for more details on each
encoding, binary or json.</p>
<section id="block-metadata">
<h3><code class="docutils literal notranslate"><span class="pre">block_metadata</span></code><a class="headerlink" href="#block-metadata" title="Link to this heading">#</a></h3>
<p id="id1">This encoding is returned by the RPC <code class="docutils literal notranslate"><span class="pre">&lt;block_id&gt;/metadata</span></code> and is
included in the receipts of block validation.</p>
<p>The following fields are deprecated:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">metadata.level</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata.voting_period_kind</span></code></p></li>
</ul>
<p>in favor of</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">metadata.level_info</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata.voting_period_info</span></code></p></li>
</ul>
</section>
<section id="operation-receipt">
<h3><code class="docutils literal notranslate"><span class="pre">operation_receipt</span></code><a class="headerlink" href="#operation-receipt" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>new field <code class="docutils literal notranslate"><span class="pre">lazy_storage_diff</span></code> in operation receipt</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">big_map_diff</span></code> is deprecated, and will be removed in a future version</p></li>
</ul>
</section>
</section>
<section id="voting-procedure">
<h2>Voting procedure<a class="headerlink" href="#voting-procedure" title="Link to this heading">#</a></h2>
<p>The voting procedure has an additional 5th period called Adoption,
at the end of which it is already established that the voted proposal
will be activated. This period requires no action and serves purely as
buffer time for users to update their infrastructure to the new
protocol.</p>
<p>The length of each period has been reduced from 8 cycles to 5 cycles.
The total duration of the voting procedure goes from 32 cycles (~3
months) to 25 cycles (~2 months and 10 days).</p>
<p>The duration of the testchain is also reduced to 5 cycles to match the
new duration of voting periods.</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">update_listings</span></code>, which updates the voting weight of
each delegate, is now called also at the end of the testing period.</p>
<p>Voting periods now end at the last but one block of a cycle, instead
at the end of a cycle.</p>
</section>
<section id="smart-contracts-michelson">
<h2>Smart contracts/Michelson<a class="headerlink" href="#smart-contracts-michelson" title="Link to this heading">#</a></h2>
<section id="sapling">
<h3>Sapling<a class="headerlink" href="#sapling" title="Link to this heading">#</a></h3>
<p>Integration of the Sapling protocol into the Michelson language.
More information can be found in the <a class="reference internal" href="../active/sapling.html"><span class="doc">Sapling documentation page</span></a>.</p>
</section>
<section id="bls12-381">
<h3>Bls12-381<a class="headerlink" href="#bls12-381" title="Link to this heading">#</a></h3>
<p>Addition of Michelson opcodes for the pairing friendly elliptic curve BLS12-381.</p>
</section>
<section id="tickets">
<h3>Tickets<a class="headerlink" href="#tickets" title="Link to this heading">#</a></h3>
<p>Tickets are a generic and composable mechanism for authenticating data
from smart contracts, managing permissions, and representing assets.
More information can be found in the <a class="reference internal" href="../active/tickets.html"><span class="doc">Ticket documentation</span></a>.</p>
</section>
<section id="comb-pairs">
<h3>Comb pairs<a class="headerlink" href="#comb-pairs" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>New instructions <code class="docutils literal notranslate"><span class="pre">PAIR</span> <span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">UNPAIR</span> <span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">2*k+b</span></code>, <code class="docutils literal notranslate"><span class="pre">UPDATE</span> <span class="pre">2*k+b</span></code>
to respectively build a comb pair of size <code class="docutils literal notranslate"><span class="pre">n</span></code> from <code class="docutils literal notranslate"><span class="pre">n</span></code> stack
elements, decompose a comb pair of size <code class="docutils literal notranslate"><span class="pre">n</span></code> into <code class="docutils literal notranslate"><span class="pre">n</span></code> stack elements,
access the <code class="docutils literal notranslate"><span class="pre">k</span></code> -th element in a comb pair, replace the <code class="docutils literal notranslate"><span class="pre">k</span></code> -th element
in a comb pair.</p></li>
<li><p>Optimized notations for comb pair types and values.</p></li>
</ul>
</section>
<section id="type-system">
<h3>Type system<a class="headerlink" href="#type-system" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Empty type <code class="docutils literal notranslate"><span class="pre">never</span></code> and instruction <code class="docutils literal notranslate"><span class="pre">NEVER</span></code>.</p></li>
<li><p>Types <code class="docutils literal notranslate"><span class="pre">chain_id</span></code>, <code class="docutils literal notranslate"><span class="pre">key</span></code>, <code class="docutils literal notranslate"><span class="pre">pair</span></code>, <code class="docutils literal notranslate"><span class="pre">option</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>,
<code class="docutils literal notranslate"><span class="pre">signature</span></code>, and <code class="docutils literal notranslate"><span class="pre">unit</span></code> made comparable</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FAILWITH</span></code> restricted to packable types</p></li>
</ul>
</section>
<section id="macros-promoted-as-instructions">
<h3>Macros promoted as instructions<a class="headerlink" href="#macros-promoted-as-instructions" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UNPAIR</span></code></p></li>
<li><p>n-ary version of <code class="docutils literal notranslate"><span class="pre">DUP</span></code></p></li>
</ul>
</section>
<section id="new-instructions">
<h3>New instructions<a class="headerlink" href="#new-instructions" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>New hash functions: instructions <code class="docutils literal notranslate"><span class="pre">KECCAK</span></code> and <code class="docutils literal notranslate"><span class="pre">SHA3</span></code></p></li>
<li><p>Instruction <code class="docutils literal notranslate"><span class="pre">LEVEL</span></code> to query the level of the current block</p></li>
<li><p>Instructions <code class="docutils literal notranslate"><span class="pre">VOTING_POWER</span></code> (and resp. <code class="docutils literal notranslate"><span class="pre">TOTAL_VOTING_POWER</span></code>) to
query the voting power of a particular delegate (resp. of all
delegates)</p></li>
<li><p>Instruction <code class="docutils literal notranslate"><span class="pre">SELF_ADDRESS</span></code> equivalent to <code class="docutils literal notranslate"><span class="pre">SELF;</span> <span class="pre">ADDRESS</span></code> but allowed in lambdas</p></li>
</ul>
</section>
<section id="legacy">
<h3>Legacy<a class="headerlink" href="#legacy" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Removed legacy instructions <code class="docutils literal notranslate"><span class="pre">STEPS_TO_QUOTA</span></code>, <code class="docutils literal notranslate"><span class="pre">CREATE_ACCOUNT</span></code>,
and the legacy version of <code class="docutils literal notranslate"><span class="pre">CREATE_CONTACT</span></code>. These instructions are
deprecated since Babylon and have not been used on Mainnet before
their deprecation.</p></li>
</ul>
</section>
</section>
<section id="internal">
<h2>Internal<a class="headerlink" href="#internal" title="Link to this heading">#</a></h2>
<p>The following changes are not visible to the users but reflect
improvements of the codebase.</p>
<ul class="simple">
<li><p>improvements to support the tool <code class="docutils literal notranslate"><span class="pre">coq-of-ocaml</span></code></p></li>
<li><p>unification of big maps and sapling states as <em>lazy storage</em></p></li>
<li><p>representation for bigmaps with id and diff (for trace mode)</p></li>
<li><p>improvements to support the tool <code class="docutils literal notranslate"><span class="pre">bisect_ppx</span></code> to compute code coverage</p></li>
</ul>
</section>
<section id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Link to this heading">#</a></h2>
<section id="list-of-merge-requests">
<h3>List of Merge Requests<a class="headerlink" href="#list-of-merge-requests" title="Link to this heading">#</a></h3>
<p>This is the full list of Merge Requests that compose 008.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/304">Proto: Split cases with different type parameters</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/306">add environment v1</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/307">Updates to environment v1</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/312">Remove poly variant from apply.ml for coq-of-ocaml</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/323">Env1: use Lib_base Option</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/317">Environment: add keccak and bls12</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/316">Lazy storage</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/346">CI: always test opam on the proto-proposal branch</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/321">Michelsoneries</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/297">Refactor signature check source look-up</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/345">Michelsoneries part 2</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/334">Add PVSS modules to the protocol environment</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/333">Add 5th period for protocol Adoption and reduce voting period to 5 cycle</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/353">Optimized notations for pairs</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/325">Parsimonious Combs</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/369">De-duplicate protocol encodings</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/329">Shell context commit to operation receipts hash</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/373">Proper (un_parse comparable data</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/376">Ilias  better accounting set map literals</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/378">Update gas models for Combs</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/311">Compile the protocols environment with coq-of-ocaml</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/383">Restrict FAILWITH to packable types</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/375">Sapling integration</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/381">add and use successors voting period RPC - follow-up on reduce voting period to 5 cycle</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/358">Slight improvements in baking_rights RPC</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/356">Various cleanups</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/327">update previous protocol of alpha to delphi and update voting test</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/328">Linear tickets</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/303">Linear operators on maps and big maps</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/367">Add typing rule for MUL to allow building Fr elements from naturals</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/352">Fix deserialization gas precheck</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/386">Fix costs of KECCAK</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/387">Sapling state id is forged</a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/merge_requests/391">fix successor period rpc</a></p></li>
</ul>
</section>
<section id="instructions-to-reproduce-the-source-tarball">
<h3>Instructions to reproduce the source tarball<a class="headerlink" href="#instructions-to-reproduce-the-source-tarball" title="Link to this heading">#</a></h3>
<p>Development of 008 is frozen in the branch <a class="reference external" href="https://gitlab.com/metastatedev/tezos/-/tree/proto-008">proto-008</a>.
The sources are contained in the directory
<code class="docutils literal notranslate"><span class="pre">src/proto_alpha/lib_protocol</span></code>, which is a rolling home for protocol
development.
This directory is snapshotted each time a new proposal is prepared
using the following instructions:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./scripts/snapshot_alpha.sh edo_008
$ ls src/proto_008_*
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="009_florence.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Protocol Florence</p>
      </div>
    </a>
    <a class="right-next"
       href="007_delphi.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Protocol Delphi</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-v1">Environment V1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rpcs">RPCs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#voting">Voting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata">Metadata</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#current-level">Current_level</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#baking-rights">Baking rights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#michelson">Michelson</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encodings">Encodings</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#block-metadata"><code class="docutils literal notranslate"><span class="pre">block_metadata</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#operation-receipt"><code class="docutils literal notranslate"><span class="pre">operation_receipt</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#voting-procedure">Voting procedure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#smart-contracts-michelson">Smart contracts/Michelson</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sapling">Sapling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bls12-381">Bls12-381</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tickets">Tickets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comb-pairs">Comb pairs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-system">Type system</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#macros-promoted-as-instructions">Macros promoted as instructions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-instructions">New instructions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#legacy">Legacy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internal">Internal</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changelog">Changelog</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list-of-merge-requests">List of Merge Requests</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#instructions-to-reproduce-the-source-tarball">Instructions to reproduce the source tarball</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Nomadic Labs <contact@nomadic-labs.com>
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
       Copyright 2018-2023, Nomadic Labs &lt;contact@nomadic-labs.com&gt;.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>