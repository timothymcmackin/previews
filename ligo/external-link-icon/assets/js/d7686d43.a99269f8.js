"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[21493],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>d});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=c(t),d=r,g=m["".concat(l,".").concat(d)]||m[d]||u[d]||s;return t?a.createElement(g,i(i({ref:n},p),{},{components:t})):a.createElement(g,i({ref:n},p))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,i=new Array(s);i[0]=m;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var c=2;c<s;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},48720:(e,n,t)=>{t.d(n,{D:()=>r.Z,Z:()=>s});var a=t(67294),r=t(75402);const s=function(e){return a.createElement(r.Z.Consumer,null,(n=>{let{syntax:t}=n;return t===e.syntax?e.children:a.createElement(a.Fragment,null)}))}},35329:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=t(87462),r=(t(67294),t(3905)),s=t(48720);const i={id:"variables",title:"Variables and constants"},o=void 0,l={unversionedId:"syntax/variables",id:"syntax/variables",title:"Variables and constants",description:"LIGO features mutable variables, that is, variables whose values can be reassigned.",source:"@site/../docs/syntax/variables.md",sourceDirName:"syntax",slug:"/syntax/variables",permalink:"/previews/ligo/external-link-icon/docs/next/syntax/variables",draft:!1,tags:[],version:"current",frontMatter:{id:"variables",title:"Variables and constants"},sidebar:"docs",previous:{title:"Comments",permalink:"/previews/ligo/external-link-icon/docs/next/syntax/comments"},next:{title:"Functions",permalink:"/previews/ligo/external-link-icon/docs/next/syntax/functions"}},c={},p=[{value:"Variables",id:"variables",level:2},{value:"Silent variables",id:"silent-variables",level:3},{value:"Constants",id:"constants",level:2}],u={toc:p};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"LIGO features mutable variables, that is, variables whose values can be reassigned.\nBy contrast, constants can be assigned only once."),(0,r.kt)("h2",{id:"variables"},"Variables"),(0,r.kt)(s.Z,{syntax:"cameligo",mdxType:"Syntax"},(0,r.kt)("p",null,"To declare a variable, use the keyword ",(0,r.kt)("inlineCode",{parentName:"p"},"let")," (as with constants) followed by the keyword ",(0,r.kt)("inlineCode",{parentName:"p"},"mut"),".\nThe initial assignment uses ",(0,r.kt)("inlineCode",{parentName:"p"},"="),", but subsequent assignments use ",(0,r.kt)("inlineCode",{parentName:"p"},":="),", as in this example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cameligo",metastring:"group=mutating",group:"mutating"},"let add (a, b : int * int) : int =\n  let mut c = a + b in // Mutable c is assigned a + b\n  let () = c := c + 1  // Reassignment of incremented c\n  in c                 // c = a + b + 1\n"))),(0,r.kt)(s.Z,{syntax:"jsligo",mdxType:"Syntax"},(0,r.kt)("p",null,"To declare a variable, use the keyword ",(0,r.kt)("inlineCode",{parentName:"p"},"let")," instead of the keyword ",(0,r.kt)("inlineCode",{parentName:"p"},"const"),", which is for constants.\nTo assign new values to the variable, use the ",(0,r.kt)("inlineCode",{parentName:"p"},"=")," operator, as in this example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsligo",metastring:"group=mutating",group:"mutating"},"function add (a: int, b:int) : int {\n  let c = a + b; // not const!\n  c++;           // Reassignment of incremented c\n  return c;      // c == a + b + 1\n};\n"))),(0,r.kt)("h3",{id:"silent-variables"},"Silent variables"),(0,r.kt)("p",null,"The compiler warns you when you declare a variable but do not use it.\nTo ignore a variable, turn it into a silent variable by prefixing its name with an underscore or using an underscore as its name."),(0,r.kt)("p",null,"For example, LIGO entrypoints receive a parameter and the current value of storage as arguments.\nIf the entrypoint code doesn't access one or both of these arguments, prefix the argument name with an underscore to hide the compiler warning, as in this example:"),(0,r.kt)(s.Z,{syntax:"cameligo",mdxType:"Syntax"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cameligo",metastring:"group=silent_variables",group:"silent_variables"},"[@entry]\nlet reset (_param: unit) (_storage : int) : operation list * int = [], 0\n"))),(0,r.kt)(s.Z,{syntax:"jsligo",mdxType:"Syntax"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsligo",metastring:"group=silent_variables",group:"silent_variables"},"// @entry\nconst reset = (_param : unit, _storage : int) : [list<operation>, int] => [[], 0];\n"))),(0,r.kt)("p",null,"You can also use the predefined function ",(0,r.kt)("inlineCode",{parentName:"p"},"ignore")," on variables that\nyou do not use, as in this example:"),(0,r.kt)(s.Z,{syntax:"cameligo",mdxType:"Syntax"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cameligo",metastring:"group=silent_variables",group:"silent_variables"},"type user = {\n  id       : int;\n  is_admin : bool;\n  name     : string\n}\n\nlet getUserID (user : user) : int =\n  let { id; is_admin; name } = user in\n  let () = ignore ([is_admin, name]) in\n  id\n"))),(0,r.kt)(s.Z,{syntax:"jsligo",mdxType:"Syntax"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsligo",metastring:"group=silent_variables",group:"silent_variables"},"type user = {\n  id       : int,\n  is_admin : bool,\n  name     : string\n};\n\nconst getUserID = (user: user): int => {\n  const { id, is_admin, name } = user;\n  ignore([is_admin, name]);\n  return id;\n}\n"))),(0,r.kt)("h2",{id:"constants"},"Constants"),(0,r.kt)("p",null,"Constant values cannot be reassigned after they are declared."),(0,r.kt)(s.Z,{syntax:"cameligo",mdxType:"Syntax"},(0,r.kt)("p",null,"To declare a constant, use the keyword ",(0,r.kt)("inlineCode",{parentName:"p"},"let"),", as in this example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cameligo",metastring:"group=constants",group:"constants"},"let a = 1\nlet b : int = a // Type ascription (a.k.a. annotation)\n")),(0,r.kt)("p",null,"If you assign a new value to a constant of the same name, LIGO creates a new constant in a new scope.\nThis is also called ",(0,r.kt)("em",{parentName:"p"},"shadowing"),", based on the OCaml concept."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cameligo",metastring:"group=constants",group:"constants"},"let x = 1\nlet x = 2 // No error: this x shadows the previous one.\n"))),(0,r.kt)(s.Z,{syntax:"jsligo",mdxType:"Syntax"},(0,r.kt)("p",null,"To declare a constant, use the keyword ",(0,r.kt)("inlineCode",{parentName:"p"},"const"),", as in this example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsligo",metastring:"group=constants",group:"constants"},"const a = 1;\nconst b : int = a; // Type ascription (a.k.a. annotation)\n")),(0,r.kt)("p",null,"You cannot assign a new value to a constant in the same scope:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsligo",metastring:"skip",skip:!0},"const x = 1;\nconst x = 2; // Yields an error\n")),(0,r.kt)("p",null,"However, the following example works because the constants are in different scopes:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsligo",metastring:"group=constants",group:"constants"},"const d = (() => {\n  const x = 1;\n  {\n    const x = 2; // No error: a sub-block\n    return x;\n  }\n})();\n"))))}m.isMDXComponent=!0}}]);