<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.9.2 plugin-docs plugin-id-default docs-doc-id-contributors/ligo_test_guide">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Testing LIGO | Ligo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://timothymcmackin.github.io/previews/ligo/external-link-icon/img/logo/logo.png"><meta data-rh="true" name="twitter:image" content="https://timothymcmackin.github.io/previews/ligo/external-link-icon/img/logo/logo.png"><meta data-rh="true" property="og:url" content="https://timothymcmackin.github.io/previews/ligo/external-link-icon/docs/contributors/ligo_test_guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.9.2"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.9.2"><meta data-rh="true" name="docsearch:version" content="1.9.2"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.9.2"><meta data-rh="true" property="og:title" content="Testing LIGO | Ligo"><meta data-rh="true" name="description" content="Adding to the LIGO test suite is one of the most accessible ways to contribute. It exposes you to the compiler structure and primitives without demanding a deep understanding of OCaml or compiler development."><meta data-rh="true" property="og:description" content="Adding to the LIGO test suite is one of the most accessible ways to contribute. It exposes you to the compiler structure and primitives without demanding a deep understanding of OCaml or compiler development."><link data-rh="true" rel="icon" href="/previews/ligo/external-link-icon/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://timothymcmackin.github.io/previews/ligo/external-link-icon/docs/contributors/ligo_test_guide"><link data-rh="true" rel="alternate" href="https://timothymcmackin.github.io/previews/ligo/external-link-icon/docs/contributors/ligo_test_guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://timothymcmackin.github.io/previews/ligo/external-link-icon/docs/contributors/ligo_test_guide" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZJTW93II01-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/previews/ligo/external-link-icon/blog/rss.xml" title="Ligo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/previews/ligo/external-link-icon/blog/atom.xml" title="Ligo Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Ligo" href="/previews/ligo/external-link-icon/opensearch.xml"><link rel="stylesheet" href="/previews/ligo/external-link-icon/assets/css/styles.b167f0ee.css">
<link rel="preload" href="/previews/ligo/external-link-icon/assets/js/runtime~main.97fc2400.js" as="script">
<link rel="preload" href="/previews/ligo/external-link-icon/assets/js/main.b18bd973.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/previews/ligo/external-link-icon/"><div class="navbar__logo"><img src="/previews/ligo/external-link-icon/img/logo/logo.svg" alt="LIGO Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="104"><img src="/previews/ligo/external-link-icon/img/logo/logo-night.svg" alt="LIGO Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="104"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/previews/ligo/external-link-icon/docs/intro/introduction">1.9.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/previews/ligo/external-link-icon/docs/next/contributors/ligo_test_guide">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/previews/ligo/external-link-icon/docs/contributors/ligo_test_guide">1.9.2</a></li><li><a class="dropdown__link" href="/previews/ligo/external-link-icon/docs/1.6.0/contributors/ligo_test_guide">1.6.0</a></li><li><a class="dropdown__link" href="/previews/ligo/external-link-icon/docs/1.5.0/contributors/ligo_test_guide">1.5.0</a></li></ul></div><a class="navbar__item navbar__link" target="_self" href="/previews/ligo/external-link-icon/docs/intro/introduction">Docs</a><a class="navbar__item navbar__link" href="/previews/ligo/external-link-icon/docs/reference/toplevel-reference">API</a><a class="navbar__item navbar__link" href="/previews/ligo/external-link-icon/docs/faq/intro">FAQ</a><a class="navbar__item navbar__link" href="/previews/ligo/external-link-icon/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://packages.ligolang.org/packages" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Registry</a><a href="https://ide.ligolang.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Web IDE</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 1.9.2</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Testing LIGO</h1><p>Adding to the LIGO test suite is one of the most accessible ways to contribute. It exposes you to the compiler structure and primitives without demanding a deep understanding of OCaml or compiler development.</p><p>Bonus: you will become more familiar with LIGO in the process!</p><p>Tests are written in OCaml, as LIGO doesn&#x27;t (yet) have a good way to do automated testing. Thankfully the test code is typically less demanding than the features being tested.</p><p>Tests are currently contained in
<a href="https://gitlab.com/ligolang/ligo/tree/dev/src/test" target="_blank" rel="noopener noreferrer">src/test</a>, but
most are integration tests which rely on test contracts kept in
<a href="https://gitlab.com/ligolang/ligo/tree/dev/src/test/contracts" target="_blank" rel="noopener noreferrer">src/test/contracts</a>. If
you are new to LIGO, reading these contracts can be a useful
introduction to a particular LIGO syntax.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-find-good-test-cases">How To Find Good Test Cases<a href="#how-to-find-good-test-cases" class="hash-link" aria-label="Direct link to How To Find Good Test Cases" title="Direct link to How To Find Good Test Cases">​</a></h2><p>Your first question is probably: &quot;If I&#x27;m not already experienced, how
do I know what to test?&quot;. There are a handful of things you can do to
systematically find good test cases. All of them will either get you
more familiar with the LIGO code base or LIGO itself.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extending-existing-test-cases">Extending Existing Test Cases<a href="#extending-existing-test-cases" class="hash-link" aria-label="Direct link to Extending Existing Test Cases" title="Direct link to Extending Existing Test Cases">​</a></h3><p>The fastest way to improve LIGO&#x27;s test coverage is to extend existing
test cases. Consider the test cases that already exist, and think of
things they do not cover or situations they will fail in. A good deal
of inference is required for this, but it requires minimal experience
with the existing code.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="studying-the-parsers-for-gaps-in-coverage">Studying The Parsers For Gaps In Coverage<a href="#studying-the-parsers-for-gaps-in-coverage" class="hash-link" aria-label="Direct link to Studying The Parsers For Gaps In Coverage" title="Direct link to Studying The Parsers For Gaps In Coverage">​</a></h3><p>LIGO is divided into two parts</p><ul><li>the <strong>front end</strong> handles syntax</li><li>the <strong>backend</strong> optimises and compiles a core language shared between syntaxes</li></ul><p>You can find basic test cases for a particular LIGO syntax by studying its parser. You will find the parser under <a href="https://gitlab.com/ligolang/ligo/tree/dev/src/passes/01-parsing" target="_blank" rel="noopener noreferrer">src/passes/1-parser</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="two-useful-test-cases-using-ligo">Two Useful Test Cases Using LIGO<a href="#two-useful-test-cases-using-ligo" class="hash-link" aria-label="Direct link to Two Useful Test Cases Using LIGO" title="Direct link to Two Useful Test Cases Using LIGO">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="coverage">Coverage<a href="#coverage" class="hash-link" aria-label="Direct link to Coverage" title="Direct link to Coverage">​</a></h4><blockquote><p>whether we have any testing at all for a particular aspect of a syntax</p></blockquote><p>You can find coverage tests by carefully going over the syntax tree for a syntax (probably best read by looking at its <code>Parser.mly</code>) and comparing each branch to the test suite. (These tests are plentiful at the time of writing, but they will eventually be filled in reliably as part of writing a new syntax.)</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="depth">Depth<a href="#depth" class="hash-link" aria-label="Direct link to Depth" title="Direct link to Depth">​</a></h4><blockquote><p>features are put through a wide variety of complex scenarios to make sure they stand up to real world use</p></blockquote><p>One of the best ways to find these is to use LIGO for a real project. This will require some time and energy—not just to learn LIGO but to write projects complex enough to stretch the limits of what the language can do. However, it will also get you used to engaging with LIGO from a developers perspective, asking how things could be better or what features are underdeveloped. If your project has practical use, you will also be contributing to the Tezos/LIGO ecosystem while you learn.</p><p><em>Note: because LIGO is open source, in order for us to add your work
as a test case it needs to be licensed in a way that is compatible
with LIGO.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fuzzing-speculative">Fuzzing (Speculative)<a href="#fuzzing-speculative" class="hash-link" aria-label="Direct link to Fuzzing (Speculative)" title="Direct link to Fuzzing (Speculative)">​</a></h3><p>In the future you will be able to
<a href="https://en.wikipedia.org/wiki/Fuzzing" target="_blank" rel="noopener noreferrer">use fuzzing</a> to generate test
cases for LIGO. Fuzzing is often useful for finding &#x27;weird&#x27; bugs on
code paths that humans normally would not stumble onto. This makes it
a useful supplement to human testing.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structure-of-ligo-tests">Structure of LIGO Tests<a href="#structure-of-ligo-tests" class="hash-link" aria-label="Direct link to Structure of LIGO Tests" title="Direct link to Structure of LIGO Tests">​</a></h2><p>LIGO&#x27;s OCaml-based tests are written in
<a href="https://github.com/mirage/alcotest/" target="_blank" rel="noopener noreferrer">alcotest</a>. However, the tests
you encounter in
<a href="https://gitlab.com/ligolang/ligo/blob/dev/src/test/integration_tests.ml" target="_blank" rel="noopener noreferrer">src/test/integration_tests.ml</a>
are built on top of some abstractions, currently defined in
<a href="https://gitlab.com/ligolang/ligo/blob/dev/src/test/test_helpers.ml" target="_blank" rel="noopener noreferrer">src/test/test_helpers.ml</a>. The
use of these can be inferred fairly well from looking at existing
tests, but let us break a few of them down for analysis.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assignment-test">Assignment Test<a href="#assignment-test" class="hash-link" aria-label="Direct link to Assignment Test" title="Direct link to Assignment Test">​</a></h3><p>We will first analyse a short integration test for assignment.</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">let assign () : unit result =</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  let%bind program = type_file &quot;./contracts/assign.ligo&quot; in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  let make_expect = fun n -&gt; n + 1 in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  expect_eq_n_int program &quot;main&quot; make_expect</span></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="assignligo">assign.ligo<a href="#assignligo" class="hash-link" aria-label="Direct link to assign.ligo" title="Direct link to assign.ligo">​</a></h4><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">function main (const i : int) : int is</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  begin</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    i := i + 1 ;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  end with i</span></div></div></div></div><p>What is going on here?</p><p>We have a function which takes no arguments and returns a <code>unit result</code>.
We then define two variables:</p><ul><li>a <code>program</code> which is read from disk and fed to the LIGO compiler</li><li>a comparison function <code>make_expect</code> which takes an integer and adds one to it</li></ul><p>Using <code>expect_eq_n_int</code> the <code>program</code>&#x27;s main function is run and compared to the result of the same input provided to <code>make_expect</code>. Notice that the <code>main</code> argument given to <code>expect_eq_n_int</code> corresponds to the name of the function in <code>assign.ligo</code>.</p><p>This gives us a taste of what to expect from these integration tests.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="annotation-test">Annotation Test<a href="#annotation-test" class="hash-link" aria-label="Direct link to Annotation Test" title="Direct link to Annotation Test">​</a></h3><p>We can see in more complex tests that we are able to pull the values of arbitrary expressions or function calls from LIGO test contracts. Consider:</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">let annotation () : unit result =</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  let%bind program = type_file &quot;./contracts/annotation.ligo&quot; in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  let%bind () =</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    expect_eq_evaluate program &quot;lst&quot; (e_list [])</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  let%bind () =</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    expect_eq_evaluate program &quot;address&quot; (e_address &quot;tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx&quot;)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  let%bind () =</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    expect_eq_evaluate program &quot;address_2&quot; (e_address &quot;tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx&quot;)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  ok ()</span></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="annotationligo">annotation.ligo<a href="#annotationligo" class="hash-link" aria-label="Direct link to annotation.ligo" title="Direct link to annotation.ligo">​</a></h4><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">const lst : list(int) = list [] ;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">const address : address = &quot;tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx&quot; ;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">const address_2 : address = (&quot;tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx&quot; : address) ;</span></div></div></div></div><p>What is going on is similar to the last program: <code>expect_eq_evaluate</code>
runs a program and then pulls a particular named value from the final
program state.</p><p>For example, once the program stops running the value of <code>address</code> is
<code>&quot;tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx&quot;</code>. The <em>comparison</em>, however,
is made to a constructed expression.</p><p>Remember that we are testing from OCaml, but the program is written
and evaluated as LIGO. In order to provide a proper comparison, we
convert our expected test values into LIGO expressions and
data. Constructors such as <code>e_list</code> and <code>e_address</code> provide a bridge
between LIGO and OCaml. Their definitions can be found in files such
as
<a href="https://gitlab.com/ligolang/ligo/blob/dev/src/stages/ast_core/combinators.ml" target="_blank" rel="noopener noreferrer">src/stages/ast_core/combinators.ml</a>,
or using
<a href="https://github.com/ocaml/merlin/wiki" target="_blank" rel="noopener noreferrer">Merlin&#x27;s definition point finder</a>. These
same functions are used during the simplification stage of LIGO
compilation, so becoming familiar with them will help prepare you to
work on the <a href="/previews/ligo/external-link-icon/docs/contributors/big-picture/front-end">front end</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-write-a-test-for-ligo">How To Write A Test For LIGO<a href="#how-to-write-a-test-for-ligo" class="hash-link" aria-label="Direct link to How To Write A Test For LIGO" title="Direct link to How To Write A Test For LIGO">​</a></h2><p>What if we want to write a test of our own? If the test is in the
integration test vein (which it probably is if you are testing new
syntax or features), then the process looks something like:</p><ol><li>Write a test contract which uses the new syntax or feature in <a href="https://gitlab.com/ligolang/ligo/tree/dev/src/test/contracts" target="_blank" rel="noopener noreferrer">src/test/contracts</a>.</li><li>Write an integration test in <a href="https://gitlab.com/ligolang/ligo/blob/dev/src/test/integration_tests.ml" target="_blank" rel="noopener noreferrer">src/test/integration_tests.ml</a> in the vein of existing tests, make sure you add it to the test runner that is currently located at the bottom of the file.</li><li>Write the feature, assuming it does not already exist. Build the
resulting version of LIGO without errors.</li><li>Run the test suite, see if your test(s) pass. If they do, you are
probably done. If not, it is time to go debugging.</li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-find-good-test-cases" class="table-of-contents__link toc-highlight">How To Find Good Test Cases</a><ul><li><a href="#extending-existing-test-cases" class="table-of-contents__link toc-highlight">Extending Existing Test Cases</a></li><li><a href="#studying-the-parsers-for-gaps-in-coverage" class="table-of-contents__link toc-highlight">Studying The Parsers For Gaps In Coverage</a></li><li><a href="#two-useful-test-cases-using-ligo" class="table-of-contents__link toc-highlight">Two Useful Test Cases Using LIGO</a></li><li><a href="#fuzzing-speculative" class="table-of-contents__link toc-highlight">Fuzzing (Speculative)</a></li></ul></li><li><a href="#structure-of-ligo-tests" class="table-of-contents__link toc-highlight">Structure of LIGO Tests</a><ul><li><a href="#assignment-test" class="table-of-contents__link toc-highlight">Assignment Test</a></li><li><a href="#annotation-test" class="table-of-contents__link toc-highlight">Annotation Test</a></li></ul></li><li><a href="#how-to-write-a-test-for-ligo" class="table-of-contents__link toc-highlight">How To Write A Test For LIGO</a></li></ul></div></div></div></div></main></div></div><footer><div class="footer"><div class="container footer__content_WVEf"><div class="footer__brand_I2nm"><div class="footer__bottom"><div class="margin-bottom--sm"><img src="/previews/ligo/external-link-icon/img/ligo-logo.svg" alt="Ligo Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="50" height="50"><img src="/previews/ligo/external-link-icon/img/ligo-logo-light.svg" alt="Ligo Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="50" height="50"></div></div><h3>Ligo</h3><p class="footer__brand-subtitle_zMnG">The smart-contract language tailored for Tezos.</p></div><div class="footer__links_r5Qx"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">LEARN LIGO</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/previews/ligo/external-link-icon/docs/intro/introduction">Get started</a></li><li class="footer__item"><a href="https://packages.ligolang.org/packages" target="_blank" rel="noopener noreferrer" class="footer__link-item">Registry<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/previews/ligo/external-link-icon/docs/api/cli-commands">Ligo CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/previews/ligo/external-link-icon/docs/intro/changelog">Changelog</a></li><li class="footer__item"><a class="footer__link-item" href="/previews/ligo/external-link-icon/docs/faq/intro">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">COMMUNITY</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/tezos" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PLmDOlM4rqLvInuervAU4YuU39ThuHw3fM" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/LigoLang" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/LigoLang" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/marigold-ligolang/" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">CONTRIBUTE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitlab.com/ligolang/ligo" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Sources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitlab.com/ligolang/ligo/-/issues" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://bounties.ligolang.org" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Bounties<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></div></div><div class="footer__after_KMLT"><div class="container footer__after-content_aHcP"><div class="footer__copyright">Copyright © 2025 LIGO. All rights reserved.</div><ul class="footer__socials_NwWN"><li class="footer__socials-item_RXZT"><a href="https://discord.gg/tezos" target="_blank" rel="noopener noreferrer nofollow"><img src="/previews/ligo/external-link-icon/img/communication_channels/discord.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Join the Ligo Discord server. We&#x27;re here to help.</span></a></li><li class="footer__socials-item_RXZT"><a href="https://www.youtube.com/playlist?list=PLmDOlM4rqLvInuervAU4YuU39ThuHw3fM" target="_blank" rel="noopener noreferrer nofollow"><img src="/previews/ligo/external-link-icon/img/communication_channels/youtube.svg" height="26" width="33" alt="" loading="lazy" decoding="async"><span class="sr-only">See Ligo latest videos on YouTube</span></a></li><li class="footer__socials-item_RXZT"><a href="https://gitlab.com/ligolang/ligo/issues" target="_blank" rel="noopener noreferrer nofollow"><img src="/previews/ligo/external-link-icon/img/communication_channels/gitlab.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Need a fix? Create an issue on the Ligo GitLab.</span></a></li><li class="footer__socials-item_RXZT"><a href="https://x.com/ligolang" target="_blank" rel="noopener noreferrer nofollow"><img src="/previews/ligo/external-link-icon/img/communication_channels/x.svg" height="26" width="26" alt="" loading="lazy" decoding="async"><span class="sr-only">Follow Ligo on X / Twitter to get news.</span></a></li><li class="footer__socials-item_RXZT"><a href="https://t.me/LigoLang" target="_blank" rel="noopener noreferrer nofollow"><img src="/previews/ligo/external-link-icon/img/communication_channels/telegram.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Talk with Ligo team on Telegram</span></a></li><li class="footer__socials-item_RXZT"><a href="https://www.linkedin.com/company/marigold-ligolang/" target="_blank" rel="noopener noreferrer nofollow"><img src="/previews/ligo/external-link-icon/img/communication_channels/linkedin.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Discover Ligo on LinkedIn</span></a></li></ul></div></div></footer></div>
<script src="/previews/ligo/external-link-icon/assets/js/runtime~main.97fc2400.js"></script>
<script src="/previews/ligo/external-link-icon/assets/js/main.b18bd973.js"></script>
</body>
</html>