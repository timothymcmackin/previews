<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.5.0 plugin-docs plugin-id-default docs-doc-id-advanced/first-contract">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">First contract | Ligo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ligolang.org/img/logo/logo.png"><meta data-rh="true" name="twitter:image" content="https://ligolang.org/img/logo/logo.png"><meta data-rh="true" property="og:url" content="https://ligolang.org/docs/1.5.0/advanced/first-contract"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.5.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.5.0"><meta data-rh="true" name="docsearch:version" content="1.5.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.5.0"><meta data-rh="true" property="og:title" content="First contract | Ligo"><meta data-rh="true" name="description" content="So far so good, we have learned enough of the LIGO language, we are"><meta data-rh="true" property="og:description" content="So far so good, we have learned enough of the LIGO language, we are"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://ligolang.org/docs/1.5.0/advanced/first-contract"><link data-rh="true" rel="alternate" href="https://ligolang.org/docs/1.5.0/advanced/first-contract" hreflang="en"><link data-rh="true" rel="alternate" href="https://ligolang.org/docs/1.5.0/advanced/first-contract" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZJTW93II01-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ligo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ligo Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Ligo" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.95ea01ea.css">
<link rel="preload" href="/assets/js/runtime~main.82e732f4.js" as="script">
<link rel="preload" href="/assets/js/main.343197ce.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#003ee0;color:#efefef" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><b>Ligo v1 is now available ! <a href="/blog/v1-migration-guide">Check the migration guide</a> ! </b></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/logo.svg" alt="LIGO Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="104"><img src="/img/logo/logo-night.svg" alt="LIGO Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="104"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/1.5.0/intro/introduction">1.5.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/intro/introduction">Next</a></li><li><a class="dropdown__link" href="/docs/intro/introduction">1.7.0</a></li><li><a class="dropdown__link" href="/docs/1.6.0/advanced/first-contract">1.6.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/1.5.0/advanced/first-contract">1.5.0</a></li></ul></div><a class="navbar__item navbar__link" target="_self" href="/docs/intro/introduction">Docs</a><a class="navbar__item navbar__link" href="/docs/reference/toplevel-reference">API</a><a class="navbar__item navbar__link" href="/docs/faq/intro">FAQ</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://packages.ligolang.org/packages" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Registry</a><a href="https://ide.ligolang.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Web IDE</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Ligo<!-- --> <b>1.5.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/intro/introduction">latest version</a></b> (<!-- -->1.7.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 1.5.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>First contract</h1></header><p>So far so good, we have learned enough of the LIGO language, we are
confident enough to write out first smart contract.</p><p>We will be implementing a counter contract.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dry-running-a-contract">Dry-running a Contract<a href="#dry-running-a-contract" class="hash-link" aria-label="Direct link to Dry-running a Contract" title="Direct link to Dry-running a Contract">​</a></h2><p>Testing a contract can be quite easy if we utilise LIGO&#x27;s built-in dry
run feature. Dry-run works by simulating the main function execution,
as if it were deployed on a real chain. You need to provide the
following:</p><ul><li><code>file</code> - contract to run</li><li><code>parameter</code> - parameter passed to the contract (in a
theoretical invocation operation)</li><li><code>storage</code> - a mock storage value, as if it were stored on a real chain</li></ul><p>Here is a full example:</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-jsligo codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name">storage</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> int</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">entry</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> main </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">_action </span><span class="token operator">:</span><span class="token plain"> unit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store </span><span class="token operator">:</span><span class="token plain"> storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">list</span><span class="token operator">&lt;</span><span class="token plain">operation</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token function" style="color:rgb(80, 250, 123)">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span></div></div></div></div><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">ligo run dry-run src/basic.mligo unit </span><span class="token number">42</span><span class="token plain"> ./gitlab-pages/docs/advanced/src/first-contract.jsligo</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Outputs:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// tuple</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">   list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//          Unit</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span></div></div></div></div><p>Output of the <code>dry-run</code> is the return value of our main function, we
can see the operations emitted (in our case an empty list, and the new
storage value being returned) which in our case is still <code>Unit</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-counter-contract">A Counter Contract<a href="#a-counter-contract" class="hash-link" aria-label="Direct link to A Counter Contract" title="Direct link to A Counter Contract">​</a></h2><p>Our counter contract will store a single <code>int</code> as it&#x27;s storage, and
will accept an <code>action</code> variant in order to re-route our single <code>main</code>
function to two entrypoints for <code>add</code> (addition) and <code>sub</code>
(subtraction).</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-jsligo codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name">storage</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name">result</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">list</span><span class="token operator">&lt;</span><span class="token plain">operation</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">entry</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> increment </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n</span><span class="token operator">:</span><span class="token plain"> int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store</span><span class="token operator">:</span><span class="token plain"> storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> result </span><span class="token operator">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token function" style="color:rgb(80, 250, 123)">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store </span><span class="token operator">+</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">entry</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> decrement </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n</span><span class="token operator">:</span><span class="token plain"> int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store</span><span class="token operator">:</span><span class="token plain"> storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> result </span><span class="token operator">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token function" style="color:rgb(80, 250, 123)">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store </span><span class="token operator">-</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">view</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> v1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n </span><span class="token operator">:</span><span class="token plain"> int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store </span><span class="token operator">:</span><span class="token plain"> storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> int </span><span class="token operator">=&gt;</span><span class="token plain"> store </span><span class="token operator">+</span><span class="token plain"> n</span></div></div></div></div><p>To dry-run the counter contract, we will provide the <code>main</code> function
with a variant parameter of value <code>Increment (5)</code> and an initial
storage value of <code>5</code>.</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">ligo run dry-run ./gitlab-pages/docs/advanced/src/first-contract/counter.mligo </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Increment(5)&quot;</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># tuple[   list[]</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#          10</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ]</span></div></div></div></div><p>Our contract&#x27;s storage has been successfully incremented to <code>10</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-and-interacting-with-a-contract-on-a-live-chain">Deploying and interacting with a contract on a live-chain<a href="#deploying-and-interacting-with-a-contract-on-a-live-chain" class="hash-link" aria-label="Direct link to Deploying and interacting with a contract on a live-chain" title="Direct link to Deploying and interacting with a contract on a live-chain">​</a></h2><p>In order to deploy the counter contract to a real Tezos network, we&#x27;d
have to compile it first, this can be done with the help of the
<code>compile-contract</code> CLI command:</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">ligo compile contract ./gitlab-pages/docs/advanced/src/first-contract/counter.mligo</span></div></div></div></div><p>Command above will output the following Michelson code:</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-michelson codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">{ </span><span class="token init-keyword">parameter</span><span class="token plain"> (</span><span class="token type keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> (</span><span class="token type keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token annotation">%decrement</span><span class="token plain">) (</span><span class="token type keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token annotation">%increment</span><span class="token plain">)) ;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token init-keyword">storage</span><span class="token plain"> </span><span class="token type keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> ;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token init-keyword">code</span><span class="token plain"> { </span><span class="token instruction">UNPAIR</span><span class="token plain"> ; </span><span class="token instruction">IF_LEFT</span><span class="token plain"> { </span><span class="token instruction">SWAP</span><span class="token plain"> ; </span><span class="token instruction">SUB</span><span class="token plain"> } { </span><span class="token instruction">ADD</span><span class="token plain"> } ; </span><span class="token instruction">NIL</span><span class="token plain"> </span><span class="token type keyword" style="color:rgb(189, 147, 249);font-style:italic">operation</span><span class="token plain"> ; </span><span class="token instruction">PAIR</span><span class="token plain"> } ;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token init-keyword">view</span><span class="token plain"> &quot;v1&quot; </span><span class="token type keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token type keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> { </span><span class="token instruction">UNPAIR</span><span class="token plain"> ; </span><span class="token instruction">ADD</span><span class="token plain"> } }</span></div></div></div></div><p>However in order to originate a Michelson contract on Tezos, we also
need to provide the initial storage value, we can use
<code>compile-storage</code> to compile the LIGO representation of the storage to
Michelson.</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">ligo compile storage ./gitlab-pages/docs/advanced/src/first-contract/counter.mligo </span><span class="token number">5</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Outputs: 5</span></div></div></div></div><p>In our case the LIGO storage value maps 1:1 to its Michelson
representation, however this will not be the case once the parameter
is of a more complex data type, like a record.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="invoking-a-ligo-contract">Invoking a LIGO contract<a href="#invoking-a-ligo-contract" class="hash-link" aria-label="Direct link to Invoking a LIGO contract" title="Direct link to Invoking a LIGO contract">​</a></h2><p>Same rules apply for parameters, as apply for translating LIGO storage
values to Michelson. We will need to use <code>compile-parameter</code> to
compile our <code>action</code> variant into Michelson, here&#x27;s how:</p><div class="codeBlockContent_vqWU"><button type="button" aria-label="Copy code to clipboard" class="copyButton_H_xL">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_wPnj"><div class="codeBlockLines_fQUY" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">ligo compile parameter ./gitlab-pages/docs/advanced/src/first-contract/counter.mligo </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Increment(5)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Outputs: (Right 5)</span></div></div></div></div><p>Now we can use <code>(Right 5)</code> which is a Michelson value, to invoke our
contract - e.g., via <code>tezos-client</code></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dry-running-a-contract" class="table-of-contents__link toc-highlight">Dry-running a Contract</a></li><li><a href="#a-counter-contract" class="table-of-contents__link toc-highlight">A Counter Contract</a></li><li><a href="#deploying-and-interacting-with-a-contract-on-a-live-chain" class="table-of-contents__link toc-highlight">Deploying and interacting with a contract on a live-chain</a></li><li><a href="#invoking-a-ligo-contract" class="table-of-contents__link toc-highlight">Invoking a LIGO contract</a></li></ul></div></div></div></div></main></div></div><footer><div class="footer"><div class="container footer__content_WVEf"><div class="footer__brand_I2nm"><div class="footer__bottom"><div class="margin-bottom--sm"><img src="/img/ligo-logo.svg" alt="Ligo Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="50" height="50"><img src="/img/ligo-logo-light.svg" alt="Ligo Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="50" height="50"></div></div><h3>Ligo</h3><p class="footer__brand-subtitle_zMnG">The smart-contract language tailored for Tezos.</p></div><div class="footer__links_r5Qx"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">LEARN LIGO</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro/introduction">Get started</a></li><li class="footer__item"><a href="https://packages.ligolang.org/packages" target="_blank" rel="noopener noreferrer" class="footer__link-item">Registry<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/cli-commands">Ligo CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro/changelog">Changelog</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq/intro">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">COMMUNITY</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/tezos" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PLmDOlM4rqLvInuervAU4YuU39ThuHw3fM" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/LigoLang" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/LigoLang" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/marigold-ligolang/" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">CONTRIBUTE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitlab.com/ligolang/ligo" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Sources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitlab.com/ligolang/ligo/-/issues" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://bounties.ligolang.org" target="_blank" rel="noopener noreferrer nofollow" class="footer__link-item">Bounties<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></div></div><div class="footer__after_KMLT"><div class="container footer__after-content_aHcP"><div class="footer__copyright">Copyright © 2024 LIGO. All rights reserved.</div><ul class="footer__socials_NwWN"><li class="footer__socials-item_RXZT"><a href="https://discord.gg/tezos" target="_blank" rel="noopener noreferrer nofollow"><img src="/img/communication_channels/discord.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Join the Ligo Discord server. We&#x27;re here to help.</span></a></li><li class="footer__socials-item_RXZT"><a href="https://www.youtube.com/playlist?list=PLmDOlM4rqLvInuervAU4YuU39ThuHw3fM" target="_blank" rel="noopener noreferrer nofollow"><img src="/img/communication_channels/youtube.svg" height="26" width="33" alt="" loading="lazy" decoding="async"><span class="sr-only">See Ligo latest videos on YouTube</span></a></li><li class="footer__socials-item_RXZT"><a href="https://gitlab.com/ligolang/ligo/issues" target="_blank" rel="noopener noreferrer nofollow"><img src="/img/communication_channels/gitlab.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Need a fix? Create an issue on the Ligo GitLab.</span></a></li><li class="footer__socials-item_RXZT"><a href="https://x.com/ligolang" target="_blank" rel="noopener noreferrer nofollow"><img src="/img/communication_channels/x.svg" height="26" width="26" alt="" loading="lazy" decoding="async"><span class="sr-only">Follow Ligo on X / Twitter to get news.</span></a></li><li class="footer__socials-item_RXZT"><a href="https://t.me/LigoLang" target="_blank" rel="noopener noreferrer nofollow"><img src="/img/communication_channels/telegram.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Talk with Ligo team on Telegram</span></a></li><li class="footer__socials-item_RXZT"><a href="https://www.linkedin.com/company/marigold-ligolang/" target="_blank" rel="noopener noreferrer nofollow"><img src="/img/communication_channels/linkedin.svg" height="30" width="30" alt="" loading="lazy" decoding="async"><span class="sr-only">Discover Ligo on LinkedIn</span></a></li></ul></div></div></footer></div>
<script src="/assets/js/runtime~main.82e732f4.js"></script>
<script src="/assets/js/main.343197ce.js"></script>
</body>
</html>