<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-network/evm-nodes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Running an Etherlink EVM node | Etherlink documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.etherlink.com/previews/etherlink/connection-buttons/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.etherlink.com/previews/etherlink/connection-buttons/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/evm-nodes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running an Etherlink EVM node | Etherlink documentation"><meta data-rh="true" name="description" content="The Etherlink EVM nodes are responsible for maintaining a copy of the Etherlink context and applying new blueprints that process EVM transactions."><meta data-rh="true" property="og:description" content="The Etherlink EVM nodes are responsible for maintaining a copy of the Etherlink context and applying new blueprints that process EVM transactions."><link data-rh="true" rel="icon" href="/previews/etherlink/connection-buttons/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/evm-nodes"><link data-rh="true" rel="alternate" href="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/evm-nodes" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/evm-nodes" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://PM6ZQ764IP-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7GJCKRZ8V9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7GJCKRZ8V9",{})</script>





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.css">

<meta http-equiv="Content-Security-Policy" content=" default-src &#39;none&#39;; base-uri &#39;self&#39;; manifest-src &#39;self&#39;; script-src https://*.googletagmanager.com https://cdn.jsdelivr.net &#39;self&#39; &#39;unsafe-inline&#39;; style-src https://cdn.jsdelivr.net https://fonts.googleapis.com &#39;self&#39; &#39;unsafe-inline&#39;; font-src https://cdn.jsdelivr.net https://fonts.gstatic.com &#39;self&#39;; img-src &#39;self&#39; https://*.googletagmanager.com https://*.google-analytics.com data:; media-src &#39;self&#39;; form-action &#39;self&#39;; connect-src &#39;self&#39; https://node.mainnet.etherlink.com https://node.ghostnet.etherlink.com https://ethereum.rpc.thirdweb.com https://*.algolia.net https://*.algolianet.com https://c.thirdweb.com https://app.pushfeedback.com https://*.googletagmanager.com https://*.google-analytics.com https://*.analytics.google.com; frame-src https://tezosbot.vercel.app https://*.loom.com;">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/previews/etherlink/connection-buttons/assets/css/styles.773b55a7.css">
<script src="/previews/etherlink/connection-buttons/assets/js/runtime~main.5f2d19ff.js" defer="defer"></script>
<script src="/previews/etherlink/connection-buttons/assets/js/main.525b3cc3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navContainer_ku8w"><div class="navbarContainer_am2l"><div class="leftContainer_DCn8"><a href="/"><img class="logoImage_r4eb" src="/img/Etherlink-Docs-Logo.svg" alt="logo"></a></div><div class="centerContainer_A3zG"><div class="mobileNavRight_nUeP"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div class="rightContainer_cHTJ"><div class="socialContainer__RUX"><a href="https://x.com/etherlink" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link x-link" style="box-shadow:none;transition:box-shadow 0.3s ease;border-radius:8px;padding:4px 8px"></a><a href="https://discord.gg/etherlink" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link discord-link" style="box-shadow:none;transition:box-shadow 0.3s ease;border-radius:8px;padding:4px 8px"></a></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div style="border-right:1px solid #101010" class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li style="margin:40px 0px;margin-bottom:false"><a href="https://www.etherlink.com/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/etherlinkIcon.svg" alt="external link icon">Etherlink</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li style="margin:false;margin-bottom:false"><a href="https://status.etherlink.com" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/HiOutlineStatusOnline.svg" alt="external link icon">Status</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li style="margin:false;margin-bottom:false"><a href="https://discord.com/invite/etherlink" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/MdCode.svg" alt="external link icon">Developers</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li style="margin:false;margin-bottom:40px"><a href="https://gitlab.com/tezos/tezos/-/tree/master/etherlink?ref_type=heads" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/Gitlab.svg" alt="external link icon">GitLab</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiHome.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/BiSortAlt2.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/bridging/">Bridging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiBox.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/building-on-etherlink/endpoint-support">Developing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiWifi.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/network/architecture">Network</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiSettings.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/tools/node-providers">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiUsers.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/governance/how-is-etherlink-governed">Governance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiTrendingUp.svg" alt="icon"></span><a href="https://gitlab.com/tezos/tezos/-/tree/master/etherlink" target="_blank" rel="noopener noreferrer" style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Track Progress</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiBookOpen.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/resources/etherlink-further-reading">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><p class="breadcrumbTitle_ffzq">Network</p></nav><div class="tocCollapsible_IbkY theme-doc-toc-mobile tocMobile_bxCs"></div><div class="theme-doc-markdown markdown"><header><h1>Running an Etherlink EVM node</h1></header><p>The Etherlink EVM nodes are responsible for maintaining a copy of the Etherlink context and applying new blueprints that process EVM transactions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Make sure you understand the interaction between different nodes as described in <a class="externalLink_Mcuj" href="/previews/etherlink/connection-buttons/network/architecture">Etherlink architecture</a>.</li>
<li>If you want to verify the blueprints that come from the sequencer, run an Etherlink Smart Rollup node as described in <a class="externalLink_Mcuj" href="/previews/etherlink/connection-buttons/network/smart-rollup-nodes">Running an Etherlink Smart Rollup node</a>.
Public Smart Rollup nodes for Etherlink are not yet available, so you must run your own if you want to participate in the Etherlink network.</li>
</ul>
<p>The EVM node runs Etherlink&#x27;s kernel.
You can get the kernel by importing it from a running Etherlink Smart Rollup node or by providing the installer kernel.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-requirements">System requirements<a href="#system-requirements" class="hash-link" aria-label="Direct link to System requirements" title="Direct link to System requirements">​</a></h2>
<p>Running an Etherlink EVM node on Etherlink Mainnet requires a computer with 500GB of disk space and at least 16GB RAM.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-the-octez-evm-node-binary">Getting the <code>octez-evm-node</code> binary<a href="#getting-the-octez-evm-node-binary" class="hash-link" aria-label="Direct link to getting-the-octez-evm-node-binary" title="Direct link to getting-the-octez-evm-node-binary">​</a></h2>
<p>The easiest way to get the <code>octez-evm-node</code> binary is to download the binaries distributed as part of its latest release from <a href="https://gitlab.com/tezos/tezos/-/releases" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">https://gitlab.com/tezos/tezos/-/releases</a>.
The release page provides static binaries for Linux systems (for amd64 and arm64 architectures).</p>
<p>As an alternative, you can use the minimal Docker image <a href="https://hub.docker.com/r/tezos/tezos-bare/tags?name=octez-evm-node" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">tezos/tezos-bare</a> with a tag that includes <code>octez-evm-node</code>.
These images contain the correct version of the binary.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initializing-the-data-directory">Initializing the data directory<a href="#initializing-the-data-directory" class="hash-link" aria-label="Direct link to Initializing the data directory" title="Direct link to Initializing the data directory">​</a></h2>
<ol>
<li>
<p>If you want your EVM node to check the correctness of the blueprints it receives via a Smart Rollup node, set the <code>sr_node_observer_rpc</code> environment variable to the URL of that Etherlink Smart Rollup node, such as <code>http://localhost:8932</code>.</p>
</li>
<li>
<p>Set the <code>evm_observer_dir</code> environment variable to the directory where the node should store its local data.
The default is <code>$HOME/.octez-evm-node</code>.</p>
</li>
<li>
<p>Initialize the node. To trust incoming blueprints, use <code>--dont-track-rollup-node</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-evm-node init config \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --data-dir $evm_observer_dir --dont-track-rollup-node \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --preimages-endpoint https://snapshots.eu.tzinit.org/etherlink-mainnet/wasm_2_0_0 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --evm-node-endpoint https://relay.mainnet.etherlink.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alternatively, if you want to rely on a Smart Rollup node to check the correctness of blueprints coming from the sequencer, use <code>--rollup-node-endpoint</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-evm-node init config \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --data-dir $evm_observer_dir --rollup-node-endpoint $sr_node_observer_rpc \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --preimages-endpoint https://snapshots.eu.tzinit.org/etherlink-mainnet/wasm_2_0_0 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --evm-node-endpoint https://relay.mainnet.etherlink.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This configuration uses the preimages that the Tezos Foundation hosts on a file server on a so-called &quot;preimages endpoint&quot;.
It&#x27;s safe to use these preimages because the node verifies them.
If you don&#x27;t want to use third-party preimages, you can build the kernel yourself and move the contents of the <code>wasm_2_0_0/</code> directory to the local data directory; see <a class="externalLink_Mcuj" href="/previews/etherlink/connection-buttons/network/building-kernel">Building the Etherlink kernel</a>.
However, in this case, you must manually update this directory with the preimages of every kernel voted by the community and deployed on Etherlink after that.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-node">Running the node<a href="#running-the-node" class="hash-link" aria-label="Direct link to Running the node" title="Direct link to Running the node">​</a></h2>
<p>You can initialize the node from a snapshot or allow it to compute the Etherlink state from genesis, which can take a long time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="from-a-snapshot">From a snapshot<a href="#from-a-snapshot" class="hash-link" aria-label="Direct link to From a snapshot" title="Direct link to From a snapshot">​</a></h3>
<ol>
<li>
<p>Download <a href="http://vps-58f6d7fc.vps.ovh.net/snapshots/" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">an Etherlink snapshot</a>, and use the <code>octez-evm-node</code> to import it. Assuming you have set <code>$latest_snapshot</code> to the name of the latest snapshot,</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">wget http://vps-58f6d7fc.vps.ovh.net/snapshots/$latest_snapshot -O snapshot.gz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-evm-node snapshot import snapshot.gz --data-dir $evm_observer_dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Run this command to start the node:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-evm-node run observer --data-dir $evm_observer_dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<p>By default, the EVM node exposes its JSON RPC API endpoint to <code>localhost:8545</code>.
You can test that everything works as expected by running RPC requests manually or by setting your wallet to use your local node.
For example, this command gets the number of the most recent block in hexadecimal:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -X POST -H &#x27;Content-Type: application/json&#x27; --data &#x27;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;eth_blockNumber&quot;}&#x27; http://localhost:8545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="from-an-existing-etherlink-smart-rollup-node">From an existing Etherlink Smart Rollup node<a href="#from-an-existing-etherlink-smart-rollup-node" class="hash-link" aria-label="Direct link to From an existing Etherlink Smart Rollup node" title="Direct link to From an existing Etherlink Smart Rollup node">​</a></h3>
<ol>
<li>
<p>Download <a href="https://snapshots.eu.tzinit.org/etherlink-ghostnet/" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">an Etherlink Smart Rollup node snapshot</a>, and use the <code>octez-smart-rollup-node</code> binary to import it in a temporary directory.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">wget https://snapshots.eu.tzinit.org/etherlink-mainnet/eth-mainnet.full</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-smart-rollup-node --endpoint https://rpc.tzkt.io/mainnet \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snapshot import eth-mainnet.full \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --data-dir $sr_observer_data_dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_Gfwi alert alert--success"><div class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span></div><div class="admonitionContent_UjKb"><p>If you are running a Smart Rollup node on the same machine, you can skip this step because you can reuse its data directory.</p></div></div>
</li>
<li>
<p>Set the <code>sr_observer_data_dir</code> environment variable to the location of the data directory you got from the previous step.</p>
</li>
<li>
<p>Run this command to import the kernel from the Smart Rollup node:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-evm-node init from rollup node $sr_observer_data_dir --data-dir $evm_observer_dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Run this command to start the node:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-evm-node run observer --data-dir $evm_observer_dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The EVM node runs in archive mode.</p>
</li>
</ol>
<p>By default, the EVM node exposes its JSON RPC API endpoint to <code>localhost:8545</code>.
You can test that everything works as expected by running RPC requests manually or by setting your wallet to use your local node.
For example, this command gets the number of the most recent block in hexadecimal:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -X POST -H &#x27;Content-Type: application/json&#x27; --data &#x27;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;eth_blockNumber&quot;}&#x27; http://localhost:8545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="from-genesis">From genesis<a href="#from-genesis" class="hash-link" aria-label="Direct link to From genesis" title="Direct link to From genesis">​</a></h3>
<ol>
<li>
<p>Get the Etherlink installer kernel (<code>installer.hex</code> file), which you can build yourself as described in <a class="externalLink_Mcuj" href="/previews/etherlink/connection-buttons/network/building-kernel">Building the Etherlink kernel</a> or download here: <a href="/previews/etherlink/connection-buttons/assets/files/installer-df17277bbd62ff61bfd336fd0393e238.hex" class="externalLink_Mcuj" target="_blank">installer.hex</a>.</p>
</li>
<li>
<p>Run this command to start the node with the Etherlink installer kernel that you built or downloaded; change the name of the <code>installer.hex</code> file in the command accordingly:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">octez-evm-node run observer --data-dir $evm_observer_dir --initial-kernel installer.hex</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>--initial-kernel</code> argument is needed only the first time that you start the node.</p>
</li>
</ol>
<p>By default, the EVM node exposes its JSON RPC API endpoint to <code>localhost:8545</code>.
You can test that everything works as expected by running RPC requests manually or by setting your wallet to use your local node.
For example, you can call the node&#x27;s RPC API with this command, putting the URL to your EVM node at the end:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -X POST -H &#x27;Content-Type: application/json&#x27; --data &#x27;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;tez_kernelVersion&quot;}&#x27; http://localhost:8545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-11-20T13:37:18.000Z" itemprop="dateModified">Nov 20, 2024</time></b></span></div></div></footer></article><div class="paginationContainer_z4a4"><div class="prevContainer_eG86"><a href="/previews/etherlink/connection-buttons/network/smart-rollup-nodes" target="_self" class="upper_uMB8"><img src="/img/FiChevronDown.svg" alt="arrow icon"><p>Prev</p></a><div class="divider_Jxb1"></div><div class="bottom_fmSE">Running an Etherlink Smart Rollup node</div></div><div class="nexContainer_Qqst"><a href="/previews/etherlink/connection-buttons/network/building-kernel" target="_self" class="upper_uMB8"><p>Next</p><img src="/img/FiChevronDown.svg" alt="arrow icon"></a><div class="divider_Jxb1"></div><div class="bottom_fmSE">Building the Etherlink kernel</div></div></div></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><div class="outlineContainer_aOeU"><img src="/img/page-outline.svg" alt="outline icon">Page Outline</div><ul class="table-of-contents table-of-contents__left-border"><li style="color:#FFFFFF"><a href="#prerequisites" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li style="color:#FFFFFF"><a href="#system-requirements" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">System requirements</a></li><li style="color:#FFFFFF"><a href="#getting-the-octez-evm-node-binary" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Getting the <code>octez-evm-node</code> binary</a></li><li style="color:#FFFFFF"><a href="#initializing-the-data-directory" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Initializing the data directory</a></li><li style="color:#FFFFFF"><a href="#running-the-node" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Running the node</a><ul><li style="color:#FFFFFF"><a href="#from-a-snapshot" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">From a snapshot</a></li><li style="color:#FFFFFF"><a href="#from-an-existing-etherlink-smart-rollup-node" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">From an existing Etherlink Smart Rollup node</a></li><li style="color:#FFFFFF"><a href="#from-genesis" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">From genesis</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
<script type="module" src="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.esm.js"></script>
<script>const feedbackButton=document.createElement("feedback-button");feedbackButton.setAttribute("project","zh2wgyi1d7"),feedbackButton.setAttribute("modal-position","bottom-right"),feedbackButton.setAttribute("button-style","light"),feedbackButton.setAttribute("button-position","bottom-right"),feedbackButton.setAttribute("id","default"),feedbackButton.textContent="Feedback",document.body.appendChild(feedbackButton)</script></body>
</html>