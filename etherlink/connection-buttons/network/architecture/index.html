<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-network/architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Etherlink architecture | Etherlink documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.etherlink.com/previews/etherlink/connection-buttons/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.etherlink.com/previews/etherlink/connection-buttons/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Etherlink architecture | Etherlink documentation"><meta data-rh="true" name="description" content="Etherlink&#x27;s main components are its nodes and the sequencer."><meta data-rh="true" property="og:description" content="Etherlink&#x27;s main components are its nodes and the sequencer."><link data-rh="true" rel="icon" href="/previews/etherlink/connection-buttons/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/architecture"><link data-rh="true" rel="alternate" href="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.etherlink.com/previews/etherlink/connection-buttons/network/architecture" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://PM6ZQ764IP-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7GJCKRZ8V9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7GJCKRZ8V9",{})</script>





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.css">

<meta http-equiv="Content-Security-Policy" content=" default-src &#39;none&#39;; base-uri &#39;self&#39;; manifest-src &#39;self&#39;; script-src https://*.googletagmanager.com https://cdn.jsdelivr.net &#39;self&#39; &#39;unsafe-inline&#39;; style-src https://cdn.jsdelivr.net https://fonts.googleapis.com &#39;self&#39; &#39;unsafe-inline&#39;; font-src https://cdn.jsdelivr.net https://fonts.gstatic.com &#39;self&#39;; img-src &#39;self&#39; https://*.googletagmanager.com https://*.google-analytics.com data:; media-src &#39;self&#39;; form-action &#39;self&#39;; connect-src &#39;self&#39; https://node.mainnet.etherlink.com https://node.ghostnet.etherlink.com https://ethereum.rpc.thirdweb.com https://*.algolia.net https://*.algolianet.com https://c.thirdweb.com https://app.pushfeedback.com https://*.googletagmanager.com https://*.google-analytics.com https://*.analytics.google.com; frame-src https://tezosbot.vercel.app https://*.loom.com;">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/previews/etherlink/connection-buttons/assets/css/styles.773b55a7.css">
<script src="/previews/etherlink/connection-buttons/assets/js/runtime~main.5f2d19ff.js" defer="defer"></script>
<script src="/previews/etherlink/connection-buttons/assets/js/main.525b3cc3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navContainer_ku8w"><div class="navbarContainer_am2l"><div class="leftContainer_DCn8"><a href="/"><img class="logoImage_r4eb" src="/img/Etherlink-Docs-Logo.svg" alt="logo"></a></div><div class="centerContainer_A3zG"><div class="mobileNavRight_nUeP"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div class="rightContainer_cHTJ"><div class="socialContainer__RUX"><a href="https://x.com/etherlink" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link x-link" style="box-shadow:none;transition:box-shadow 0.3s ease;border-radius:8px;padding:4px 8px"></a><a href="https://discord.gg/etherlink" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link discord-link" style="box-shadow:none;transition:box-shadow 0.3s ease;border-radius:8px;padding:4px 8px"></a></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div style="border-right:1px solid #101010" class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li style="margin:40px 0px;margin-bottom:false"><a href="https://www.etherlink.com/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/etherlinkIcon.svg" alt="external link icon">Etherlink</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li style="margin:false;margin-bottom:false"><a href="https://status.etherlink.com" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/HiOutlineStatusOnline.svg" alt="external link icon">Status</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li style="margin:false;margin-bottom:false"><a href="https://discord.com/invite/etherlink" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/MdCode.svg" alt="external link icon">Developers</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li style="margin:false;margin-bottom:40px"><a href="https://gitlab.com/tezos/tezos/-/tree/master/etherlink?ref_type=heads" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" style="margin-bottom:8px;background-color:#151515;border-radius:100px;padding:10px 16px"><div class="leftHand_jv90"><img src="/img/Gitlab.svg" alt="external link icon">GitLab</div><img src="/img/FiArrowUpRight.svg" alt="external link icon"></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiHome.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/BiSortAlt2.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/bridging/">Bridging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiBox.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/building-on-etherlink/endpoint-support">Developing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiWifi.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/network/architecture">Network</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiSettings.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/tools/node-providers">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiUsers.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/governance/how-is-etherlink-governed">Governance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiTrendingUp.svg" alt="icon"></span><a href="https://gitlab.com/tezos/tezos/-/tree/master/etherlink" target="_blank" rel="noopener noreferrer" style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Track Progress</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed categoryContainer_oPN4"><div class="menu__list-item-collapsible categoryLink_m60s"><span class="categoryIcon_dGyJ"><img src="/img/FiBookOpen.svg" alt="icon"></span><a style="padding:6px 12px 6px 8px" class="categoryTitle_NqYe menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/etherlink/connection-buttons/resources/etherlink-further-reading">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><p class="breadcrumbTitle_ffzq">Network</p></nav><div class="tocCollapsible_IbkY theme-doc-toc-mobile tocMobile_bxCs"></div><div class="theme-doc-markdown markdown"><header><h1>Etherlink architecture</h1></header><p>Etherlink&#x27;s main components are its nodes and the sequencer.</p>
<p>These components are instances of binaries in the <a href="https://tezos.gitlab.io/introduction/tezos.html" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">Octez software suite</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-diagram">High-level diagram<a href="#high-level-diagram" class="hash-link" aria-label="Direct link to High-level diagram" title="Direct link to High-level diagram">​</a></h2>
<p><img decoding="async" loading="lazy" alt="A high-level diagram of Etherlink architecture, showing the interaction between the nodes and the sequencer" src="/previews/etherlink/connection-buttons/assets/images/architecture-high-level-a84deab25bba4b6131471a47d90a1055.png" width="1100" height="785" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sequencer">Sequencer<a href="#sequencer" class="hash-link" aria-label="Direct link to Sequencer" title="Direct link to Sequencer">​</a></h2>
<p>Etherlink relies on a sequencer to publish transactions.
It receives transactions from EVM nodes, puts them in order, and packages them into a blueprint, which is a group of Etherlink transactions.</p>
<p>Each blueprint contains:</p>
<ul>
<li>A list of transactions</li>
<li>A list of transactions that are currently in the delayed inbox, as described in <a href="#transaction-lifecycle" class="externalLink_Mcuj">Transaction lifecycle</a></li>
<li>The hash of the previous blueprint</li>
<li>The timestamp of the blueprint.</li>
</ul>
<p>The sequencer publishes each blueprint in two ways:</p>
<ul>
<li>It publishes them to EVM nodes, which can consider the transactions final as long as they trust that the sequencer will publish them to layer 1.</li>
<li>It publishes them to Tezos layer 1, which finalizes the transactions.</li>
</ul>
<p>The sequencer is the primary way that Etherlink transactions are processed.
However, to protect the system from censorship and any other problems with the sequencer, Etherlink provides a backup way of handling transactions; see <a href="#transaction-lifecycle" class="externalLink_Mcuj">Transaction lifecycle</a>.</p>
<p>The sequencer is an instance of the <code>octez-evm-node</code> binary running in sequencer mode.
Only members of the Sequencer Committee can run instances of the sequencer in sequencer mode.</p>
<p>The sequencer is an instance of the <code>octez-evm-node</code> binary running in sequencer mode.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="nodes">Nodes<a href="#nodes" class="hash-link" aria-label="Direct link to Nodes" title="Direct link to Nodes">​</a></h2>
<p>Etherlink relies on three types of nodes, with instances of each type running in different modes:</p>
<ul>
<li>
<p>EVM nodes (<code>octez-evm-node</code>): The EVM nodes running in sequencer observer mode maintain a local copy of the Etherlink context and expose a <a href="https://ethereum.org/en/developers/docs/apis/json-rpc/" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">JSON RPC API</a>-compliant endpoint for clients to submit transactions to.
They forward these transactions to the sequencer and receive transactions from the sequencer, which they use to update their state.
They also check Smart Rollup nodes to verify that these transactions make it to Tezos layer 1.</p>
</li>
<li>
<p>Smart Rollup nodes (<code>octez-smart-rollup-node</code>): Smart Rollup nodes store the state of the Etherlink blockchain from the perspective of Tezos layer 1.
They monitor the Tezos layer 1 Smart Rollup inbox, filter the inbox to Etherlink-related messages, process them, and update their states.</p>
<p>Importantly, the Smart Rollup nodes store the state of Etherlink based on the information that they get from layer 1, not on information from EVM nodes or the sequencer.</p>
<p>These Smart Rollup nodes run in different modes depending on the needs of the people who run them.
The <code>octez-smart-rollup-node</code> binary has many different modes, but these are the primary modes for Etherlink:</p>
<ul>
<li>Nodes running in observer mode follow the state of the rollup by monitoring layer 1 and updating their states.</li>
<li>Nodes running in operator mode update their states like nodes running in observer mode.
They also have the critical role of securing the Etherlink Smart Rollup by publishing commitments to layer 1 and playing refutation games.</li>
<li>The sequencer can use a node running in batcher mode to publish transactions to layer 1.
It can also use a node running in operator mode to publish transactions.</li>
</ul>
<p>For more information about Smart Rollup nodes in general, see <a href="https://docs.tezos.com/architecture/smart-rollups" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">Smart Rollups</a> on docs.tezos.com and <a href="https://tezos.gitlab.io/shell/smart_rollup_node.html" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">Smart Rollup Node</a> in the Octez documentation.</p>
</li>
<li>
<p>Tezos layer 1 nodes (<code>octez-node</code>): Layer 1 nodes are responsible for the state of layer 1.
In addition to ordinary layer 1 transactions, they receive Etherlink transactions from the sequencer.
Then the baking nodes publish the Etherlink transactions in the Smart Rollup inbox in layer 1 blocks.
For more information about Tezos layer 1 and its nodes, see <a href="https://docs.tezos.com/architecture" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">Architecture</a> on docs.tezos.com.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-lifecycle">Transaction lifecycle<a href="#transaction-lifecycle" class="hash-link" aria-label="Direct link to Transaction lifecycle" title="Direct link to Transaction lifecycle">​</a></h2>
<p>Etherlink has a standard method of processing transactions and a backup method that protects it from censorship and network problems.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-transaction-processing">Standard transaction processing<a href="#standard-transaction-processing" class="hash-link" aria-label="Direct link to Standard transaction processing" title="Direct link to Standard transaction processing">​</a></h3>
<p>The lifecycle of a typical operation under normal circumstances is as follows:</p>
<ol>
<li>A user submits a transaction to an EVM node.</li>
<li>The EVM node forwards the transaction to the sequencer.</li>
<li>The sequencer puts the transaction in its queue as soon as possible (less than 500ms after receiving it in a nominal scenario).</li>
<li>The sequencer puts the transaction into a blueprint.</li>
<li>The sequencer publishes the blueprint to the EVM nodes, which update their states based on the transactions in the blueprint.</li>
<li>The sequencer publishes the blueprint to the Smart Rollup inbox on layer 1 via a Smart Rollup node running in operator or batcher mode.</li>
<li>The Smart Rollup nodes tracking the state of Etherlink fetch the blueprint from the Smart Rollup inbox, read its transactions, and update their states.</li>
<li>The EVM nodes check the state of the Smart Rollup nodes to verify that blueprints have successfully and faithfully been finalized on layer 1.</li>
<li>The Smart Rollup nodes running in operator mode post hashes of Etherlink&#x27;s state to layer 1 as commitments.</li>
</ol>
<p>This diagram summarizes the transaction process:</p>
<p><img decoding="async" loading="lazy" alt="A more detailed diagram of Etherlink architecture, showing the flow of transactions and blueprints" src="/previews/etherlink/connection-buttons/assets/images/architecture-full-865889ba76cccb78ed23ce04a1fbc8f4.png" width="1383" height="1292" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delayed-inbox-transaction-processing">Delayed inbox transaction processing<a href="#delayed-inbox-transaction-processing" class="hash-link" aria-label="Direct link to Delayed inbox transaction processing" title="Direct link to Delayed inbox transaction processing">​</a></h3>
<p>Under normal circumstances, the sequencer handles all incoming transactions fairly and packages them into blueprints to finalize them.
If the sequencer doesn&#x27;t include transactions promptly for any reason, Etherlink provides a backup method of processing transactions that does not rely on the sequencer.
This method allows users to add transactions to an area of storage called the <em>delayed inbox</em> and to force Etherlink to include them.</p>
<p>Transactions that run via the delayed inbox follow this lifecycle:</p>
<ol>
<li>
<p>A user submits an Etherlink transaction to a Tezos layer 1 smart contract called the &quot;delayed bridge&quot; contract.
This transaction includes the address of the Etherlink Smart Rollup and the transaction to run on Etherlink encoded via recursive-length prefix (RLP).
The user must also include 1 tez with the transaction to prevent spam; this amount is hardcoded in the smart contract and is subject to change.</p>
</li>
<li>
<p>The delayed bridge contract writes the transaction to the Smart Rollup inbox.</p>
</li>
<li>
<p>The Etherlink Smart Rollup nodes receive the message, verify that it came from the delayed bridge contract by checking its address, and add it to the delayed inbox, which is a specific area of storage named <code>delayed-inbox</code>.
This address is hard-coded in the Etherlink kernel.</p>
<p>At this point, the sequencer has 12 hours or 1600 layer 1 blocks to include the transaction, whichever is longer.
This delay is to give the sequencer time to catch up if it is trying to include transactions normally and the network is slow for some reason.</p>
</li>
<li>
<p>If the sequencer is running normally, it processes the transaction in the delayed inbox in the same way that it processes other transactions.
Then, when the Smart Rollup nodes receive the blueprint with the transaction as in the standard transaction process, they remove it from the delayed inbox.
The only way to remove a transaction from the delayed inbox is to process it.</p>
</li>
<li>
<p>If the sequencer has not included the transaction at the end of the delay, the Smart Rollup nodes take over the blueprint creation process by following these steps:</p>
<ol>
<li>Each time the Smart Rollup nodes run the Etherlink kernel (at every layer 1 block level), they check to see if the delay has passed for any delayed inbox transactions.</li>
<li>If any transaction needs to be forced, the nodes retrieve all transactions in the delayed inbox, even if they haven&#x27;t been in the delayed inbox longer than the delay.</li>
<li>The nodes package these transactions into a blueprint and process the transactions in the same way as they process transactions in blueprints that come from the sequencer.</li>
</ol>
<p>In this way, transactions in the delayed inbox take precedence over the sequencer.
If the kernel (via the Smart Rollup nodes) generates a blueprint, that blueprint results in a new branch of the Etherlink chain, and the states of the sequencer and the Smart Rollup nodes diverge.
It becomes the responsibility of the sequencer to reorganize itself to build blueprints on top of the kernel-generated blueprint.</p>
</li>
</ol>
<p>The delayed bridge contract is deployed to Tezos layer 1 Mainnet at <a href="https://better-call.dev/mainnet/KT1AZeXH8qUdLMfwN2g7iwiYYSZYG4RrwhCj" target="_blank" rel="noopener noreferrer" class="externalLink_Mcuj">KT1AZeXH8qUdLMfwN2g7iwiYYSZYG4RrwhCj</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-08-12T12:19:49.000Z" itemprop="dateModified">Aug 12, 2024</time></b></span></div></div></footer></article><div class="paginationContainer_z4a4"><div class="prevContainer_eG86"><a href="/previews/etherlink/connection-buttons/building-on-etherlink/development-toolkits" target="_self" class="upper_uMB8"><img src="/img/FiChevronDown.svg" alt="arrow icon"><p>Prev</p></a><div class="divider_Jxb1"></div><div class="bottom_fmSE">Development toolkits</div></div><div class="nexContainer_Qqst"><a href="/previews/etherlink/connection-buttons/network/fees" target="_self" class="upper_uMB8"><p>Next</p><img src="/img/FiChevronDown.svg" alt="arrow icon"></a><div class="divider_Jxb1"></div><div class="bottom_fmSE">Fee structure</div></div></div></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><div class="outlineContainer_aOeU"><img src="/img/page-outline.svg" alt="outline icon">Page Outline</div><ul class="table-of-contents table-of-contents__left-border"><li style="color:#FFFFFF"><a href="#high-level-diagram" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">High-level diagram</a></li><li style="color:#FFFFFF"><a href="#sequencer" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Sequencer</a></li><li style="color:#FFFFFF"><a href="#nodes" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Nodes</a></li><li style="color:#FFFFFF"><a href="#transaction-lifecycle" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Transaction lifecycle</a><ul><li style="color:#FFFFFF"><a href="#standard-transaction-processing" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Standard transaction processing</a></li><li style="color:#FFFFFF"><a href="#delayed-inbox-transaction-processing" style="color:#FFFFFF" class="table-of-contents__link toc-highlight">Delayed inbox transaction processing</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
<script type="module" src="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.esm.js"></script>
<script>const feedbackButton=document.createElement("feedback-button");feedbackButton.setAttribute("project","zh2wgyi1d7"),feedbackButton.setAttribute("modal-position","bottom-right"),feedbackButton.setAttribute("button-style","light"),feedbackButton.setAttribute("button-position","bottom-right"),feedbackButton.setAttribute("id","default"),feedbackButton.textContent="Feedback",document.body.appendChild(feedbackButton)</script></body>
</html>