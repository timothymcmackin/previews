"use strict";(self.webpackChunketherlink_docs=self.webpackChunketherlink_docs||[]).push([[65611],{66710:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>h,toc:()=>c});var s=n(85893),r=n(11151);const i={title:"Bridging XTZ between Tezos layer 1 and Etherlink"},o=void 0,h={id:"bridging/bridging-tezos",title:"Bridging XTZ between Tezos layer 1 and Etherlink",description:"You can bridge the native token on Etherlink and Tezos, which is called tez and shown on price tickers with the symbol XTZ.",source:"@site/docs/bridging/bridging-tezos.md",sourceDirName:"bridging",slug:"/bridging/bridging-tezos",permalink:"/previews/etherlink/connection-buttons/bridging/bridging-tezos",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1730288827e3,frontMatter:{title:"Bridging XTZ between Tezos layer 1 and Etherlink"},sidebar:"documentationSidebar",previous:{title:"Bridging tokens",permalink:"/previews/etherlink/connection-buttons/bridging/"},next:{title:"Bridging tokens between Etherlink and other EVM networks",permalink:"/previews/etherlink/connection-buttons/bridging/bridging-evm"}},l={},c=[{value:"Using the Mainnet Tezos bridge",id:"using-the-mainnet-tezos-bridge",level:2},{value:"Using the Testnet Tezos bridge",id:"using-the-testnet-tezos-bridge",level:2},{value:"How bridging XTZ works",id:"how-bridging-xtz-works",level:2},{value:"Deposit process",id:"deposit-process",level:3},{value:"Withdrawal process",id:"withdrawal-process",level:3}];function a(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["You can bridge the native token on Etherlink and Tezos, which is called tez and shown on price tickers with the symbol ",(0,s.jsx)(t.a,{href:"https://coinmarketcap.com/currencies/tezos/",children:"XTZ"}),".\nYou can bridge tez from Tezos Mainnet to XTZ on Etherlink Mainnet and back, and you can bridge tez from Tezos Testnet (Ghostnet) to XTZ on Etherlink Testnet and back.\nFor more information about tez, see ",(0,s.jsx)(t.a,{href:"https://docs.tezos.com/architecture/tokens",children:"Tokens"})," on docs.tezos.com."]}),"\n",(0,s.jsx)(t.p,{children:"Etherlink provides Tezos bridges for XTZ tokens.\nThese bridges are trustless and permissionless; anyone can use them without restrictions or the intervention of a third party."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://www.etherlinkbridge.com/tezos-bridge",children:"Mainnet Tezos bridge"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://testnet.bridge.etherlink.com/",children:"Testnet Tezos bridge"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Bridging tokens from Tezos layer 1 to Etherlink is referred to as ",(0,s.jsx)(t.em,{children:"depositing"})," tokens."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Bridging tokens from Etherlink to Tezos layer 1 is referred to as ",(0,s.jsx)(t.em,{children:"withdrawing"})," tokens."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)("h3",{children:"Bridging time"}),"\nTokens that you bridge from Tezos layer 1 to Etherlink are available for use on Etherlink immediately."]}),(0,s.jsx)(t.p,{children:"Tokens that you bridge from Etherlink to Tezos layer 1 are available for use on Tezos in 15 days."}),(0,s.jsx)(t.p,{children:"This delay is caused by the Smart Rollup refutation period. As with all Smart Rollups, Etherlink nodes post commitments about their state to Tezos layer 1, including incoming bridging transactions, on a regular schedule. Other nodes have the length of the refutation period (15 days) to challenge those commitments. At the end of the refutation period, the correct commitment is cemented, or made final and unchangeable. Users can execute the bridging transactions in a commitment only after the commitment is cemented."}),(0,s.jsx)(t.p,{children:"The Etherlink indexer run by Nomadic Labs automatically executes these bridging transactions when they are cemented, which makes the bridged tokens available on Tezos."})]}),"\n",(0,s.jsx)(t.h2,{id:"using-the-mainnet-tezos-bridge",children:"Using the Mainnet Tezos bridge"}),"\n",(0,s.jsx)(t.p,{children:"To use the Mainnet bridge, follow these general steps:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Go to the bridge at ",(0,s.jsx)(t.a,{href:"https://www.etherlinkbridge.com/tezos-bridge",children:"https://www.etherlinkbridge.com/tezos-bridge"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Connect your Tezos and Etherlink-compatible wallets."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Select the type of transfer:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Deposit"})," transfers XTZ from Tezos layer 1 to Etherlink"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Withdraw"})," transfers XTZ from Etherlink to Tezos layer 1"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Enter the amount of XTZ tokens to transfer."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Click ",(0,s.jsx)(t.strong,{children:"Transfer"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"using-the-testnet-tezos-bridge",children:"Using the Testnet Tezos bridge"}),"\n",(0,s.jsx)(t.p,{children:"To use the Testnet bridge, follow these general steps:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Go to the bridge at ",(0,s.jsx)(t.a,{href:"https://testnet.bridge.etherlink.com",children:"https://testnet.bridge.etherlink.com"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Connect your Tezos and Etherlink-compatible wallets."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Select the type of transfer:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Deposit"})," transfers XTZ from Tezos layer 1 to Etherlink"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Withdraw"})," transfers XTZ from Etherlink to Tezos layer 1"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Enter the amount of XTZ tokens to transfer."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Click ",(0,s.jsx)(t.strong,{children:"Move funds to Etherlink"})," or ",(0,s.jsx)(t.strong,{children:"Move funds to Tezos"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["You can monitor the status of your bridge operations on the ",(0,s.jsx)(t.strong,{children:"Transaction History"})," tab."]}),"\n",(0,s.jsx)(t.h2,{id:"how-bridging-xtz-works",children:"How bridging XTZ works"}),"\n",(0,s.jsx)(t.p,{children:"The process of bridging XTZ between Etherlink and Tezos layer 1 uses two contracts on Tezos layer 1:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"A bridge contract that accepts deposits and sends them to be exchanged.\nThis bridge contract is not a fundamental part of the bridge; it is a helper contract that avoids limitations around tickets by forwarding them to the Etherlink Smart Rollup on behalf of user accounts."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The source code of this contract is in ",(0,s.jsx)(t.a,{href:"https://gitlab.com/tezos/tezos/-/blob/master/etherlink/tezos_contracts/evm_bridge.mligo",children:(0,s.jsx)(t.code,{children:"evm_bridge.mligo"})}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["This contract is deployed to testnet at ",(0,s.jsx)(t.a,{href:"https://ghostnet.tzkt.io/KT1VEjeQfDBSfpDH5WeBM5LukHPGM2htYEh3/",children:(0,s.jsx)(t.code,{children:"KT1VEjeQfDBSfpDH5WeBM5LukHPGM2htYEh3"})}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["This contract is deployed to Mainnet at ",(0,s.jsx)(t.a,{href:"https://tzkt.io/KT1Wj8SUGmnEPFqyahHAcjcNQwe6YGhEXJb5/",children:(0,s.jsx)(t.code,{children:"KT1Wj8SUGmnEPFqyahHAcjcNQwe6YGhEXJb5"})}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"An exchanger contract that stores the tokens and issues tickets that represent those tokens.\nThis contract is a fundamental part of the bridging process because Etherlink accepts tickets from only this contract for the purpose of bridging XTZ."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The source code of this contract is in ",(0,s.jsx)(t.a,{href:"https://gitlab.com/tezos/tezos/-/blob/master/etherlink/tezos_contracts/exchanger.mligo",children:(0,s.jsx)(t.code,{children:"evm_bridge.mligo"})}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["This contract is deployed to testnet at ",(0,s.jsx)(t.a,{href:"https://ghostnet.tzkt.io/KT1VEjeQfDBSfpDH5WeBM5LukHPGM2htYEh3/",children:(0,s.jsx)(t.code,{children:"KT1VEjeQfDBSfpDH5WeBM5LukHPGM2htYEh3"})}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["This contract is deployed to Mainnet at ",(0,s.jsx)(t.a,{href:"https://tzkt.io/KT1CeFqjJRJPNVvhvznQrWfHad2jCiDZ6Lyj/",children:(0,s.jsx)(t.code,{children:"KT1CeFqjJRJPNVvhvznQrWfHad2jCiDZ6Lyj"})}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"deposit-process",children:"Deposit process"}),"\n",(0,s.jsx)(t.p,{children:"The deposit process (moving tez from layer 1 to Etherlink) follows these general steps:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["A Tezos user sends a request to the layer 1 bridge contract's ",(0,s.jsx)(t.code,{children:"deposit"})," entrypoint.\nThe request includes the tez to bridge, the address of the Etherlink Smart Rollup, and the user's Etherlink wallet address."]}),"\n",(0,s.jsx)(t.li,{children:"The bridge contract stores the address of the Etherlink Smart Rollup temporarily."}),"\n",(0,s.jsxs)(t.li,{children:["It sends the tez in a transaction to the exchanger contract's ",(0,s.jsx)(t.code,{children:"mint"})," entrypoint."]}),"\n",(0,s.jsxs)(t.li,{children:["The exchanger contract stores the tez and creates a ",(0,s.jsx)(t.a,{href:"https://docs.tezos.com/smart-contracts/data-types/complex-data-types#tickets",children:"ticket"})," that represents the receipt of the tokens."]}),"\n",(0,s.jsxs)(t.li,{children:["The exchanger contract sends the ticket to the bridge contract's ",(0,s.jsx)(t.code,{children:"callback"})," entrypoint."]}),"\n",(0,s.jsx)(t.li,{children:"The bridge contract forwards the ticket to the Smart Rollup inbox and clears its storage for the next transfer."}),"\n",(0,s.jsx)(t.li,{children:"Etherlink Smart Rollup nodes receive the deposit transaction from the Smart Rollup inbox."}),"\n",(0,s.jsx)(t.li,{children:"The Smart Rollup nodes put the deposit transaction in the delayed inbox."}),"\n",(0,s.jsx)(t.li,{children:"The sequencer requests the state of Etherlink from a Smart Rollup node and receives the delayed inbox."}),"\n",(0,s.jsxs)(t.li,{children:["The sequencer creates a corresponding transaction on Etherlink to transfer XTZ from the ",(0,s.jsx)(t.a,{href:"https://explorer.etherlink.com/address/0x0000000000000000000000000000000000000000",children:"zero address"})," to the user's address."]}),"\n",(0,s.jsxs)(t.li,{children:["The sequencer adds this transaction to a blueprint as in the usual transaction lifecycle described in ",(0,s.jsx)(t.a,{href:"/network/architecture",children:"Architecture"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This diagram is an overview of the deposit process:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Overview of the token bridging deposit process",src:n(81282).Z+"",width:"1231",height:"698"})}),"\n",(0,s.jsx)(t.h3,{id:"withdrawal-process",children:"Withdrawal process"}),"\n",(0,s.jsx)(t.p,{children:"The withdrawal process (moving XTZ from Etherlink to tez on Tezos layer 1) follows these general steps:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["An Etherlink user sends XTZ and their layer 1 address to the ",(0,s.jsx)(t.a,{href:"https://explorer.etherlink.com/address/0xff00000000000000000000000000000000000001",children:"withdrawal precompiled contract"})," in the Etherlink Smart Rollup via an Etherlink EVM node."]}),"\n",(0,s.jsx)(t.li,{children:"The contract locks the XTZ."}),"\n",(0,s.jsxs)(t.li,{children:["The contract creates a transaction to the exchanger contract's ",(0,s.jsx)(t.code,{children:"burn"})," entrypoint and puts this transaction in the Smart Rollup outbox.\nThis outbox message becomes part of Etherlink's commitment to its state."]}),"\n",(0,s.jsxs)(t.li,{children:["When the commitment that contains the transaction is cemented on layer 1, anyone can run the transaction by running the Octez client ",(0,s.jsx)(t.code,{children:"execute outbox message"})," command."]}),"\n",(0,s.jsx)(t.li,{children:"The exchanger contract receives the ticket, burns it, and sends the equivalent amount of tez to the user's layer 1 address."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This diagram is an overview of the withdrawal process:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Overview of the token bridging withdrawal process",src:n(36555).Z+"",width:"1717",height:"660"})})]})}function d(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},81282:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/bridging-deposit-2909039847b6502c59388f423e874aa3.png"},36555:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/bridging-withdrawal-cbc7b78d1602b71ea766e3ee1ea145b6.png"},11151:(e,t,n)=>{n.d(t,{Z:()=>h,a:()=>o});var s=n(67294);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function h(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);