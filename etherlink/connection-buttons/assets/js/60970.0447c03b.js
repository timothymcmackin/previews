"use strict";(self.webpackChunketherlink_docs=self.webpackChunketherlink_docs||[]).push([[60970],{60970:(e,n,t)=>{t.d(n,{autoConnectInjectedWallet:()=>w,connectInjectedWallet:()=>m});var a=t(71352),s=t(95810),r=t(4159),o=t(75403),c=t(98356),i=t(75814),d=t(74589),h=t(26485);function u(e){const n=(0,d.injectedProvider)(e);if(!n)throw new Error(`No injected provider found for wallet: "${e}"`);return n}async function m(e,n,t){const a=u(e),o=(await a.request({method:"eth_requestAccounts"}))[0];if(!o)throw new Error("no accounts available");const c=(0,r.Kn)(o),d=await a.request({method:"eth_chainId"}).then(i.J);let h=n.chain&&n.chain.id===d?n.chain:(0,s.XY)(d);return n.chain&&n.chain.id!==d&&(await y(a,n.chain),h=n.chain),p(a,c,h,t)}async function w(e,n,t){const a=u(e),o=(await a.request({method:"eth_accounts"}))[0];if(!o)throw new Error("no accounts available");const c=(0,r.Kn)(o),d=await a.request({method:"eth_chainId"}).then(i.J);return p(a,c,t&&t.id===d?t:(0,s.XY)(d),n)}function l(e,n){const t={address:(0,r.Kn)(n),async sendTransaction(n){return{transactionHash:await e.request({method:"eth_sendTransaction",params:[{accessList:n.accessList,value:n.value?(0,o.eC)(n.value):void 0,gas:n.gas?(0,o.eC)(n.gas):void 0,from:this.address,to:n.to,data:n.data}]})}},async signMessage({message:n}){if(!t.address)throw new Error("Provider not setup");const a="string"==typeof n?(0,o.$G)(n):n.raw instanceof Uint8Array?(0,o.dg)(n.raw):n.raw;return await e.request({method:"personal_sign",params:[a,t.address]})},async signTypedData(n){if(!e||!t.address)throw new Error("Provider not setup");const s=(0,h.t)(n),{domain:r,message:o,primaryType:c}=s,i={EIP712Domain:(0,a.cj)({domain:r}),...s.types};(0,a.iC)({domain:r,message:o,primaryType:c,types:i});const d=(0,a.H6)({domain:r??{},message:o,primaryType:c,types:i});return await e.request({method:"eth_signTypedData_v4",params:[t.address,d]})},watchAsset:async n=>await e.request({method:"wallet_watchAsset",params:n},{retryCount:0})};return t}async function p(e,n,t,a){const o=l(e,n);async function c(){!async function(){e.removeListener("accountsChanged",d),e.removeListener("chainChanged",h),e.removeListener("disconnect",c)}(),a.emit("disconnect",void 0)}function d(n){if(n[0]){const t=l(e,(0,r.Kn)(n[0]));a.emit("accountChanged",t),a.emit("accountsChanged",n)}else c()}function h(e){const n=(0,s.XY)((0,i.J)(e));a.emit("chainChanged",n)}return e.on&&(e.on("accountsChanged",d),e.on("chainChanged",h),e.on("disconnect",c)),[o,t,c,n=>y(e,n)]}async function y(e,n){const t=(0,o.eC)(n.id);try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(a){if(4902!==a?.code&&4902!==a?.data?.originalError?.code)throw a;{const a=await(0,s.ZN)(n);await e.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:(0,c.w)(a),blockExplorerUrls:a.explorers?.map((e=>e.url))}]})}}}}}]);