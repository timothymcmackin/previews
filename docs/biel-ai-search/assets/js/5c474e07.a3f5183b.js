"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1990],{63013:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"developing/testnets","title":"Testing on testnets","description":"The current testnets and details about them are at https://teztnets.com/.","source":"@site/docs/developing/testnets.md","sourceDirName":"developing","slug":"/developing/testnets","permalink":"/previews/docs/biel-ai-search/developing/testnets","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1706850000000,"frontMatter":{"title":"Testing on testnets","authors":"Mathias Hiron, Nomadic Labs, Tim McMackin, TriliTech","last_update":{"date":"2 February 2024"}},"sidebar":"documentationSidebar","previous":{"title":"Testing locally","permalink":"/previews/docs/biel-ai-search/developing/testing"},"next":{"title":"Using a local sandbox","permalink":"/previews/docs/biel-ai-search/developing/sandbox"}}');var s=n(74848),r=n(28453);const i={title:"Testing on testnets",authors:"Mathias Hiron, Nomadic Labs, Tim McMackin, TriliTech",last_update:{date:"2 February 2024"}},a=void 0,c={},l=[{value:"Testing with public test networks",id:"testing-with-public-test-networks",level:2},{value:"Types of test networks",id:"types-of-test-networks",level:2},{value:"Permanent test networks",id:"permanent-test-networks",level:3},{value:"Protocol test networks",id:"protocol-test-networks",level:3},{value:"Periodic test networks",id:"periodic-test-networks",level:3},{value:"Working with periodic test networks",id:"working-with-periodic-test-networks",level:3},{value:"Public nodes and faucets",id:"public-nodes-and-faucets",level:2},{value:"Testing with your own private network",id:"testing-with-your-own-private-network",level:2},{value:"More information",id:"more-information",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["The current testnets and details about them are at ",(0,s.jsx)(t.a,{href:"https://teztnets.com/",children:"https://teztnets.com/"}),"."]})}),"\n",(0,s.jsx)(t.p,{children:"If you are a smart contract developer, testing contracts is a big part of your work. More time is spent testing contracts than writing them. You will often need to test new versions of your contracts and run many tests starting from their deployment to calling every entrypoint in all kinds of ways."}),"\n",(0,s.jsxs)(t.p,{children:["After you have tested contracts locally as described in ",(0,s.jsx)(t.a,{href:"/developing/testing",children:"Testing locally"}),", you can deploy them to test networks to test them in a realistic environment."]}),"\n",(0,s.jsx)(t.p,{children:"Similarly, bakers often test their setups on test networks to ensure that they will work on new versions of the Tezos protocol."}),"\n",(0,s.jsx)(t.h2,{id:"testing-with-public-test-networks",children:"Testing with public test networks"}),"\n",(0,s.jsx)(t.p,{children:"If you want to test your development in conditions that are close to those of Tezos Mainnet, you can use one of several public test networks."}),"\n",(0,s.jsx)(t.p,{children:"These networks behave like Mainnet with a few differences:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"You can use faucets to obtain tez for free on these networks, so you don't need to (and can't) spend actual tez."}),"\n",(0,s.jsx)(t.li,{children:"They use different constants than Mainnet, such as reduced block times and shorter cycles for faster testing and reduced windows for inserting rejections in rollups."}),"\n",(0,s.jsx)(t.li,{children:"Tools like public block explorers or indexers may or may not be available, depending on the network."}),"\n",(0,s.jsx)(t.li,{children:"They either use a modified version of the amendment process or don't use it at all."}),"\n",(0,s.jsx)(t.li,{children:"In some cases, you must use specific versions of tools such as the Octez suite to work with them."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Regardless of the type of network, if you intend to do intense testing, you can run your own nodes on these networks to avoid availability issues and limitations."}),"\n",(0,s.jsx)(t.h2,{id:"types-of-test-networks",children:"Types of test networks"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Longevity"}),(0,s.jsx)(t.th,{children:"Target users"}),(0,s.jsx)(t.th,{children:"Examples"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#permanent-test-networks",children:"Permanent test networks"})}),(0,s.jsx)(t.td,{children:"Permanent"}),(0,s.jsx)(t.td,{children:"dApp developers and bakers"}),(0,s.jsx)(t.td,{children:"Ghostnet"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#protocol-test-networks",children:"Protocol test networks"})}),(0,s.jsx)(t.td,{children:"During the protocol amendment process"}),(0,s.jsx)(t.td,{children:"Protocol developers"}),(0,s.jsx)(t.td,{children:"Nairobinet, Oxfordnet"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#periodic-test-networks",children:"Periodic test networks"})}),(0,s.jsx)(t.td,{children:"Short-term"}),(0,s.jsx)(t.td,{children:"Protocol developers and bakers"}),(0,s.jsx)(t.td,{children:"Weeklynet"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"permanent-test-networks",children:"Permanent test networks"}),"\n",(0,s.jsx)(t.p,{children:"Permanent test networks are networks that are meant to run indefinitely. Just like Mainnet, they migrate to new versions of the protocol when proposals are adopted."}),"\n",(0,s.jsx)(t.p,{children:"At the moment, the main such network is Ghostnet. It follows the currently active protocol on Mainnet and upgrades to the next protocol during the Adoption period on Mainnet, which is after the last round of voting but before the new version activates on Mainnet. The objective is to provide a rehearsal event for Mainnet migration."}),"\n",(0,s.jsx)(t.p,{children:"For developers, using a permanent network like Ghostnet is convenient compared to other public networks because they can keep contracts running for a long time without having to set things up on a new network when the previous one gets shut down. Services such as indexers, explorers, or public nodes also tend to run more reliably on Ghostnet than on non-permanent networks."}),"\n",(0,s.jsx)(t.p,{children:"Bakers often run tests on a permanent network because they are the closest environment to Mainnet. Ghostnet, in particular, can be used as a staging environment for testing new setups or new versions of software such as new Octez releases."}),"\n",(0,s.jsx)(t.p,{children:"On the other hand, as transactions and blocks keep accumulating over time, synchronizing with this network can take some time, and the context size gets bigger. This means testing a restart and resynchronization can be time and resource-consuming."}),"\n",(0,s.jsx)(t.p,{children:"Because the protocol on Ghostnet migrates to the newly adopted amendment a few days before Mainnet does, it can serve as a rehearsal for the actual migration on Mainnet. Both bakers and developers can check that they are ready for the migration and that nothing in their configuration breaks when it happens."}),"\n",(0,s.jsx)(t.h3,{id:"protocol-test-networks",children:"Protocol test networks"}),"\n",(0,s.jsx)(t.p,{children:"Protocol test networks are created for a specific version of the protocol.\nThey allow developers and bakers to anticipate the changes brought by upcoming protocol amendments."}),"\n",(0,s.jsx)(t.p,{children:"When an amendment is proposed, a corresponding network is created. This network gets joined by more bakers as the proposal is selected and moves through the different periods of the self-amendment process. If the protocol passes the 3 votes of the amendment, joining a test protocol early gives you about 2.5 months to test all the changes that will be made to Mainnet. If the protocol is not adopted the network is discarded or sometimes remains active until a different protocol is adopted."}),"\n",(0,s.jsx)(t.p,{children:"This means there is usually one or two such running networks: one for the current version of the protocol running on Mainnet, and possibly one for the proposed protocol that is going through the amendment process, if there is one."}),"\n",(0,s.jsx)(t.p,{children:"Whether you are a developer or a baker, testing on the network for a new proposal before it gets activated enables you to check that all your software, smart contracts, dApps, and other tools work well with this new proposal."}),"\n",(0,s.jsx)(t.p,{children:"It also enables you to test any new features of this proposal. Trying the features can help you form your own opinion about this proposal and discuss it with the community before voting on it."}),"\n",(0,s.jsx)(t.p,{children:"When the protocol is activated, the corresponding protocol test network can be a good network for a baker to run tests with the current version of the protocol, because these networks are lightweight to bootstrap and have reduced context sizes."}),"\n",(0,s.jsx)(t.p,{children:"On the other hand, these networks may be less convenient for smart contract or dApp developers to use because they have a limited life span and tend to be less supported by services like indexers and other tools."}),"\n",(0,s.jsx)(t.h3,{id:"periodic-test-networks",children:"Periodic test networks"}),"\n",(0,s.jsx)(t.p,{children:"Periodic test networks allow developers to test new features that are under development before those features become part of a proposal or reach Tezos Mainnet.\nThese networks are based on Alpha development versions of the Tezos economic protocol and the Octez suite."}),"\n",(0,s.jsx)(t.p,{children:"The periodic network currently available is Weeklynet, which is named this way because it restarts every Wednesday, with the latest Docker build as a reference. It is the place to test upcoming new features. It is also a network to use if you are a big baker or a BaaS provider and you want to test tailored infrastructure."}),"\n",(0,s.jsx)(t.h3,{id:"working-with-periodic-test-networks",children:"Working with periodic test networks"}),"\n",(0,s.jsxs)(t.p,{children:["To work with the periodic test networks, you must use exactly the same version of the Octez suite as the network.\nFor this reason, common wallet apps typically don't work with these networks.\nFor example, you can look up information about Weeklynet at ",(0,s.jsx)(t.a,{href:"https://teztnets.com/weeklynet-about",children:"https://teztnets.com/weeklynet-about"}),".\nThis page shows the URL of a Weeklynet RPC endpoint to use and instructions for connecting to the network in different ways."]}),"\n",(0,s.jsx)(t.p,{children:"There are two main ways to use periodic test networks:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Run the Docker image with the correct version of the Octez suite"}),"\n",(0,s.jsx)(t.li,{children:"Build the Octez suite from the specific Git commit that is listed on the test network page"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["In either case, you must connect the Octez suite to the test network RPC endpoint.\nFor example, if the Weeklynet endpoint on ",(0,s.jsx)(t.a,{href:"https://teztnets.com/weeklynet-about",children:"https://teztnets.com/weeklynet-about"})," is ",(0,s.jsx)(t.code,{children:"https://rpc.weeklynet-2024-01-17.teztnets.com"}),", you can connect the Octez client by running this command:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"octez-client -E https://rpc.weeklynet-2024-01-17.teztnets.com config init\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Then you can create a local wallet by running ",(0,s.jsx)(t.code,{children:"octez-client gen keys my_account"})," and fund it with the network faucet."]}),"\n",(0,s.jsxs)(t.p,{children:["For convenience, teztnets.com provides information about the test networks at ",(0,s.jsx)(t.a,{href:"https://teztnets.com/teztnets.json",children:"https://teztnets.com/teztnets.json"}),".\nYou can use the data from this file to set up your environment, such as setting environment variables."]}),"\n",(0,s.jsxs)(t.p,{children:["For example, to get information about Weeklynet, install the ",(0,s.jsx)(t.code,{children:"curl"})," and ",(0,s.jsx)(t.code,{children:"jq"})," programs and run this command:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"curl https://teztnets.com/teztnets.json | jq '.[] | select(.human_name == \"Weeklynet\")'\n"})}),"\n",(0,s.jsx)(t.p,{children:"You can use the response to set environment variables like the RPC endpoint, as in this code:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"curl https://teztnets.com/teztnets.json | jq '.[] | select(.human_name == \"Weeklynet\")' > weeklynet.json\nexport WEEKLYNET_ENDPOINT=$(jq -r .rpc_url weeklynet.json)\nexport WEEKLYNET_COMMIT=$(jq -r .git_ref weeklynet.json)\nexport DOCKER_IMAGE=$(jq -r .docker_build weeklynet.json)\n"})}),"\n",(0,s.jsx)(t.p,{children:"Here are some other tips for using the Docker images for periodic test networks:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The Docker images for each instance of the periodic test networks are listed on the information page for the network.\nFor example, Weeklynet information is here: ",(0,s.jsx)(t.a,{href:"https://teztnets.com/weeklynet-about",children:"https://teztnets.com/weeklynet-about"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["The Docker images are based on Alpine Linux, which uses the ",(0,s.jsx)(t.code,{children:"apk"})," package manager.\nFor example, to install the ",(0,s.jsx)(t.code,{children:"curl"})," program, run ",(0,s.jsx)(t.code,{children:"sudo apk add curl"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["The shell interpreter path is ",(0,s.jsx)(t.code,{children:"/bin/sh"}),", not ",(0,s.jsx)(t.code,{children:"/usr/bin/bash"})," as on many Linux distributions."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"public-nodes-and-faucets",children:"Public nodes and faucets"}),"\n",(0,s.jsxs)(t.p,{children:["To connect to existing public nodes for these networks, or to get some testnet-only tez on these from a faucet, check ",(0,s.jsx)(t.a,{href:"https://teztnets.com/",children:"https://teztnets.com"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Other sources of public nodes include:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://tezostaquito.io/docs/rpc_nodes",children:"Community RPC Nodes"})," listed by ECAD Labs."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://smartpy.io/nodes",children:"SmartPy nodes"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"testing-with-your-own-private-network",children:"Testing with your own private network"}),"\n",(0,s.jsx)(t.p,{children:"In some special cases, you may want to run your own private network for your testing. This could be true if you are developing tools that you want to keep confidential until you put them into production, and if the sandboxed mode is not sufficient for your situation."}),"\n",(0,s.jsxs)(t.p,{children:["See the ",(0,s.jsx)(t.a,{href:"https://opentezos.com/private",children:"Private blockchain"})," section on OpenTezos to learn how to set up your own network."]}),"\n",(0,s.jsx)(t.h2,{id:"more-information",children:"More information"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://octez.tezos.com/docs/user/multinetwork.html#test-networks",children:"Test networks"})}),"\n",(0,s.jsxs)(t.li,{children:["Medium post: ",(0,s.jsx)(t.a,{href:"https://medium.com/the-aleph/introducing-ghostnet-1bf39976e61f",children:"Introducing Ghostnet"})]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var o=n(96540);const s={},r=o.createContext(s);function i(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);