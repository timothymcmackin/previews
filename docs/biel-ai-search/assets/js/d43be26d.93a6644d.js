"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8687],{55225:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"tutorials/create-nfts/setting-up-app","title":"Part 1: Setting up the application","description":"You can access Tezos through any JavaScript framework.","source":"@site/docs/tutorials/create-nfts/setting-up-app.md","sourceDirName":"tutorials/create-nfts","slug":"/tutorials/create-nfts/setting-up-app","permalink":"/previews/docs/biel-ai-search/tutorials/create-nfts/setting-up-app","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1734498000000,"frontMatter":{"title":"Part 1: Setting up the application","authors":"Tim McMackin","last_update":{"date":"18 December 2024"}},"sidebar":"tutorialsSidebar","previous":{"title":"Create NFTs from a web application","permalink":"/previews/docs/biel-ai-search/tutorials/create-nfts"},"next":{"title":"Part 2: Connecting to wallets","permalink":"/previews/docs/biel-ai-search/tutorials/create-nfts/connect-wallet"}}');var i=n(74848),a=n(28453);const o={title:"Part 1: Setting up the application",authors:"Tim McMackin",last_update:{date:"18 December 2024"}},l=void 0,r={},c=[{value:"Setting up the application",id:"setting-up-the-application",level:2},{value:"File structure",id:"file-structure",level:2},{value:"Configuring the Svelte application",id:"configuring-the-svelte-application",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"You can access Tezos through any JavaScript framework.\nThis tutorial uses the Svelte framework to create a simple UI quickly.\nThe following steps show you how to start a Svelte application and add the Tezos-related dependencies.\nIf you are familiar with Svelte, note that this application includes its own Svelte SPA, so it does not require SvelteKit."}),"\n",(0,i.jsx)(t.h2,{id:"setting-up-the-application",children:"Setting up the application"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Run these commands to create a starter Svelte project:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm create vite@latest create-nfts -- --template svelte\ncd create-nfts\nnpm install\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Install the Tezos-related dependencies:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm install @taquito/taquito @taquito/utils @taquito/beacon-wallet @airgap/beacon-types\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Install the ",(0,i.jsx)(t.code,{children:"buffer"}),", ",(0,i.jsx)(t.code,{children:"events"}),", and ",(0,i.jsx)(t.code,{children:"vite-compatible-readable-stream"})," libraries:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm install --save-dev buffer events vite-compatible-readable-stream\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Update the ",(0,i.jsx)(t.code,{children:"vite.config.js"})," file to the following code:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:' import { defineConfig, mergeConfig } from "vite";\n import path from "path";\n import { svelte } from "@sveltejs/vite-plugin-svelte";\n\n export default ({ command }) => {\n   const isBuild = command === "build";\n\n return defineConfig({\n   plugins: [svelte()],\n     define: {\n         global: {}\n     },\n   build: {\n     target: "esnext",\n     commonjsOptions: {\n         transformMixedEsModules: true\n     }\n     },\n   server: {\n     port: 4000\n     },\n   resolve: {\n     alias: {\n      "@airgap/beacon-types": path.resolve(\n        path.resolve(),\n        `./node_modules/@airgap/beacon-types/dist/${\n        isBuild ? "esm" : "cjs"\n        }/index.js`\n       ),\n      // polyfills\n      "readable-stream": "vite-compatible-readable-stream",\n      stream: "vite-compatible-readable-stream"\n     }\n     }\n });\n };\n'})}),"\n",(0,i.jsx)(t.p,{children:"This updated file includes these changes to the default Vite configuration:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["It sets the ",(0,i.jsx)(t.code,{children:"global"})," object to ",(0,i.jsx)(t.code,{children:"{}"})," so the application can provide the value for this object in the HTML file"]}),"\n",(0,i.jsx)(t.li,{children:"It includes the path to the Beacon SDK, which Taquito uses to connect to wallets"}),"\n",(0,i.jsxs)(t.li,{children:["It provides polyfills for ",(0,i.jsx)(t.code,{children:"readable-stream"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Update the default HTML file, ",(0,i.jsx)(t.code,{children:"index.html"}),", to the following code:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <script>\n      const global = globalThis;\n    <\/script>\n    <script type="module">\n      import { Buffer } from "buffer";\n      window.Buffer = Buffer;\n    <\/script>\n    <title>Create NFTs</title>\n  </head>\n  <body>\n    <script type="module" src="/src/main.js"><\/script>\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(t.p,{children:["This updated file sets the ",(0,i.jsx)(t.code,{children:"global"})," variable to ",(0,i.jsx)(t.code,{children:"globalThis"})," and adds a buffer object to the window.\nThe application requires this configuration to use the Beacon SDK to connect to wallets in a Vite app."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["In the ",(0,i.jsx)(t.code,{children:"src/main.js"})," file, import the style sheets by replacing the default code of the file with this code:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"import './app.css'\nimport { mount } from 'svelte';\nimport App from './App.svelte'\n\nconst app = mount(App, { target: document.body });\n\nexport default app\n"})}),"\n",(0,i.jsxs)(t.p,{children:["This code targets the ",(0,i.jsx)(t.code,{children:"body"})," tag to inject the HTML produced by JavaScript instead of a ",(0,i.jsx)(t.code,{children:"div"})," tag inside the ",(0,i.jsx)(t.code,{children:"body"})," tag as Svelte apps do by default.\nYour applications can target any tag on the page."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"file-structure",children:"File structure"}),"\n",(0,i.jsx)(t.p,{children:"The structure of the tutorial application looks like this:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"- src\n  - assets\n  - lib\n  - app.css\n  - App.svelte\n  - main.js\n  - vite-env.d.ts\n- index.html\n- jsconfig.json\n- package-lock.json\n- package.json\n- svelte.config.js\n- vite.config.js\n"})}),"\n",(0,i.jsx)(t.p,{children:"Here are descriptions for each of these files:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"assets"})," -> Contains the favicon and other static files such as images for the application."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"lib"})," -> Contains the components that make up the app interface:"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"app.css"})," -> Contains global styles that apply to the entire app."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"App.svelte"})," -> The entrypoint of the application, which contains the components that are bundled into the final application."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"main.js"})," -> Where the JavaScript for the app is bundled before being injected into the HTML file."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"vite-env.d.ts"})," -> A JavaScript declaration file automatically generated by Vite to provide type definitions for environment variables."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"index.html"})," -> Contains the root element where the Svelte app gets attached."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"jsconfig.json"})," -> Configuration options for JavaScript."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"package.json"})," -> Contains metadata about the project like its name, version, and dependencies."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"svelte.config.js"})," -> Configuration file for the Svelte application."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"vite.config.js"})," -> Used to customize Vite's behavior, including defining plugins, setting up aliases, and more."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"configuring-the-svelte-application",children:"Configuring the Svelte application"}),"\n",(0,i.jsx)(t.p,{children:"Svelte files include several different types of code in a single file.\nThis example page has separate sections for JavaScript, style, and HTML code:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<script lang="ts">\n  // Your JavaScript code\n<\/script>\n\n<style lang="scss">\n  /* Your styles */\n</style>\n\n<main>\n  \x3c!-- Your HTML code --\x3e\n</main>\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Svelte components are fully contained, which means that the style and JS/TS code that you apply inside a component doesn't leak into the other components of your app.\nStyles and scripts that are shared among components typically go in the ",(0,i.jsx)(t.code,{children:"src/styles"})," and ",(0,i.jsx)(t.code,{children:"scripts"})," or ",(0,i.jsx)(t.code,{children:"src/scripts"})," folders."]}),"\n",(0,i.jsxs)(t.p,{children:["Follow these steps to set up the ",(0,i.jsx)(t.code,{children:"src/App.svelte"})," file, which is the container for the other Svelte components:"]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["In the ",(0,i.jsx)(t.code,{children:"App.svelte"})," file, replace the default ",(0,i.jsx)(t.code,{children:"<main>"})," section with this code to set up a title for the interface:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:"<main>\n  <h1>Create NFTs</h1>\n\n</main>\n"})}),"\n",(0,i.jsx)(t.p,{children:"You will add elements to the web application interface later."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Replace the default ",(0,i.jsx)(t.code,{children:"<style>"})," section with this code:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-scss",children:"<style>\n</style>\n"})}),"\n",(0,i.jsx)(t.p,{children:"Later, you can add styles to this section or the shared CSS files."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Remove the default JavaScript section and replace it with this code, which imports the libraries and components that the app uses:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<script lang="ts">\n  import { BeaconWallet } from "@taquito/beacon-wallet";\n  import { NetworkType } from "@airgap/beacon-types";\n  import { TezosToolkit, MichelsonMap} from "@taquito/taquito";\n  import { stringToBytes } from \'@taquito/utils\';\n<\/script>\n'})}),"\n",(0,i.jsx)(t.p,{children:"The imports include these elements:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"BeaconWallet"}),": This class provides a user interface for connecting to wallets, ensuring that users can securely sign transactions and call smart contracts"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"NetworkType"}),": An enumeration that lists the different types of networks on the Tezos blockchain"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"TezosToolkit"}),": This is the base class for Taquito, which gives you access to most of its Tezos-related features"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"MichelsonMap"}),": This class represents the Michelson  map data type, which Tezos uses to store data, including the metadata for the NFTs that the application creates"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"stringToBytes"}),": A utility that converts strings to bytes to store in the token metadata"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["In the same ",(0,i.jsx)(t.code,{children:'<script lang="ts">'})," section, add the following code to initialize Taquito and set it to use a Ghostnet RPC node:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:'  const rpcUrl = "https://rpc.ghostnet.teztnets.com";\n  const Tezos = new TezosToolkit(rpcUrl);\n'})}),"\n",(0,i.jsxs)(t.p,{children:["This code creates an instance of the ",(0,i.jsx)(t.code,{children:"TezosToolkit"})," object, which provides access to the Tezos chain itself.\nYou can change the RPC node to use a different Tezos network (such as switching to Tezos Mainnet when you are ready to deploy the application in production) or if the node you are using is slow or down,\nFor URLs to other RPC nodes, see ",(0,i.jsx)(t.a,{href:"https://teztnets.com",children:"https://teztnets.com"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Now you have the framework of a web application that can access Tezos.\nIn the next part, you add buttons that connect to the user's wallet and send transactions to Tezos on the user's behalf.\nContinue to ",(0,i.jsx)(t.a,{href:"/tutorials/create-nfts/connect-wallet",children:"Part 2: Connecting to wallets"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var s=n(96540);const i={},a=s.createContext(i);function o(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);