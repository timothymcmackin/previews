"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[2397],{47409:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"unity/managing-tokens","title":"Managing tokens","description":"The SDK\'s built-in contract is compatible with the FA2 token standard, which means that you can use a single smart contract to manage any number of types of tokens, including:","source":"@site/docs/unity/managing-tokens.md","sourceDirName":"unity","slug":"/unity/managing-tokens","permalink":"/previews/docs/biel-chatbot/unity/managing-tokens","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1704949200000,"frontMatter":{"title":"Managing tokens","authors":"Tim McMackin","last_update":{"date":"11 January 2024"}},"sidebar":"documentationSidebar","previous":{"title":"Managing contracts","permalink":"/previews/docs/biel-chatbot/unity/managing-contracts"},"next":{"title":"Reference","permalink":"/previews/docs/biel-chatbot/unity/reference"}}');var o=t(74848),s=t(28453);const r={title:"Managing tokens",authors:"Tim McMackin",last_update:{date:"11 January 2024"}},i=void 0,c={},l=[{value:"Creating (minting) tokens",id:"creating-minting-tokens",level:2},{value:"Transferring tokens",id:"transferring-tokens",level:2},{value:"Getting token balances",id:"getting-token-balances",level:2},{value:"Destroying (burning) tokens",id:"destroying-burning-tokens",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["The SDK's built-in contract is compatible with the ",(0,o.jsx)(n.a,{href:"/architecture/tokens/FA2",children:"FA2 token standard"}),", which means that you can use a single smart contract to manage any number of types of tokens, including:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Fungible tokens, which are collections of interchangeable tokens with a quantity that you define.\nFungible tokens can be quantifiable commodities like in-game currency, fuel, ammunition, or energy, or they can be identical items with a limited quantity."}),"\n",(0,o.jsx)(n.li,{children:"Non-fungible tokens (NFTs), which are unique assets with only one unit.\nGames use NFTs for items that are unique and must not be duplicated."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You can create as many tokens and types of tokens as you need in one contract, but each transaction to create or transfer tokens incurs fees."}),"\n",(0,o.jsx)(n.h2,{id:"creating-minting-tokens",children:"Creating (minting) tokens"}),"\n",(0,o.jsxs)(n.p,{children:["To create a token type, call the contract's ",(0,o.jsx)(n.code,{children:"mint"})," entrypoint and pass these parameters:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A callback function to run when the token is created"}),"\n",(0,o.jsx)(n.li,{children:"The metadata for the token, which includes a name and description, URIs to preview media or thumbnails, and how many decimal places the token can be broken into"}),"\n",(0,o.jsx)(n.li,{children:"The destination account that owns the new tokens, which can be a user account, this smart contract, or any other smart contract"}),"\n",(0,o.jsx)(n.li,{children:"The number of tokens to create"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"For example, this code creates a token type with a quantity of 100:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:'var initialOwner = TezosManager\n    .Instance\n    .Wallet\n    .GetActiveAddress();\n\nconst string imageAddress = "ipfs://QmX4t8ikQgjvLdqTtL51v6iVun9tNE7y7Txiw4piGQVNgK";\n\nvar tokenMetadata = new TokenMetadata\n{\n    Name = "My token",\n    Description = "Description for my token",\n    Symbol = "MYTOKEN",\n    Decimals = "0",\n    DisplayUri = imageAddress,\n    ArtifactUri = imageAddress,\n    ThumbnailUri = imageAddress\n};\n\nTezosManager\n    .Instance\n    .Tezos\n    .TokenContract\n    .Mint(\n        completedCallback: OnTokenMinted,\n        tokenMetadata: tokenMetadata,\n        destination: initialOwner,\n        amount: 100);\n\nprivate void OnTokenMinted(TokenBalance tokenBalance)\n{\n    Debug.Log($"Successfully minted token with Token ID {tokenBalance.TokenId}");\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["For a complete example of creating tokens, see the file ",(0,o.jsx)(n.code,{children:"TezosSDK/Examples/Contract/Scripts/MintToken.cs"})," and the Contract tutorial scene."]}),"\n",(0,o.jsx)(n.h2,{id:"transferring-tokens",children:"Transferring tokens"}),"\n",(0,o.jsxs)(n.p,{children:["To transfer tokens, call the contract's ",(0,o.jsx)(n.code,{children:"Transfer"})," entrypoint and pass these parameters:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A callback function to run when the transfer is complete"}),"\n",(0,o.jsx)(n.li,{children:"The account to transfer the tokens to"}),"\n",(0,o.jsx)(n.li,{children:"The ID of the token"}),"\n",(0,o.jsx)(n.li,{children:"The amount of tokens to transfer"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["This example transfers 12 tokens with the ID 5 to the account in the variable ",(0,o.jsx)(n.code,{children:"destinationAccountAddress"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:'public void HandleTransfer()\n{\n    TezosManager\n        .Instance\n        .Tezos\n        .TokenContract\n        .Transfer(\n            completedCallback: TransferCompleted,\n            destination: destinationAccountAddress,\n            tokenId: 5,\n            amount: 12);\n}\n\nprivate void TransferCompleted(string txHash)\n{\n    Logger.LogDebug($"Transfer complete with transaction hash {txHash}");\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"For a complete example, see the Transfer tutorial scene."}),"\n",(0,o.jsx)(n.h2,{id:"getting-token-balances",children:"Getting token balances"}),"\n",(0,o.jsxs)(n.p,{children:["To get the tokens that the connected account owns, call the ",(0,o.jsx)(n.a,{href:"/unity/reference/API#gettokensforowner",children:(0,o.jsx)(n.code,{children:"API.GetTokensForOwner()"})})," method in a coroutine.\nThis example prints information about the tokens that the account owns to the log:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:'private void Start()\n{\n    // Subscribe to account connection event\n    TezosManager.Instance.EventManager.WalletConnected += OnWalletConnected;\n}\n\nprivate void OnWalletConnected(WalletInfo walletInfo)\n{\n    // Address of the connected wallet\n    var address = walletInfo.Address;\n\n    // Prepare the coroutine to fetch the tokens\n    var routine = TezosManager.Instance.Tezos.API.GetTokensForOwner(\n        OnTokensFetched, // Callback to be called when the tokens are fetched\n        address, true, 10_000, new TokensForOwnerOrder.ByLastTimeAsc(0));\n\n    StartCoroutine(routine);\n}\n\nprivate void OnTokensFetched(IEnumerable<TokenBalance> tokenBalances)\n{\n    var walletAddress = TezosManager.Instance.Wallet.GetWalletAddress();\n    var contractAddress = TezosManager.Instance.Tezos.TokenContract.Address;\n\n    var tokens = new List<TokenBalance>(tokenBalances);\n\n    // Filter the tokens by the current contract address\n    var filteredTokens = tokens.Where(tb => tb.TokenContract.Address == contractAddress).ToList();\n\n    if (filteredTokens.Count > 0)\n    {\n        foreach (var tb in filteredTokens)\n        {\n            Debug.Log($"{walletAddress} has {tb.Balance} tokens on contract {tb.TokenContract.Address}");\n            Debug.Log(tb.TokenMetadata);\n        }\n    }\n    else\n    {\n        Debug.Log($"{walletAddress} has no tokens in the active contract");\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"destroying-burning-tokens",children:"Destroying (burning) tokens"}),"\n",(0,o.jsx)(n.p,{children:"The built-in contract does not have a burn entrypoint, so you can't destroy its tokens.\nIf you want to make tokens unusable, send them to an address that doesn't exist or to an account that you can't use.\nFor example, you can create an account in a wallet app, send the tokens to it, and delete the private key for the account."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var a=t(96540);const o={},s=a.createContext(o);function r(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);