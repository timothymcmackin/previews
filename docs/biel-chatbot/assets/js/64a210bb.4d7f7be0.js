"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1675],{25277:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"dApps/taquito","title":"Taquito dApp SDK for TypeScript","description":"Taquito is a TypeScript library that dApp developers can use to get information about Tezos and submit transactions.","source":"@site/docs/dApps/taquito.md","sourceDirName":"dApps","slug":"/dApps/taquito","permalink":"/previews/docs/biel-chatbot/dApps/taquito","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1737435600000,"frontMatter":{"title":"Taquito dApp SDK for TypeScript","authors":"Claude Barde, Tim McMackin","last_update":{"date":"21 January 2025"},"dependencies":{"taquito":"21.0.1"}},"sidebar":"documentationSidebar","previous":{"title":"Sending transactions","permalink":"/previews/docs/biel-chatbot/dApps/sending-transactions"},"next":{"title":"Best practices and avoiding flaws","permalink":"/previews/docs/biel-chatbot/dApps/best-practices"}}');var a=n(74848),i=n(28453);const s={title:"Taquito dApp SDK for TypeScript",authors:"Claude Barde, Tim McMackin",last_update:{date:"21 January 2025"},dependencies:{taquito:"21.0.1"}},r=void 0,c={},l=[{value:"Installation",id:"installation",level:2},{value:"Tutorials",id:"tutorials",level:2},{value:"Taquito configuration",id:"taquito-configuration",level:2},{value:"General setup",id:"general-setup",level:3},{value:"Connecting to wallets",id:"connecting-to-wallets",level:3},{value:"Getting data from the Tezos blockchain",id:"getting-data-from-the-tezos-blockchain",level:2},{value:"Getting the balance of an account",id:"getting-the-balance-of-an-account",level:3},{value:"Getting the storage of a contract",id:"getting-the-storage-of-a-contract",level:3},{value:"Getting token metadata",id:"getting-token-metadata",level:3},{value:"Interacting with the Tezos blockchain",id:"interacting-with-the-tezos-blockchain",level:2},{value:"Sending tez",id:"sending-tez",level:3},{value:"Originating a contract",id:"originating-a-contract",level:3},{value:"Sending a contract call",id:"sending-a-contract-call",level:3},{value:"Reading smart contract events",id:"reading-smart-contract-events",level:3},{value:"Best practices",id:"best-practices",level:2},{value:"One single <code>TezosToolkit</code> instance",id:"one-single-tezostoolkit-instance",level:3},{value:"Contract API vs Wallet API",id:"contract-api-vs-wallet-api",level:3},{value:"<code>methods</code> vs <code>methodsObject</code>",id:"methods-vs-methodsobject",level:3},{value:"Catching transaction errors",id:"catching-transaction-errors",level:3}];function d(t){const e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.a,{href:"https://tezostaquito.io",children:"Taquito"})," is a TypeScript library that dApp developers can use to get information about Tezos and submit transactions.\nMany wallets in the Tezos ecosystem use the Taquito library."]}),"\n",(0,a.jsxs)(e.p,{children:["A full reference is available in the ",(0,a.jsx)(e.a,{href:"https://tezostaquito.io/docs/quick_start",children:"Taquito documentation"}),"."]}),"\n",(0,a.jsx)(e.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(e.p,{children:"The Taquito library is made of several NPM modules:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/taquito",children:"@taquito/taquito"}),": High-level functionality that builds on the other packages in the Tezos Typescript Library Suite."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/ledger-signer",children:"@taquito/ledger-signer"}),": Provides ledger signing functionality."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/rpc",children:"@taquito/rpc"}),": Provides low-level methods and types to interact with an RPC node."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/utils",children:"@taquito/utils"}),": Provides utility methods to verify Tezos-specific data and convert data types."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/michelson-encoder",children:"@taquito/michelson-encoder"}),": Provides a JavaScript abstraction based on a Tezos smart contracts code, parameters and storage."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/michel-codec",children:"@taquito/michel-codec"}),": Provides a Michelson parser/validator/formatter."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/local-forging",children:"@taquito/local-forging"}),": Provides local forging functionality."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/signer",children:"@taquito/signer"}),": Provides signing functionality."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/beacon-wallet",children:"@taquito/beacon-wallet"}),": Provides a wrapper for the Beacon SDK."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/http-utils",children:"@taquito/http-utils"}),": Provides HTTP functionality for Taquito."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/tzip12",children:"@taquito/tzip12"}),": Provides TZIP-12 functionality for Taquito."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/tzip16",children:"@taquito/tzip16"}),": Provides TZIP-16 functionality for Taquito."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/remote-signer",children:"@taquito/remote-signer"}),": Remote signer provider."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://www.npmjs.com/package/@taquito/contracts-library",children:"@taquito/contracts-library"}),": Allows you to store static data related to contracts (such as scripts and entrypoints) to prevent Taquito from needing to fetch them from the network."]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["The main module is ",(0,a.jsx)(e.code,{children:"@taquito/taquito"}),"; it is used for most actions.\nThe other modules are used by the ",(0,a.jsx)(e.code,{children:"@taquito/taquito"})," methods as complementary features, but they can also be used separately."]}),"\n",(0,a.jsx)(e.p,{children:"You can install Taquito from NPM:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:"npm install @taquito/taquito\n"})}),"\n",(0,a.jsx)(e.h2,{id:"tutorials",children:"Tutorials"}),"\n",(0,a.jsx)(e.p,{children:"For tutorials that include using Taquito, see:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"/tutorials/build-your-first-app",children:"Build a simple web application"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"/tutorials/create-nfts",children:"Create NFTs from a web application"})}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"taquito-configuration",children:"Taquito configuration"}),"\n",(0,a.jsx)(e.h3,{id:"general-setup",children:"General setup"}),"\n",(0,a.jsxs)(e.p,{children:["Like all Tezos clients, Taquito must be connected to an RPC node.\nTo connect Taquito to a node, create an instance of the ",(0,a.jsx)(e.code,{children:"TezosToolkit"})," class, which is the fa\xe7ade class that surfaces the library's features, and pass the URL of the node.\nFor example, this code uses the public Ghostnet node at ",(0,a.jsx)(e.code,{children:"https://rpc.ghostnet.teztnets.com"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit } from '@taquito/taquito'\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\n"})}),"\n",(0,a.jsx)(e.h3,{id:"connecting-to-wallets",children:"Connecting to wallets"}),"\n",(0,a.jsx)(e.p,{children:"Taquito can connect to Tezos wallets through the Beacon protocol.\nFollow these steps to connect to wallets in an application:"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Install Taquito and the ",(0,a.jsx)(e.code,{children:"@taquito/beacon-wallet"})," and ",(0,a.jsx)(e.code,{children:"@airgap/beacon-types"})," packages from NPM:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npm install @taquito/taquito @taquito/beacon-wallet @airgap/beacon-types\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Import the ",(0,a.jsx)(e.code,{children:"BeaconWallet"})," class and create a new instance by passing an object with the different options required by the Beacon SDK.\nAfter creating the instance of the wallet, you can request permission from the user to connect their wallet before passing the wallet instance to the wallet provider in the TezosToolkit provided by Taquito:"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { BeaconWallet } from \"@taquito/beacon-wallet\";\nimport { NetworkType } from \"@airgap/beacon-types\";\nimport { TezosToolkit } from \"@taquito/taquito\";\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com');\nconst options = {\n  name: 'MyAwesomeDapp',\n  iconUrl: 'https://tezostaquito.io/img/favicon.svg',\n  network: {\n    type: NetworkType.GHOSTNET,\n  },\n};\nconst wallet = new BeaconWallet(options);\nawait wallet.requestPermissions();\nTezos.setWalletProvider(wallet);\n"})}),"\n",(0,a.jsx)(e.h2,{id:"getting-data-from-the-tezos-blockchain",children:"Getting data from the Tezos blockchain"}),"\n",(0,a.jsx)(e.p,{children:"Taquito provides methods to get different types of data from the Tezos blockchain, for example, the balance of a user account, the storage of a contract, or token metadata."}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"Note: querying data from the blockchain doesn't create a new transaction."}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"getting-the-balance-of-an-account",children:"Getting the balance of an account"}),"\n",(0,a.jsxs)(e.p,{children:["Taquito allows developers to get the current balance in mutez of a user account. The ",(0,a.jsx)(e.code,{children:"getBalance"})," method is available on the instance of the TezosToolkit and requires a parameter of type ",(0,a.jsx)(e.code,{children:"string"})," that represents the address of the account."]}),"\n",(0,a.jsxs)(e.p,{children:["The returned value is of type ",(0,a.jsx)(e.code,{children:"BigNumber"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit } from '@taquito/taquito'\nimport { BeaconWallet } from '@taquito/beacon-wallet'\nimport type { BigNumber } from 'bignumber.js'\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\nconst wallet = new BeaconWallet(OPTIONS)\nawait wallet.requestPermissions()\nTezos.setWalletProvider(wallet)\n// gets the user's address\nconst userAddress = await wallet.getPKH()\n// gets their balance\nconst balance: BigNumber = await Tezos.tz.getBalance(userAddress)\n"})}),"\n",(0,a.jsx)(e.h3,{id:"getting-the-storage-of-a-contract",children:"Getting the storage of a contract"}),"\n",(0,a.jsx)(e.p,{children:"Taquito provides an easy way to get the storage of any contract and exposes it as a JavaScript object:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit } from '@taquito/taquito'\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\n// creates the contract abstraction required to get the storage\nconst contract = await Tezos.wallet.at(CONTRACT_ADDRESS)\n// returns the storage of the contract\nconst storage = await contract.storage()\n"})}),"\n",(0,a.jsx)(e.h3,{id:"getting-token-metadata",children:"Getting token metadata"}),"\n",(0,a.jsx)(e.p,{children:"Taquito also provides a library to get token metadata, which can be very useful when you build a dApp that handles NFTs.\nWithout Taquito, you would have to fetch the location of the metadata from the contract, understand where the metadata is stored, fetch it, and parse it. Taquito does all of that for you, as in this example:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit } from '@taquito/taquito'\nimport { Tzip12Module, tzip12 } from '@taquito/tzip12'\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\nTezos.addExtension(new Tzip12Module())\n\nconst contract = await Tezos.contract.at(CONTRACT_ADDRESS, tzip12)\nconst tokenMetadata = await contract.tzip12().getTokenMetadata(TOKEN_ID)\n"})}),"\n",(0,a.jsx)(e.h2,{id:"interacting-with-the-tezos-blockchain",children:"Interacting with the Tezos blockchain"}),"\n",(0,a.jsxs)(e.p,{children:["Taquito lets you interact with the Tezos blockchain in multiple ways, for example, by sending tez, originating new contracts, interacting with existing contracts or reading events emitted by a contract. Most of these interactions start with an instance of the ",(0,a.jsx)(e.code,{children:"TezosToolkit"})," object."]}),"\n",(0,a.jsx)(e.h3,{id:"sending-tez",children:"Sending tez"}),"\n",(0,a.jsxs)(e.p,{children:["After creating an instance of the ",(0,a.jsx)(e.code,{children:"TezosToolkit"})," object, you can use the Contract API (for backend apps) or the Wallet API (for frontend apps) to access the ",(0,a.jsx)(e.code,{children:"transfer"})," method and pass an object as a parameter with a ",(0,a.jsx)(e.code,{children:"to"})," property for the recipient of the transfer and an ",(0,a.jsx)(e.code,{children:"amount"})," property for the amount to be sent:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit } from '@taquito/taquito'\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\nconst op = await Tezos.contract.transfer({ to: ADDRESS, amount: 1 })\nawait op.confirmation()\n"})}),"\n",(0,a.jsx)(e.h3,{id:"originating-a-contract",children:"Originating a contract"}),"\n",(0,a.jsxs)(e.p,{children:["The origination of a new contract is also possible through the Contract API or the Wallet API with the ",(0,a.jsx)(e.code,{children:"originate"})," method. It takes an object as a parameter with a ",(0,a.jsx)(e.code,{children:"code"})," property for the Michelson code of the contract and a ",(0,a.jsx)(e.code,{children:"storage"})," property for the initial storage of the contract:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit } from '@taquito/taquito'\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\nconst initialStorage = {\n    counter: 1,\n    admin: \"tz1Me1MGhK7taay748h4gPnX2cXvbgL6xsYL\"\n}\nconst op = await Tezos\n    .contract\n    .originate({\n        code: CONTRACT_CODE,\n        storage: initialStorage\n    })\nawait op.confirmation()\nconst { contractAddress } = op\n"})}),"\n",(0,a.jsx)(e.h3,{id:"sending-a-contract-call",children:"Sending a contract call"}),"\n",(0,a.jsx)(e.p,{children:"One of the main features of your dApp is probably smart contract interactions."}),"\n",(0,a.jsxs)(e.p,{children:["After creating the contract abstraction for the contract you want to interact with, you can call one of the entrypoints available as a method on the ",(0,a.jsx)(e.code,{children:"methodsObject"})," property. The entrypoint method takes a parameter of the type expected by the contract and returns a contract call that can be executed by calling the ",(0,a.jsx)(e.code,{children:"send"})," method:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit } from '@taquito/taquito'\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\n\nTezos.setWalletProvider(wallet);\nconst contract = await Tezos.wallet.at(CONTRACT_ADDRESS)\nconst op = await contract.methodsObject.mint(3).send()\nawait op.confirmation()\n"})}),"\n",(0,a.jsx)(e.h3,{id:"reading-smart-contract-events",children:"Reading smart contract events"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.a,{href:"/smart-contracts/events",children:"Events"})," are a way for contracts to deliver event-like information to third-party (off-chain) applications."]}),"\n",(0,a.jsxs)(e.p,{children:["Taquito provides a simple way for users to subscribe to certain events on the blockchain via the ",(0,a.jsx)(e.code,{children:"PollingSubscribeProvider"})," object."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import { TezosToolkit, PollingSubscribeProvider } from '@taquito/taquito'\n\nconst Tezos = new TezosToolkit('https://rpc.ghostnet.teztnets.com')\n\nTezos.setStreamProvider(\n  Tezos.getFactory(PollingSubscribeProvider)({\n    shouldObservableSubscriptionRetry: true,\n    pollingIntervalMilliseconds: 1500,\n  })\n)\n\ntry {\n  const sub = Tezos.stream.subscribeEvent({\n    tag: 'tagName',\n    address: 'CONTRACT_ADDRESS',\n  })\n\n  sub.on('data', console.log)\n} catch (e) {\n  console.log(e)\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,a.jsxs)(e.h3,{id:"one-single-tezostoolkit-instance",children:["One single ",(0,a.jsx)(e.code,{children:"TezosToolkit"})," instance"]}),"\n",(0,a.jsxs)(e.p,{children:["You should make sure that you only have one instance of the ",(0,a.jsx)(e.code,{children:"TezosToolkit"})," object at all times in your app to avoid using the wrong one, which can have negative financial consequences for your users.\nEven if your app requires a change in the network or Tezos node, it is better to create a new instance of the ",(0,a.jsx)(e.code,{children:"TezosToolkit"})," and stop using the previous one to prevent unexpected behaviors."]}),"\n",(0,a.jsx)(e.h3,{id:"contract-api-vs-wallet-api",children:"Contract API vs Wallet API"}),"\n",(0,a.jsx)(e.p,{children:"The Contract API is better suited for backend applications that don't require the manual signing of transactions, while the Wallet API is better suited for frontend applications that will interact with the users' wallets.\nThe use of one or the other should be consistent within the same app to prevent unexpected behaviors."}),"\n",(0,a.jsxs)(e.h3,{id:"methods-vs-methodsobject",children:[(0,a.jsx)(e.code,{children:"methods"})," vs ",(0,a.jsx)(e.code,{children:"methodsObject"})]}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"methodsObject"})," property is better used in cases when the parameter for a contract call is a complex pair.\nYou can use ",(0,a.jsx)(e.code,{children:"methods"})," to pass single parameters or simple pairs."]}),"\n",(0,a.jsx)(e.h3,{id:"catching-transaction-errors",children:"Catching transaction errors"}),"\n",(0,a.jsxs)(e.p,{children:["It is important to wrap contract calls and other transactions sent from the app inside a ",(0,a.jsx)(e.code,{children:"try... catch"})," block to handle transaction failures. You must handle failures to provide visual feedback to your users and prevent unwanted behaviors like users clicking a button again because the UI did not inform them that the previous attempt failed."]}),"\n",(0,a.jsx)(e.admonition,{title:"More information",type:"note",children:(0,a.jsxs)(e.p,{children:["For more information, see the ",(0,a.jsx)(e.a,{href:"https://tezostaquito.io/docs/quick_start",children:"Taquito documentation"}),"."]})})]})}function h(t={}){const{wrapper:e}={...(0,i.R)(),...t.components};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(d,{...t})}):d(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>s,x:()=>r});var o=n(96540);const a={},i=o.createContext(a);function s(t){const e=o.useContext(i);return o.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(a):t.components||a:s(t.components),o.createElement(i.Provider,{value:e},t.children)}}}]);