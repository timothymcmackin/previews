"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[929],{31191:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"architecture/bakers","title":"Bakers","description":"Baking is the process of creating new blocks in the Tezos blockchain.","source":"@site/docs/architecture/bakers.md","sourceDirName":"architecture","slug":"/architecture/bakers","permalink":"/previews/docs/biel-chatbot/architecture/bakers","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1736744400000,"frontMatter":{"title":"Bakers","authors":"Tim McMackin","last_update":{"date":"13 January 2025"}},"sidebar":"documentationSidebar","previous":{"title":"Nodes","permalink":"/previews/docs/biel-chatbot/architecture/nodes"},"next":{"title":"Accusers","permalink":"/previews/docs/biel-chatbot/architecture/accusers"}}');var o=a(74848),s=a(28453);const r={title:"Bakers",authors:"Tim McMackin",last_update:{date:"13 January 2025"}},i=void 0,l={},c=[{value:"The baking process",id:"the-baking-process",level:2},{value:"Becoming a baker",id:"becoming-a-baker",level:2},{value:"Delegating to a baker",id:"delegating-to-a-baker",level:2},{value:"Staking with a baker",id:"staking-with-a-baker",level:2},{value:"Summary",id:"summary",level:2},{value:"References",id:"references",level:2}];function d(e){const t={a:"a",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Baking is the process of creating new blocks in the Tezos blockchain.\nBakers are executables running alongside Tezos nodes that cooperate to achieve consensus about the next block to add.\nBakers validate pending operations, package them into a block, sign the block, propose the new block to other nodes, and verify that the blocks that other bakers propose are valid."}),"\n",(0,o.jsx)(t.p,{children:"Baker executables are run on behalf of user accounts.\nBy extension, bakers also denote the users running baker daemons on behalf of their user accounts."}),"\n",(0,o.jsx)(t.h2,{id:"the-baking-process",children:"The baking process"}),"\n",(0,o.jsx)(t.p,{children:"The baking process includes many steps that Tezos users and developers don't need to think about, but at a basic level, baking a block follows these steps:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["The protocol selects in advance a list of bakers for each block to create in a ",(0,o.jsx)(t.em,{children:"cycle"}),", which is a certain number of blocks."]}),"\n",(0,o.jsxs)(t.li,{children:["It also selects a list of bakers to act as validators.\nThese bakers are responsible for validating the blocks that other bakers create and publishing ",(0,o.jsx)(t.em,{children:"attestations"})," that the block is valid."]}),"\n",(0,o.jsx)(t.li,{children:"The first baker on the list has a certain amount of time (called a round) to create the next block.\nIt packages pending operations into a block, signs it, and distributes it to other nodes."}),"\n",(0,o.jsx)(t.li,{children:"If the first baker doesn't publish a block in time, the next baker on the list has a certain amount of time to bake a block (a new round), and so on until a block is created."}),"\n",(0,o.jsx)(t.li,{children:"The validators verify the block and publish their attestations in future blocks."}),"\n",(0,o.jsx)(t.li,{children:"The next list of bakers create the next block, until the end of the cycle."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Note that:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"The presentation above is somewhat simplified; in reality, validation is done in two phases, called pre-attestation and attestation."}),"\n",(0,o.jsx)(t.li,{children:"For any given block and round, only one baker has the right to create the block, and several bakers have the right to (pre-)attest the block."}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"becoming-a-baker",children:"Becoming a baker"}),"\n",(0,o.jsxs)(t.p,{children:["To become a baker, you must create an account to act as a ",(0,o.jsx)(t.em,{children:"delegate"}),', which is an account that is authorized to bake blocks and attest blocks that other accounts bake, and also to receive delegations (and stake) from other accounts, as explained later.\nDelegates temporarily stake tez as a security deposit to ensure that they are acting according to the rules of the protocol.\nDeposits can be "unstaked" later, either partially (at any time) or totally (when bakers stop baking).\nThere is a delay of a certain number of cycles from the moment when the tez are staked until the delegate can begin baking.\nSimilarly, when tez are unstaked, they are unlocked after a certain number of cycles.\nStaked tez may be slashed by the protocol if the baker misbehaves (e.g., proposes or attests two different blocks for the same level).']}),"\n",(0,o.jsxs)(t.p,{children:["A delegate participates in consensus in proportion to their ",(0,o.jsx)(t.em,{children:"baking power"}),": the more baking power a delegate has, the more likely it is to be selected to bake or to validate blocks and thus receive the rewards.\nThe baking power of a delegate is computed from the amounts of tez staked (by its own and by all its stakers) and owned (by its own and by all its delegators), knowing that non-staked tez are weighted one-third as much as staked tez in the sum."]}),"\n",(0,o.jsx)(t.p,{children:"The delegate must have a baking power of at least 6,000 tez to be allowed to bake."}),"\n",(0,o.jsxs)(t.p,{children:["A delegate also participates in ",(0,o.jsx)(t.a,{href:"/architecture/governance",children:"governance"})," in proportion to their ",(0,o.jsx)(t.em,{children:"voting power"}),".\nThe voting power of a delegate is computed in a similar way to the baking power except that no distinction is made between tez that are staked or not staked."]}),"\n",(0,o.jsx)(t.p,{children:"Bakers must run at least one Tezos node and a baker service to go with it.\nThese services must run at all times with a stable power source and internet connection, because periods of inactivity for a baker entail losses of rewards, and eventually being marked as inactive and temporarily excluded from baking."}),"\n",(0,o.jsx)(t.h2,{id:"delegating-to-a-baker",children:"Delegating to a baker"}),"\n",(0,o.jsxs)(t.p,{children:["If you don't have enough tez to become a baker or don't want to run a baking node, you can choose a baker as your delegate, which makes you a ",(0,o.jsx)(t.em,{children:"delegator"}),".\nThe delegate doesn't have control over your tez and you can spend your tez at any time or withdraw your delegation, but one-third of the tez that you delegate counts toward the baking power of the delegate.\nSimilarly, delegated tez increase the voting power of your baker: a delegate's voting power is the sum of its own tez plus all of the tez delegated to it."]}),"\n",(0,o.jsx)(t.p,{children:"In exchange, delegates may share some part of their rewards with you, in proportion to the amount of available tez in your account (technically, the minimal balance during each cycle).\nCheck your delegate's conditions for distributing rewards."}),"\n",(0,o.jsx)(t.p,{children:"Delegating incurs no risk for the delegator: the delegate has no control over the tez and the delegator is not punished if the delegate misbehaves."}),"\n",(0,o.jsx)(t.h2,{id:"staking-with-a-baker",children:"Staking with a baker"}),"\n",(0,o.jsx)(t.p,{children:"If you want to get a bigger share of your delegate's rewards, you can temporarily stake any amount of tez from your account with your baker, provided your baker accepts staking.\nAll the tez you stake don't leave your account: they are frozen in your account,\nbut contribute to the baker's security deposit, and are locked under the same conditions as the baker's own staked tez. Hence, they are slashed if the baker misbehaves.\nIn exchange of agreeing to temporarily lock these tez and sharing the risks with your delegate, you get a bigger share of the delegate's rewards.\nStaking rewards accrue automatically, and are allocated by the protocol: stakers earn rewards whenever their bakers do, and don't have to wait for the baker to distribute them (unlike delegation rewards)."}),"\n",(0,o.jsx)(t.p,{children:"Later on, you may choose to unstake part or all of the staked tez, that will be unlocked after a certain delay."}),"\n",(0,o.jsx)(t.p,{children:'To stake tez, you start by delegating to a baker\'s account (which should accepts staking and not be "overstaked"), then you stake a certain amount of your tez to the baker.\nThus, you can earn staking rewards on some frozen tez while leaving some delegated tez liquid for immediate use.'}),"\n",(0,o.jsx)(t.p,{children:"Since you may have only one delegate, you can only stake with one baker at a time."}),"\n",(0,o.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(t.p,{children:"In summary, here is a comparison between the staking and delegating options above:"}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"\xa0"}),(0,o.jsx)(t.th,{children:"Staking"}),(0,o.jsx)(t.th,{children:"Delegating"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Increase baking power"}),(0,o.jsx)(t.td,{children:"100%"}),(0,o.jsx)(t.td,{children:"33%"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Increase voting power"}),(0,o.jsx)(t.td,{children:"100%"}),(0,o.jsx)(t.td,{children:"100%"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Reward delay"}),(0,o.jsx)(t.td,{children:"None"}),(0,o.jsx)(t.td,{children:"2 cycles (about 6 days)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Reward route"}),(0,o.jsx)(t.td,{children:"Direct to staker"}),(0,o.jsx)(t.td,{children:"To baker who manually sends to delegator"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Funds availability"}),(0,o.jsx)(t.td,{children:"Frozen (locked)"}),(0,o.jsx)(t.td,{children:"Liquid (unlocked)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Unlock delay"}),(0,o.jsx)(t.td,{children:"4 cycles (about 10 days)"}),(0,o.jsx)(t.td,{children:"None"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Slashing exposure"}),(0,o.jsx)(t.td,{children:"Yes"}),(0,o.jsx)(t.td,{children:"No"})]})]})]}),"\n",(0,o.jsx)(t.h2,{id:"references",children:"References"}),"\n",(0,o.jsxs)(t.p,{children:["To start delegating and staking, use the app at ",(0,o.jsx)(t.a,{href:"https://stake.tezos.com",children:"https://stake.tezos.com"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["For more information about the different options to participate to the Tezos network (baking, staking, or delegating), see ",(0,o.jsx)(t.a,{href:"https://tezos.gitlab.io/introduction/howtorun.html",children:"Running Octez"})," in the Octez documentation."]}),"\n",(0,o.jsxs)(t.p,{children:["For full details about baking, see ",(0,o.jsx)(t.a,{href:"https://opentezos.com/node-baking/baking/introduction/",children:"Node and Baking"})," on opentezos.com."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>i});var n=a(96540);const o={},s=n.createContext(o);function r(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);