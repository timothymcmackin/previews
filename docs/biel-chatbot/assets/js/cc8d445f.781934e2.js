"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[7832],{24089:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorials/mobile/part-1","title":"Part 1: Create the smart contract","description":"On this first section, you will:","source":"@site/docs/tutorials/mobile/part-1.md","sourceDirName":"tutorials/mobile","slug":"/tutorials/mobile/part-1","permalink":"/previews/docs/biel-chatbot/tutorials/mobile/part-1","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1702357200000,"frontMatter":{"title":"Part 1: Create the smart contract","authors":"Benjamin Fuentes (Marigold)","last_update":{"date":"12 December 2023"}},"sidebar":"tutorialsSidebar","previous":{"title":"Create a mobile game","permalink":"/previews/docs/biel-chatbot/tutorials/mobile"},"next":{"title":"Part 2: Create an Ionic mobile application","permalink":"/previews/docs/biel-chatbot/tutorials/mobile/part-2"}}');var a=n(74848),s=n(28453);const o={title:"Part 1: Create the smart contract",authors:"Benjamin Fuentes (Marigold)",last_update:{date:"12 December 2023"}},r=void 0,l={},c=[{value:"Smart contract",id:"smart-contract",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"On this first section, you will:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Create the game smart contract importing an existing LIGO library"}),"\n",(0,a.jsx)(t.li,{children:"Deploy your smart contract to the Ghostnet"}),"\n",(0,a.jsx)(t.li,{children:"Get the Shifumi Git repository folders to copy the game UI and CSS for the second party"}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"smart-contract",children:"Smart contract"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Clone the repository and start a new Taqueria project:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"git clone https://github.com/marigold-dev/training-dapp-shifumi.git\ntaq init shifumi\ncd shifumi\ntaq install @taqueria/plugin-ligo\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Download the LIGO Shifumi template, and copy the files to Taqueria ",(0,a.jsx)(t.strong,{children:"contracts"})," folder:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'TAQ_LIGO_IMAGE=ligolang/ligo:1.2.0 taq ligo --command "init contract --template shifumi-jsligo shifumiTemplate"\ncp -r shifumiTemplate/src/* contracts/\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Compile the contract. It creates the default required file ",(0,a.jsx)(t.code,{children:"main.storageList.jsligo"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"TAQ_LIGO_IMAGE=ligolang/ligo:1.2.0 taq compile main.jsligo\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Edit ",(0,a.jsx)(t.code,{children:"main.storageList.jsligo"})," initial storage and save it:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-jsligo",children:'#import "main.jsligo" "Contract"\n\nconst default_storage: Contract.storage = {\n    metadata: Big_map.literal(\n        list(\n            [\n                ["", bytes `tezos-storage:contents`],\n                [\n                    "contents",\n                    bytes\n                    `\n    {\n    "name": "Shifumi Example",\n    "description": "An Example Shifumi Contract",\n    "version": "beta",\n    "license": {\n        "name": "MIT"\n    },\n    "authors": [\n        "smart-chain <tezos@smart-chain.fr>"\n    ],\n    "homepage": "https://github.com/ligolang/shifumi-jsligo",\n    "source": {\n        "tools": "jsligo",\n        "location": "https://github.com/ligolang/shifumi-jsligo/contracts"\n    },\n    "interfaces": [\n        "TZIP-016"\n    ]\n    }\n    `\n                ]\n            ]\n        )\n    ) as big_map<string, bytes>,\n    next_session: 0 as nat,\n    sessions: Map.empty as map<nat, Contract.Session.t>,\n}\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Compile again:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"TAQ_LIGO_IMAGE=ligolang/ligo:1.2.0 taq compile main.jsligo\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Deploy to Ghostnet:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'taq install @taqueria/plugin-taquito\ntaq deploy main.tz -e "testing"\n'})}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["Note: If this is your first time using Taqueria, look at this training first: ",(0,a.jsx)(t.a,{href:"https://github.com/marigold-dev/training-dapp-1#ghostnet-testnet",children:"https://github.com/marigold-dev/training-dapp-1#ghostnet-testnet"})]}),"\n",(0,a.jsxs)(t.p,{children:["For advanced users, just go to ",(0,a.jsx)(t.code,{children:".taq/config.local.testing.json"})," , replace account with alice settings and then redeploy"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "networkName": "ghostnet",\n  "accounts": {\n    "taqOperatorAccount": {\n      "publicKey": "edpkvGfYw3LyB1UcCahKQk4rF2tvbMUk8GFiTuMjL75uGXrpvKXhjn",\n      "publicKeyHash": "tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb",\n      "privateKey": "edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq"\n    }\n  }\n}\n'})}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Your smart contract is ready on Ghostnet!"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-logs",children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Contract \u2502 Address                              \u2502 Alias \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 main.tz  \u2502 KT1QjiZcAq63yVSCkfAr9zcFvmKBhQ7nVSWd \u2502 main  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(t.p,{children:"That's all for the smart contract. On the next section, you will create the mobile application and connect to your smart contract"}),"\n",(0,a.jsxs)(t.p,{children:["When you are ready, continue to ",(0,a.jsx)(t.a,{href:"/tutorials/mobile/part-2",children:"Part 2: Create an Ionic mobile application"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var i=n(96540);const a={},s=i.createContext(a);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);