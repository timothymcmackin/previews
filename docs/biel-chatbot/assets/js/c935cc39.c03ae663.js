"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[749],{78635:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"smart-contracts/delegation","title":"Delegation","description":"Placing your tez in a smart contract means you can\'t stake them towards baking or delegate them to get rewards.","source":"@site/docs/smart-contracts/delegation.md","sourceDirName":"smart-contracts","slug":"/smart-contracts/delegation","permalink":"/previews/docs/biel-chatbot/smart-contracts/delegation","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1696478400000,"frontMatter":{"title":"Delegation","authors":"Mathias Hiron (Nomadic Labs), Sasha Aldrick (TriliTech), Tim McMackin (TriliTech)","last_update":{"date":"5 October 2023"}},"sidebar":"documentationSidebar","previous":{"title":"Events","permalink":"/previews/docs/biel-chatbot/smart-contracts/events"},"next":{"title":"Multi-signature contracts","permalink":"/previews/docs/biel-chatbot/smart-contracts/multisig"}}');var o=n(74848),s=n(28453);const r={title:"Delegation",authors:"Mathias Hiron (Nomadic Labs), Sasha Aldrick (TriliTech), Tim McMackin (TriliTech)",last_update:{date:"5 October 2023"}},i=void 0,c={},l=[{value:"Implementation details",id:"implementation-details",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Placing your tez in a smart contract means you can't stake them towards baking or delegate them to get rewards.\nHowever, the smart contract itself can delegate the tez it holds and  distribute the rewards to the original owners of the tez or keep them in its balance."}),"\n",(0,o.jsx)(t.p,{children:"To manage delegation, you can implement these features:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Set, update, or remove the address of the baker that you want the contract to delegate its tez to (",(0,o.jsx)(t.code,{children:"SET_DELEGATE"}),")."]}),"\n",(0,o.jsxs)(t.li,{children:["Obtain the voting power of a contract (a delegate), which is based on its total staking balance as computed at the beginning of the voting period (",(0,o.jsx)(t.code,{children:"VOTING_POWER"}),")."]}),"\n",(0,o.jsxs)(t.li,{children:["Obtain the total voting power of all contracts (",(0,o.jsx)(t.code,{children:"TOTAL_VOTING_POWER"}),")."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"In practice, both the voting power of a contract and the total voting power of all contracts are expressed as a number of mutez, but this may change with time as the protocol evolves."}),"\n",(0,o.jsx)(t.h2,{id:"implementation-details",children:"Implementation details"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Michelson: ",(0,o.jsx)(t.a,{href:"https://tezos.gitlab.io/active/michelson.html#operations-on-contracts",children:"Operations on contracts"})]}),"\n",(0,o.jsxs)(t.li,{children:["Archetype: ",(0,o.jsx)(t.a,{href:"https://archetype-lang.org/docs/reference/expressions/constants#total_voting_power",children:"Total voting power"}),", ",(0,o.jsx)(t.a,{href:"https://archetype-lang.org/docs/reference/expressions/builtins#voting_power%28k%20:%20key_hash%29",children:"Voting power"}),", ",(0,o.jsx)(t.a,{href:"https://archetype-lang.org/docs/reference/expressions/builtins#set_delegate%28opkh%20:%20option%3Ckey_hash%3E%29",children:"set_delegate"})]}),"\n",(0,o.jsxs)(t.li,{children:["SmartPy: ",(0,o.jsx)(t.a,{href:"https://smartpy.io/manual/syntax/operations",children:"Operations"})]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var a=n(96540);const o={},s=a.createContext(o);function r(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);