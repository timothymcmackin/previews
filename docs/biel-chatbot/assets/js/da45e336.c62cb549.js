"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[3652],{2590:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"tutorials/smart-rollup/debug","title":"Part 2: Running the kernel in debug mode","description":"Octez provides a command named octez-smart-rollup-wasm-debugger that runs Smart Rollups in debug mode to make it easier to test and observe them.","source":"@site/docs/tutorials/smart-rollup/debug.md","sourceDirName":"tutorials/smart-rollup","slug":"/tutorials/smart-rollup/debug","permalink":"/previews/docs/biel-chatbot/tutorials/smart-rollup/debug","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1698206400000,"frontMatter":{"title":"Part 2: Running the kernel in debug mode","last_update":{"date":"25 October 2023"}},"sidebar":"tutorialsSidebar","previous":{"title":"Part 1: Setting up the application","permalink":"/previews/docs/biel-chatbot/tutorials/smart-rollup/set-up"},"next":{"title":"Part 3: Optimizing the kernel","permalink":"/previews/docs/biel-chatbot/tutorials/smart-rollup/optimize"}}');var o=n(74848),r=n(28453);const l={title:"Part 2: Running the kernel in debug mode",last_update:{date:"25 October 2023"}},i=void 0,a={},d=[];function c(e){const t={code:"code",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["Octez provides a command named ",(0,o.jsx)(t.code,{children:"octez-smart-rollup-wasm-debugger"})," that runs Smart Rollups in debug mode to make it easier to test and observe them.\nLater, you will deploy the rollup to the sandbox, but running it in debug mode first verifies that it built correctly."]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["In the terminal window inside the Docker container, go to the ",(0,o.jsx)(t.code,{children:"hello_world_kernel"})," folder."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"Run this command to start the rollup and pass an empty message inbox to it:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"octez-smart-rollup-wasm-debugger \\\n  --kernel target/wasm32-unknown-unknown/debug/hello_world_kernel.wasm \\\n  --inputs empty_input.json\n"})}),"\n",(0,o.jsx)(t.p,{children:"The command prompt changes again to show that you are in debugging mode, which steps through commands."}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"At the debugging prompt, run this command to send the message inbox to the kernel:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"step inbox\n"})}),"\n",(0,o.jsx)(t.p,{children:"The response shows the logging information for the kernel, including these parts:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:['The message "Hello, kernel" from the ',(0,o.jsx)(t.code,{children:"hello_kernel"})," function"]}),"\n",(0,o.jsx)(t.li,{children:'The message "Got message: Internal(StartOfLevel)," which represents the start of the message inbox'}),"\n",(0,o.jsx)(t.li,{children:'The message "Got message: Internal(InfoPerLevel(InfoPerLevel ...," which provides the hash and timestamp of the previous block'}),"\n",(0,o.jsx)(t.li,{children:'The message "Got message: Internal(EndOfLevel)," which represents the end of the message inbox'}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"Press Ctrl + C to end debugging mode."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Now you know that the kernel works.\nIn the next section, you optimize the kernel to be deployed to the sandbox."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>i});var s=n(96540);const o={},r=s.createContext(o);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);