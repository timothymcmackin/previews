"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[449],{49102:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"unity/connecting-accounts","title":"Connecting accounts","description":"Connecting to a user\'s wallet allows your application to see the tokens in it and to prompt the user to submit transactions, but it does not give your application direct control over the wallet.","source":"@site/docs/unity/connecting-accounts.md","sourceDirName":"unity","slug":"/unity/connecting-accounts","permalink":"/previews/docs/biel-custom-location/unity/connecting-accounts","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1732510800000,"frontMatter":{"title":"Connecting accounts","authors":"Tim McMackin","last_update":{"date":"25 November 2024"}},"sidebar":"documentationSidebar","previous":{"title":"Quickstart","permalink":"/previews/docs/biel-custom-location/unity/quickstart"},"next":{"title":"Calling contracts","permalink":"/previews/docs/biel-custom-location/unity/calling-contracts"}}');var s=t(74848),o=t(28453);const c={title:"Connecting accounts",authors:"Tim McMackin",last_update:{date:"25 November 2024"}},l=void 0,a={},r=[{value:"Best practices",id:"best-practices",level:2},{value:"Connection methods",id:"connection-methods",level:2},{value:"Wallet types",id:"wallet-types",level:2},{value:"Connecting to Beacon wallets",id:"connecting-to-beacon-wallets",level:2},{value:"Connecting to WalletConnect wallets",id:"connecting-to-walletconnect-wallets",level:2},{value:"Connecting to social wallets",id:"connecting-to-social-wallets",level:2},{value:"Checking the connection type",id:"checking-the-connection-type",level:2},{value:"Disconnecting",id:"disconnecting",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Connecting to a user's wallet allows your application to see the tokens in it and to prompt the user to submit transactions, but it does not give your application direct control over the wallet.\nUsers still confirm or reject all transactions in their wallet application, so you must handle both of these use cases."}),"\n",(0,s.jsx)(n.p,{children:"Using a wallet application in this way saves you from having to implement payment processing and security in your application.\nGame developers can also use the wallet and its account as a unique account identifier and as the user's inventory."}),"\n",(0,s.jsxs)(n.p,{children:["For more information about Tezos wallets, see ",(0,s.jsx)(n.a,{href:"/developing/wallet-setup",children:"Installing and funding a wallet"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,s.jsxs)(n.p,{children:["When working with wallets, be sure to follow the advice in ",(0,s.jsx)(n.a,{href:"/dApps/best-practices",children:"Best practices and avoiding flaws"})," for wallet connections.\nFor example, don't force the user to connect their wallet as soon as the application loads.\nInstead, let them see the application first.\nAlso, provide a prominent disconnect button to allow users to disconnect one account and connect a different one."]}),"\n",(0,s.jsx)(n.h2,{id:"connection-methods",children:"Connection methods"}),"\n",(0,s.jsx)(n.p,{children:"This table shows the ways that the SDK can connect to wallets and which platforms they are appropriate for:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Connection method"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Web platform (WebGL)"}),(0,s.jsx)(n.th,{children:"Mobile apps"}),(0,s.jsx)(n.th,{children:"Standalone applications"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"QR code"}),(0,s.jsx)(n.td,{children:"Users scan a QR code with a wallet app"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Deep link"}),(0,s.jsx)(n.td,{children:"The application opens the user's wallet app directly"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Social wallets"}),(0,s.jsx)(n.td,{children:"The application opens the user's Kukai web-based wallet"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["When wallets connect or disconnect, the SDK runs the ",(0,s.jsx)(n.code,{children:"WalletConnected"})," or ",(0,s.jsx)(n.code,{children:"WalletDisconnect"})," events for non-social wallets and the ",(0,s.jsx)(n.code,{children:"SocialLoggedIn"})," and ",(0,s.jsx)(n.code,{children:"SocialLoggedOut"})," events for social wallets."]}),"\n",(0,s.jsx)(n.h2,{id:"wallet-types",children:"Wallet types"}),"\n",(0,s.jsx)(n.p,{children:"The SDK supports three types of wallets:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Wallets that use the Tezos blockchain and connect to applications through the Beacon protocol, such as Temple"}),"\n",(0,s.jsxs)(n.li,{children:["Wallets that use the Tezos blockchain and connect to a federated identity login through ",(0,s.jsx)(n.a,{href:"https://wallet.kukai.app",children:"Kukai"})]}),"\n",(0,s.jsx)(n.li,{children:"Wallets that use the Etherlink blockchain and connect to applications through the WalletConnect protocol, such as MetaMask"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"connecting-to-beacon-wallets",children:"Connecting to Beacon wallets"}),"\n",(0,s.jsxs)(n.p,{children:["Unity applications can connect to Beacon wallets by showing a QR code that the user scans with a wallet app or by opening that app directly through the Beacon protocol.\nFor an example of this method, see ",(0,s.jsx)(n.a,{href:"/unity/quickstart",children:"Quickstart"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"This method for connecting follows these general steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The Unity application calls the ",(0,s.jsx)(n.code,{children:"TezosAPI.ConnectWallet()"})," method and passes the Beacon wallet type:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'var walletProviderData = new WalletProviderData { WalletType = WalletType.BEACON };\ntry\n{\n    var result = await TezosAPI.ConnectWallet(walletProviderData);\n    _infoText.text = result.WalletAddress;\n}\ncatch (WalletConnectionRejected e)\n{\n    _infoText.text = "Wallet connection rejected";\n    Debug.LogError($"Wallet connection rejected. {e.Message}\\n{e.StackTrace}");\n}\ncatch (Exception e)\n{\n    Debug.LogException(e);\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The Unity application connects in different ways depending on the platform:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"On WebGL applications, the SDK uses the Beacon SDK to open a popup window that prompts the user to select a compatible wallet via a deep link or to show a QR code:"}),"\n",(0,s.jsx)("img",{src:"/img/unity/unity-connecting-beacon-popup.png",alt:"The Beacon popup window with a QR code and a list of compatible wallets",style:{width:300}}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"On mobile applications, the application attempts to open a Beacon wallet on the same device directly."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["On mobile applications, you can also generate a barcode yourself.\nOn mobile applications, the ",(0,s.jsx)(n.code,{children:"TezosAPI.ConnectWallet()"})," method triggers the ",(0,s.jsx)(n.code,{children:"PairingRequested"})," event, which you can use to make the ",(0,s.jsx)(n.code,{children:"Tezos.QR.QrCodeGenerator"})," class generate a QR code and show it on the interface for the user to scan with a wallet app."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Regardless of the connection method, the SDK runs the ",(0,s.jsx)(n.code,{children:"WalletConnected"})," event and the ",(0,s.jsx)(n.code,{children:"TezosAPI.ConnectWallet()"})," method returns information about the connected account."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"connecting-to-walletconnect-wallets",children:"Connecting to WalletConnect wallets"}),"\n",(0,s.jsx)(n.p,{children:"Unity applications can connect to EVM wallets such as MetaMask by showing a popup window that helps users connect.\nThe popup window can show a QR code for wallet apps to scan or open wallet apps on devices directly."}),"\n",(0,s.jsx)(n.p,{children:"Follow these steps to connect to a wallet with the WalletConnect protocol:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install the Tezos Unity WalletConnect SDK:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Make sure the Tezos Unity SDK is installed as described in ",(0,s.jsx)(n.a,{href:"/unity/quickstart#installing-the-sdk",children:"Installing the SDK"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In your Unity project, in the Package Manager panel, click the ",(0,s.jsx)(n.code,{children:"+"})," symbol and then click ",(0,s.jsx)(n.strong,{children:"Add package from git URL"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Enter the URL ",(0,s.jsx)(n.code,{children:"https://github.com/trilitech/tezos-wallet-connect-unity-sdk.git"})," and click ",(0,s.jsx)(n.strong,{children:"Add"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The Package Manager panel downloads and installs the WalletConnect SDK."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In the Unity project, add a button that users click to connect their wallet and a button that users click to disconnect their wallet.\nYou will add code to these buttons in a later step.\nYou can also use a single button and change its behavior to connect or disconnect based on whether there is a currently connected wallet."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Add a TextMeshPro text field to show information about the connection, such as the account address."}),"\n",(0,s.jsx)(n.p,{children:"The scene looks similar to this example:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"An example of how the scene might look with information text, connection buttons, and a space for the QR code",src:t(85840).A+"",width:"479",height:"199"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In your Unity project, add a class in a script file to hold the code for the connection operations.\nThe class must inherit from the Unity ",(0,s.jsx)(n.code,{children:"MonoBehaviour"})," class, as in this example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using System;\nusing Netezos.Encoding;\nusing Tezos.API;\nusing Tezos.Operation;\nusing Tezos.WalletProvider;\nusing TMPro;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class MyScripts : MonoBehaviour\n{\n    [SerializeField] private TMP_Text _infoText;\n    [SerializeField] private Button _connectButton;\n    [SerializeField] private Button _disconnectButton;\n\n    private async void Awake()\n    {\n        await TezosAPI.WaitUntilSDKInitialized();\n\n        // Check for prior connections\n        if (TezosAPI.IsConnected()) _infoText.text = TezosAPI.GetConnectionAddress();\n\n        // Run functions when users click buttons\n        _connectButton.onClick.AddListener(OnConnectClicked);\n        _disconnectButton.onClick.AddListener(OnDisconnectClicked);\n    }\n\n    private async void OnConnectClicked()\n    {\n        // Connect to an EVM wallet such as MetaMask\n        var walletProviderData = new WalletProviderData { WalletType = WalletType.WALLETCONNECT };\n        try\n        {\n            var result = await TezosAPI.ConnectWallet(walletProviderData);\n            _infoText.text = result.WalletAddress;\n        }\n        catch (WalletConnectionRejected e)\n        {\n            _infoText.text = "Wallet connection rejected";\n            Debug.LogError($"Wallet connection rejected. {e.Message}\\n{e.StackTrace}");\n        }\n        catch (Exception e)\n        {\n            Debug.LogException(e);\n        }\n    }\n\n    private async void OnDisconnectClicked()\n    {\n        // Disconnect the currently connected wallet\n        try\n        {\n            var result = await TezosAPI.Disconnect();\n            _infoText.text = "Disconnected";\n        }\n        catch (Exception e)\n        {\n            Debug.LogException(e);\n        }\n    }\n\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"This code includes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Objects that represent the buttons and a text field to show information on the screen"}),"\n",(0,s.jsxs)(n.li,{children:["An ",(0,s.jsx)(n.code,{children:"Awake()"})," (or ",(0,s.jsx)(n.code,{children:"Start()"}),") method that waits for the ",(0,s.jsx)(n.code,{children:"TezosAPI.WaitUntilSDKInitialized()"})," method to complete, which indicates that the SDK is ready"]}),"\n",(0,s.jsx)(n.li,{children:"A check to see if a wallet is already connected, because Beacon can automatically remember previously connected wallets"}),"\n",(0,s.jsx)(n.li,{children:"Listeners to run when users click the buttons, in this case a connect button and a disconnect button"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"On the component that represents your script, drag the connection buttons and text information field to bind them to the objects in your script, as in this image:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Binding the buttons and text field to the objects in your script",src:t(35955).A+"",width:"368",height:"148"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Play the scene."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"When the scene loads, click the connection button."}),"\n",(0,s.jsx)(n.p,{children:"The application shows a WalletConnect popup window with an option to open compatible wallet apps or show a QR code."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In your Tezos wallet, scan the QR code and connect to the application."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"connecting-to-social-wallets",children:"Connecting to social wallets"}),"\n",(0,s.jsxs)(n.p,{children:["Social wallets exist as federated identity accounts managed by web apps such as ",(0,s.jsx)(n.a,{href:"https://kukai.app/",children:"Kukai"}),".\nTo connect to a social wallet, the Unity application calls"]}),"\n",(0,s.jsxs)(n.p,{children:["To connect to a social wallet, the Unity WebGL application calls ",(0,s.jsx)(n.code,{children:"Wallet.Connect()"})," with the ",(0,s.jsx)(n.code,{children:"walletProvider"})," parameter set to ",(0,s.jsx)(n.code,{children:"WalletProviderType.kukai"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Follow these steps to connect the application to social wallets:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"For testing purposes, set up a local social login server.\nThis server acts as the federated identity server that manages user accounts."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Run the example server at ",(0,s.jsx)(n.a,{href:"https://github.com/trilitech/social-login-web-client",children:"https://github.com/trilitech/social-login-web-client"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Open the server in a web browser at ",(0,s.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Use the Kukai log in window to log in to a social account:"}),"\n",(0,s.jsx)("img",{src:"/img/unity/kukai-sample-server.png",alt:"The Kukai login window",style:{width:300}}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the browser console, search for the phrase ",(0,s.jsx)(n.code,{children:"OPENING DEEPLINK"})," and copy the URL for the deep link, which starts with ",(0,s.jsx)(n.code,{children:"unitydl001://kukai-embed/"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Configure the test script for social logins:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the Unity application, add a script named ",(0,s.jsx)(n.code,{children:"DeepLinkTester.cs"})," with this code:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using System.Reflection;\nusing UnityEngine;\n\nnamespace Samples.RefactorExample\n{\n    public class DeepLinkTester : MonoBehaviour\n    {\n        public string deepLinkURL = "";\n\n        [ContextMenu("Trigger Deep Link")]\n        public void SimulateDeepLinkActivation()\n        {\n            // Use reflection to invoke the internal InvokeDeepLinkActivated method\n            var methodInfo = typeof(Application).GetMethod("InvokeDeepLinkActivated", BindingFlags.NonPublic | BindingFlags.Static);\n\n            methodInfo?.Invoke(null, new object[]\n                                     {\n                                         deepLinkURL\n                                     });\n        }\n    }\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add the script to the canvas, open it, and add the URI in the ",(0,s.jsx)(n.strong,{children:"Deep Link URL"})," field:"]}),"\n",(0,s.jsx)("img",{src:"/img/unity/kukai-test-url.png",alt:"Setting the URL",style:{width:300}}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the Unity application, call the ",(0,s.jsx)(n.code,{children:"TezosAPI.SocialLogIn()"})," method and passes the Kukai wallet type:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'try\n{\n    SocialProviderData socialProviderData = new SocialProviderData { SocialLoginType = SocialLoginType.Kukai };\n    var result = await TezosAPI.SocialLogIn(socialProviderData);\n    _infoText.text = result.WalletAddress;\n    Debug.Log(result.WalletAddress);\n}\ncatch (SocialLogInFailed e)\n{\n    _infoText.text = "Social login rejected";\n    Debug.LogError($"Social login rejected. {e.Message}\\n{e.StackTrace}");\n}\ncatch (Exception e)\n{\n    Debug.LogException(e);\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Bind the code that uses ",(0,s.jsx)(n.code,{children:"TezosAPI.SocialLogIn()"})," to a button."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Test the application by running it:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run the application."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click the button that triggers the ",(0,s.jsx)(n.code,{children:"TezosAPI.SocialLogIn()"})," code."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.code,{children:"DeepLinkTester.cs"})," script, click the properties and then click ",(0,s.jsx)(n.strong,{children:"Trigger Deep Link"}),":"]}),"\n",(0,s.jsx)("img",{src:"/img/unity/kukai-trigger-deep-link.png",alt:"Triggering the URL for the deep link",style:{width:300}}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The deep link provides the connection information to the SDK and the call to ",(0,s.jsx)(n.code,{children:"TezosAPI.SocialLogIn()"})," resolves with the wallet connection."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"When you are ready to deploy the Unity app to production, you must run a social login server and make the application use it:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Run the social login server using the example at ",(0,s.jsx)(n.a,{href:"https://github.com/trilitech/social-login-web-client",children:"https://github.com/trilitech/social-login-web-client"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.code,{children:"Assets/Tezos/Resources/TezosConfig.asset"})," object, in the ",(0,s.jsx)(n.strong,{children:"Kukai Web Client Address"})," field, add the URL of your social login server to use.\nThis is a server that you run tp handle authentication for your application.\nFor an example, see ",(0,s.jsx)(n.a,{href:"https://github.com/trilitech/social-login-web-client",children:"https://github.com/trilitech/social-login-web-client"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Now when the app is deployed it sends users to your server to log in and the server returns a deep link to the app."}),"\n",(0,s.jsx)(n.h2,{id:"checking-the-connection-type",children:"Checking the connection type"}),"\n",(0,s.jsx)(n.p,{children:"To verify that the application is connected to a wallet, use one of these methods:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TezosAPI.IsConnected()"}),": Returns true if any kind of wallet is connected to the application and false if not."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TezosAPI.IsWalletConnected()"}),": Returns true if a Beacon or WalletConnect wallet is connected."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TezosAPI.IsSocialLoggedIn()"}),": Returns true if a social wallet is connected."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["To distinguish between Beacon and WalletConnect wallets, use ",(0,s.jsx)(n.code,{children:"TezosAPI.GetWalletConnectionData()"}),".\nThis method returns a ",(0,s.jsx)(n.code,{children:"WalletProviderData"})," object that includes information about the connected wallet and account.\nIts ",(0,s.jsx)(n.code,{children:"WalletType"})," field is ",(0,s.jsx)(n.code,{children:"WalletType.BEACON"})," for Beacon wallets and ",(0,s.jsx)(n.code,{children:"WalletType.WALLETCONNECT"})," for WalletConnect wallets."]}),"\n",(0,s.jsx)(n.h2,{id:"disconnecting",children:"Disconnecting"}),"\n",(0,s.jsxs)(n.p,{children:["It's important to provide a disconnect button so the user can disconnect when they are finished with the application or if they want to connect with a different account.\nTo disconnect the active wallet, call the ",(0,s.jsx)(n.code,{children:"Wallet.Disconnect()"})," method.\nThis method triggers the ",(0,s.jsx)(n.code,{children:"WalletDisconnected"})," event and removes the connection from the wallet app.\nFor Beacon connections, it removes the connection from the persistent memory."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},85840:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/unity-scene-layout-walletconnect-07bb257290e247863fd637d496f0beae.png"},35955:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/unity-scripts-walletconnect-8f0d2a3d72c34018fdf46bcc0877cfe3.png"},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>l});var i=t(96540);const s={},o=i.createContext(s);function c(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);