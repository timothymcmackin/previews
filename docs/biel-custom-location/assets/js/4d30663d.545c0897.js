"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9887],{70159:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"architecture/nodes","title":"Nodes","description":"Tezos nodes are peer-to-peer programs running the Tezos protocol to participate in the Tezos network.","source":"@site/docs/architecture/nodes.md","sourceDirName":"architecture","slug":"/architecture/nodes","permalink":"/previews/docs/biel-custom-location/architecture/nodes","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1713240000000,"frontMatter":{"title":"Nodes","authors":"Tim McMackin","last_update":{"date":"16 April 2024"}},"sidebar":"documentationSidebar","previous":{"title":"Architecture","permalink":"/previews/docs/biel-custom-location/architecture"},"next":{"title":"Bakers","permalink":"/previews/docs/biel-custom-location/architecture/bakers"}}');var s=n(74848),i=n(28453);const r={title:"Nodes",authors:"Tim McMackin",last_update:{date:"16 April 2024"}},a=void 0,c={},l=[{value:"Protocol and shell",id:"protocol-and-shell",level:2},{value:"The protocol",id:"the-protocol",level:3},{value:"The shell",id:"the-shell",level:3},{value:"The RPC interface",id:"the-rpc-interface",level:2},{value:"Public and private RPC nodes",id:"public-and-private-rpc-nodes",level:3}];function h(e){const t={a:"a",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Tezos nodes are peer-to-peer programs running the Tezos protocol to participate in the Tezos network.\nAnyone can run a Tezos node."}),"\n",(0,s.jsx)(t.p,{children:"A Tezos node has three main roles:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"It validates blocks and operations"}),"\n",(0,s.jsx)(t.li,{children:"It broadcasts blocks and operations to other nodes and receives them from other nodes over a peer-to-peer network"}),"\n",(0,s.jsx)(t.li,{children:"It maintains a copy of the blockchain data and its associated state (also known as the ledger), which includes accounts and their balances, among other things"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Beside these technical roles, nodes must satisfy two other important requirements:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Support the governance of the blockchain"}),"\n",(0,s.jsx)(t.li,{children:"Ensure the extensibility of the blockchain with new clients of different kinds"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"In order to meet these requirements, the software that nodes run is structured according to two major principles:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"It is separated into a protocol and a shell to make it easier to upgrade."}),"\n",(0,s.jsx)(t.li,{children:"It implements a client/server architecture, to allow composition with many other tools in a safe way."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Nodes cooperate with clients and with each other through an ",(0,s.jsx)(t.a,{href:"#the-rpc-interface",children:"RPC interface"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["The Octez suite, which is an implementation of the Tezos node and other executables, instantiates these principles in the ",(0,s.jsx)(t.a,{href:"https://octez.tezos.com/docs/shell/the_big_picture.html",children:"Octez software architecture"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["For instructions on running a node, see the tutorial ",(0,s.jsx)(t.a,{href:"/tutorials/join-dal-baker",children:"Run a Tezos node in 5 steps"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"protocol-and-shell",children:"Protocol and shell"}),"\n",(0,s.jsx)(t.p,{children:"The software that runs Tezos nodes is split into two main parts:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The protocol, which interprets transactions and other operations in each block (also known as the ",(0,s.jsx)(t.em,{children:"economic protocol"}),")"]}),"\n",(0,s.jsx)(t.li,{children:"The shell, which handles low-level functions like data storage and peer-to-peer network communication"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The relationship between the shell and the protocol is like the relationship between an operating system and an application.\nThe operating system stays stable while the application can update itself.\nIn this way, Tezos can update how it works (its protocol) without requiring nodes to accept major changes to the software that they run (the shell).\nFor example, nodes can update to a new protocol version without restarting the shell."}),"\n",(0,s.jsx)(t.h3,{id:"the-protocol",children:"The protocol"}),"\n",(0,s.jsx)(t.p,{children:"The Tezos protocol is responsible for interpreting the operations in each block.\nIt also provides the logic that identifies erroneous blocks."}),"\n",(0,s.jsx)(t.p,{children:"Unlike many other blockchains, Tezos is self-amending.\nIts nodes can update the protocol that controls the possible operations and how they are processed; updates are performed via an online governance process.\nThese updates allow Tezos to adapt to new technologies and respond to user needs.\nFor example, protocol upgrades have added new features like Smart Rollups and have reduced the amount of time between blocks."}),"\n",(0,s.jsxs)(t.p,{children:["Users propose updates to the protocol through a voting process, using dedicated voting operations such as protocol proposals and protocol upvotes.\nFor information about the voting process, see ",(0,s.jsx)(t.a,{href:"governance",children:"Governance"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"the-shell",children:"The shell"}),"\n",(0,s.jsx)(t.p,{children:"The shell is responsible for the fundamental functions of a distributed software application, including:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Peer-to-peer communication that lets nodes exchange information"}),"\n",(0,s.jsx)(t.li,{children:"Storage functionality that lets nodes store blocks, operations, and the current state of the chain"}),"\n",(0,s.jsx)(t.li,{children:"A synchronization heuristic that starts nodes and keeps them in sync with the network"}),"\n",(0,s.jsx)(t.li,{children:"A validator that checks that blocks are valid with help from the rules in the economic protocol"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"In particular, the validator is responsible for resolving the available blocks into a single linear sequence of blocks.\nIt chooses between the various blocks that baking nodes create, uses the protocol to verify and score them, and selects the tree head with the highest score.\nThen it uses that linear chain in all of its work with the protocol, so the protocol is never aware of multiple branches."}),"\n",(0,s.jsx)(t.h2,{id:"the-rpc-interface",children:"The RPC interface"}),"\n",(0,s.jsx)(t.p,{children:"The Tezos RPC (Remote Procedure Call) interface is a specification for a REST API that clients use to interact with Tezos nodes and nodes use to communicate with each other."}),"\n",(0,s.jsx)(t.p,{children:"You may want to know this RPC interface if you are developing tools that need to query the Tezos blockchain or to interact with it, such as wallets, indexers, or Web3 libraries."}),"\n",(0,s.jsx)(t.p,{children:"Clients use this interface to submit transactions and get information about the state of the blockchain, such as account balances and contract storage.\nTezos nodes act as servers and accept HTTP requests from clients and other nodes via this interface."}),"\n",(0,s.jsx)(t.p,{children:"Tezos RPC uses JSON to send and receive data, but it does not adhere to the JSON-RPC specification."}),"\n",(0,s.jsxs)(t.p,{children:["All the RPCs served by the Tezos node are described as an OpenAPI specification at ",(0,s.jsx)(t.a,{href:"https://octez.tezos.com/docs/api/openapi.html#octez-node",children:"Octez Node RPCs"})," in the Octez documentation."]}),"\n",(0,s.jsx)(t.h3,{id:"public-and-private-rpc-nodes",children:"Public and private RPC nodes"}),"\n",(0,s.jsx)(t.p,{children:"All Tezos nodes run RPC servers, but the RPC interface is subject to an access policy.\nBy default, RPC servers are private and do not accept all requests from every client."}),"\n",(0,s.jsx)(t.p,{children:"When you work with a Tezos client, such as the Octez command-line client or the Taquito SDK, you select a public RPC node to send transactions to, or you can use a private RPC node that you have access to."}),"\n",(0,s.jsxs)(t.p,{children:["If you're using a testnet, you can get a list of public RPC nodes for that network at ",(0,s.jsx)(t.a,{href:"https://teztnets.com",children:"https://teztnets.com"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Other sources of public nodes include:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://tezostaquito.io/docs/rpc_nodes",children:"Community RPC Nodes"})," listed by ECAD Labs."]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://smartpy.io/nodes",children:"SmartPy nodes"})}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://tezostaquito.io/docs/rpc_nodes",children:"RPC nodes"})," in the Taquito documentation"]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var o=n(96540);const s={},i=o.createContext(s);function r(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);