"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[131],{34048:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"developing/sandbox","title":"Using a local sandbox","description":"Local sandboxes allow you to test your work without sending any transactions to Tezos Mainnet or testnets.","source":"@site/docs/developing/sandbox.md","sourceDirName":"developing","slug":"/developing/sandbox","permalink":"/previews/docs/docmap-thumbnail/developing/sandbox","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1731474000000,"frontMatter":{"title":"Using a local sandbox","authors":"Mathias Hiron, Nomadic Labs, Tim McMackin, TriliTech","last_update":{"date":"13 November 2024"},"dependencies":{"tezbox":21.1}},"sidebar":"documentationSidebar","previous":{"title":"Testing on testnets","permalink":"/previews/docs/docmap-thumbnail/developing/testnets"},"next":{"title":"Storing data and files with IPFS","permalink":"/previews/docs/docmap-thumbnail/developing/ipfs"}}');var s=t(74848),a=t(28453);const i={title:"Using a local sandbox",authors:"Mathias Hiron, Nomadic Labs, Tim McMackin, TriliTech",last_update:{date:"13 November 2024"},dependencies:{tezbox:21.1}},c=void 0,r={},l=[{value:"Octez sandboxed and mockup modes",id:"octez-sandboxed-and-mockup-modes",level:2},{value:"Tezbox",id:"tezbox",level:2},{value:"Flextesa",id:"flextesa",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Local sandboxes allow you to test your work without sending any transactions to Tezos Mainnet or testnets.\nThey run a simulated version of the Tezos protocol locally so you can test contracts, dApps, or other projects while interacting with actual nodes, but without using a public test network or creating your own private network."}),"\n",(0,s.jsx)(n.p,{children:"Sandboxes can be convenient if you want to run all your tests locally but still need a realistic Tezos environment, such as if you need to interact with nodes and the consensus mechanism.\nTesting locally can also keep your work confidential until you decide to put it into production."}),"\n",(0,s.jsxs)(n.p,{children:["However, sandboxes lack some features that ",(0,s.jsx)(n.a,{href:"/developing/testnets",children:"testnets"})," have, such as indexers and block explorers.\nIf you want an indexer or block explorer for your sandbox, you must run it yourself."]}),"\n",(0,s.jsx)(n.p,{children:"Here are some options for running local Tezos sandboxes:"}),"\n",(0,s.jsx)(n.h2,{id:"octez-sandboxed-and-mockup-modes",children:"Octez sandboxed and mockup modes"}),"\n",(0,s.jsx)(n.p,{children:"The Octez client sandboxed and mockup modes run a local version of the Tezos network."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://octez.tezos.com/docs/user/sandbox.html",children:"Sandboxed mode"})," runs a local network with one or more nodes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://octez.tezos.com/docs/user/mockup.html",children:"Mockup mode"})," runs a light version of the network without nodes."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"tezbox",children:"Tezbox"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/tez-capital/tezbox",children:"Tezbox"})," is a simulated Tezos environment that runs in a container."]}),"\n",(0,s.jsx)(n.p,{children:"Tezbox provides different images that mirror versions of the Octez suite.\nFor example, to run Tezbox with Octez version 19.1 and the Paris protocol, run this command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run --rm -it --name tezbox -p 0.0.0.0:8732:8732 ghcr.io/tez-capital/tezbox:tezos-v20.3 parisbox\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The container runs in the background and provides an RPC node at ",(0,s.jsx)(n.a,{href:"http://localhost:8732",children:"http://localhost:8732"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Then you can use the sandbox through that RPC node.\nFor example, you can configure the Octez client to use the sandbox by running this command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"octez-client -E http://localhost:8732 config update\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then you can use your local installation of the Octez client to interact with the sandbox, such as deploying contracts and sending transactions."}),"\n",(0,s.jsxs)(n.p,{children:["Tezbox provides sample accounts in the ",(0,s.jsx)(n.code,{children:"/tezbox/context/accounts.json"})," file."]}),"\n",(0,s.jsx)(n.h2,{id:"flextesa",children:"Flextesa"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://tezos.gitlab.io/flextesa/",children:"Flextesa"})," is also a simulated Tezos environment that runs in a container."]}),"\n",(0,s.jsx)(n.p,{children:"The Flextesa image has different scripts that start different versions of the Tezos protocol.\nFor example, to start a Flextesa sandbox with the Oxford protocol, run this command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'image=oxheadalpha/flextesa:latest\nscript=oxfordbox\ndocker run --rm --name "$script" --detach -p 20000:20000 \\\n       -e block_time=3 \\\n       "$image" "$script" start\n'})}),"\n",(0,s.jsx)(n.p,{children:"Then you can see the accounts that are available by running this command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker exec $script $script info\n"})}),"\n",(0,s.jsx)(n.p,{children:"The Flextesa image comes with the Octez client pre-configured, so you can use it directly from the image.\nThese commands create an alias for the installation of the Octez client in the image and uses it from the host system:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"alias tcli='docker exec my-sandbox octez-client'\ntcli get balance for alice\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now you can use the Octez client to deploy contracts and send transactions to the sandbox."}),"\n",(0,s.jsx)(n.p,{children:"Flextesa allows you to control baking manually, so blocks are only backed when you trigger them."}),"\n",(0,s.jsxs)(n.p,{children:["For more information, see the ",(0,s.jsx)(n.a,{href:"https://tezos.gitlab.io/flextesa/",children:"Flextesa documentation"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var o=t(96540);const s={},a=o.createContext(s);function i(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);