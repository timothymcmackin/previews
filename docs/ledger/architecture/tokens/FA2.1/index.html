<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-architecture/tokens/FA2.1" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">FA2.1 tokens | Tezos Developer Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://timothymcmackin.github.io/previews/docs/ledger/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://timothymcmackin.github.io/previews/docs/ledger/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://timothymcmackin.github.io/previews/docs/ledger/architecture/tokens/FA2.1"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FA2.1 tokens | Tezos Developer Documentation"><meta data-rh="true" name="description" content="The FA2.1 standard adds several features to tokens while remaining backward-compatible with the FA2 standard."><meta data-rh="true" property="og:description" content="The FA2.1 standard adds several features to tokens while remaining backward-compatible with the FA2 standard."><link data-rh="true" rel="icon" href="/previews/docs/ledger/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://timothymcmackin.github.io/previews/docs/ledger/architecture/tokens/FA2.1"><link data-rh="true" rel="alternate" href="https://timothymcmackin.github.io/previews/docs/ledger/architecture/tokens/FA2.1" hreflang="en"><link data-rh="true" rel="alternate" href="https://timothymcmackin.github.io/previews/docs/ledger/architecture/tokens/FA2.1" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QRIAHGML9Q-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-56M3FZ8",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.css">

<meta http-equiv="Content-Security-Policy" content=" default-src &#39;none&#39;; base-uri &#39;self&#39;; manifest-src &#39;self&#39;; script-src https://*.googletagmanager.com https://cdn.jsdelivr.net &#39;self&#39; &#39;unsafe-inline&#39;; style-src https://cdn.jsdelivr.net &#39;self&#39; &#39;unsafe-inline&#39;; font-src https://cdn.jsdelivr.net &#39;self&#39;; img-src &#39;self&#39; https://*.googletagmanager.com https://*.google-analytics.com data:; media-src &#39;self&#39;; form-action &#39;self&#39;; connect-src &#39;self&#39; https://*.algolia.net https://*.algolianet.com https://*.googletagmanager.com https://*.google-analytics.com https://*.analytics.google.com https://app.pushfeedback.com; frame-src https://tezosbot.vercel.app;">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/previews/docs/ledger/assets/css/styles.afe510e3.css">
<script src="/previews/docs/ledger/assets/js/runtime~main.d7ca23cb.js" defer="defer"></script>
<script src="/previews/docs/ledger/assets/js/main.dd1a0a77.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56M3FZ8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/previews/docs/ledger/"><div class="navbar__logo"><img src="/previews/docs/ledger/img/logo-tezos.svg" alt="Developer Docs for Tezos" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/previews/docs/ledger/img/logo-tezos.svg" alt="Developer Docs for Tezos" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Tezos Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/previews/docs/ledger/overview/">Documentation</a><a class="navbar__item navbar__link" href="/previews/docs/ledger/tutorials">Tutorials</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/trilitech/tezos-developer-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/previews/docs/ledger/overview/">Overview</a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/previews/docs/ledger/using">Using Tezos</a><button aria-label="Expand sidebar category &#x27;Using Tezos&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/previews/docs/ledger/architecture">Architecture</a><button aria-label="Collapse sidebar category &#x27;Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/nodes">Nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/bakers">Bakers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/accusers">Accusers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/accounts">Accounts and addresses</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/previews/docs/ledger/architecture/tokens">Tokens</a><button aria-label="Collapse sidebar category &#x27;Tokens&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/tokens/FA1.2">FA1.2 tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/tokens/FA2">FA2 tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/previews/docs/ledger/architecture/tokens/FA2.1">FA2.1 tokens</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/smart-rollups">Smart Rollups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/docs/ledger/architecture/data-availability-layer">The Data Availability Layer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/previews/docs/ledger/architecture/governance">Governance</a><button aria-label="Expand sidebar category &#x27;Governance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/previews/docs/ledger/developing">Developing on Tezos</a><button aria-label="Expand sidebar category &#x27;Developing on Tezos&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/previews/docs/ledger/smart-contracts">Smart contracts</a><button aria-label="Expand sidebar category &#x27;Smart contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/previews/docs/ledger/dApps">Decentralized applications (dApps)</a><button aria-label="Expand sidebar category &#x27;Decentralized applications (dApps)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/previews/docs/ledger/unity">Tezos Unity SDK</a><button aria-label="Expand sidebar category &#x27;Tezos Unity SDK&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/docs/ledger/reference/style-guide">Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/previews/docs/ledger/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/previews/docs/ledger/architecture"><span itemprop="name">Architecture</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/previews/docs/ledger/architecture/tokens"><span itemprop="name">Tokens</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FA2.1 tokens</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>FA2.1 tokens</h1></header><p>The FA2.1 standard adds several features to tokens while remaining backward-compatible with the FA2 standard.</p>
<p>Like FA2 tokens, FA2.1 tokens can be fungible or non-fungible.</p>
<p>For the full details of the FA2.1 standard, see <a href="https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-26/tzip-26.md" target="_blank" rel="noopener noreferrer">Tezos Improvement Proposal 26 (TZIP-26)</a>, which defines the standard.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="major-changes-from-fa2">Major changes from FA2<a href="#major-changes-from-fa2" class="hash-link" aria-label="Direct link to Major changes from FA2" title="Direct link to Major changes from FA2">​</a></h2>
<ul>
<li>
<p>FA2.1 allows contracts to export tokens as tickets, use those tickets outside of the contract, and import those tickets back into the contract.</p>
</li>
<li>
<p>FA2.1 includes on-chain <a href="/previews/docs/ledger/smart-contracts/views">views</a> that allow contracts to provide information to on-chain and off-chain applications.</p>
</li>
<li>
<p>FA2.1 includes <a href="/previews/docs/ledger/smart-contracts/events">events</a>, which provide notifications of token-related activity to off-chain applications.</p>
</li>
<li>
<p>FA2.1 adds the concept of allowances from FA1.2 so contracts can use operators or allowances to control access to tokens.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h2>
<p>For examples of FA2.1 contracts, see the <a href="https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-26/tzip-26.md?ref_type=heads#implementation" target="_blank" rel="noopener noreferrer">Implementation</a> section of the standard.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="metadata">Metadata<a href="#metadata" class="hash-link" aria-label="Direct link to Metadata" title="Direct link to Metadata">​</a></h2>
<p>Like FA2 tokens, each FA2.1 token has metadata that describes what the token represents.
The standard provides multiple options for the structure of the metadata and it refers to other standards for how the metadata is stored.
FA2.1 suggests that contracts store metadata according to <a href="https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-21/tzip-21.md" target="_blank" rel="noopener noreferrer">TZIP-21</a>, which is an extension of the TZIP-16 metadata standard used in FA2.
For examples of working with metadata, see the NFT-related tutorials at <a href="/previews/docs/ledger/tutorials/create-an-nft">Create an NFT</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tickets">Tickets<a href="#tickets" class="hash-link" aria-label="Direct link to Tickets" title="Direct link to Tickets">​</a></h2>
<p>A major change in FA2.1 is that contracts can optionally export <a href="/previews/docs/ledger/smart-contracts/data-types/complex-data-types#tickets">tickets</a> that represent tokens.
In this case, the contract decreases an owner&#x27;s balance of tokens and creates a ticket that represents those tokens.
It keeps the total balance of the tokens in its ledger the same.
Then the ticket owner can transfer the ticket without using the original contract, similar to a wrapped token.</p>
<p>Then, contracts can import tickets by accepting the ticket, destroying it, and increasing the user&#x27;s balance of tokens.
Exporting and importing tickets in this way allows users to bridge tokens between Tezos layers, such as how <a href="https://docs.etherlink.com/get-started/bridging" target="_blank" rel="noopener noreferrer">Bridging tokens</a> works in Etherlink.
It&#x27;s even possible for a contract to import a ticket created by another contract, though this is not the default case; in most cases, contracts import and export only their own tickets that represent their own tokens.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-control">Access control<a href="#access-control" class="hash-link" aria-label="Direct link to Access control" title="Direct link to Access control">​</a></h2>
<p>FA2.1 token contracts can implement neither, either, or both of two different methods for controlling token access: operators and allowances.
If it implements neither method, only token owners can transfer tokens.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operators">Operators<a href="#operators" class="hash-link" aria-label="Direct link to Operators" title="Direct link to Operators">​</a></h3>
<p>FA2.1 contracts can implement operators, which behave like they do in FA2 contracts.</p>
<p>Accounts that are authorized to transfer other accounts&#x27; tokens are called <em>operators</em>.
For example, a user might want to sell a token on a marketplace, so they set the marketplace as an operator of that token type, which allows the marketplace to sell the token without getting further approval from the owner.
Unlike allowances, operators can transfer any number of the owner&#x27;s tokens of the specified type.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allowances">Allowances<a href="#allowances" class="hash-link" aria-label="Direct link to Allowances" title="Direct link to Allowances">​</a></h3>
<p>FA2.1 contracts can implement allowances, which are similar to allowances in FA1.2 contracts.</p>
<p>In this case, the contract keeps track of how many tokens an account A permits another account B to transfer out of account A.
This limit is known as the <em>allowance</em> for account B.
In this scenario, account B is known as the <em>spender</em> for account A.</p>
<p>The <code>approve</code> entrypoint changes allowances.</p>
<p>This feature allows an account to authorize another account to transfer a certain amount of tokens on its behalf.</p>
<p>For example, you might authorize an application to take a certain amount of your tokens, as part of one or several transactions, by setting the application&#x27;s allowance for your tokens.</p>
<p>The spender must have an allowance from the owner of the tokens for a number of their tokens to transfer.
When a spender or token owner transfers tokens, their allowance decreases by the amount of tokens they transfer.</p>
<p>Allowances also apply to the token owner.
An account cannot transfer more tokens than its allowance, even if it has enough tokens and it sent the request itself.
This means that if you want to transfer some of your tokens, you must first set your account&#x27;s allowance to the amount to transfer.</p>
<p>Unlike FA1.2 contracts, you can change an allowance from a non-zero amount to another non-zero amount.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="minting-and-burning">Minting and burning<a href="#minting-and-burning" class="hash-link" aria-label="Direct link to Minting and burning" title="Direct link to Minting and burning">​</a></h2>
<p>Like FA2, FA2.1 does not require contracts to provide entrypoints that mint (create) or burn (destroy) tokens, but it permits developers to add those entrypoints if they choose.
If the contract does not have a mint entrypoint, it can create tokens in some other way or developers can initialize its storage with all of the tokens that it will ever have.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="entrypoints">Entrypoints<a href="#entrypoints" class="hash-link" aria-label="Direct link to Entrypoints" title="Direct link to Entrypoints">​</a></h2>
<p>FA2.1 contracts must have these entrypoints:</p>
<ul>
<li>
<p><code>transfer</code>: Transfers tokens from a source account to one or more destination accounts.
Its parameters are the address of the source account and a list of destination accounts, each with the token ID and amount to transfer.</p>
<p>The core behavior of the <code>transfer</code> entrypoint is similar to that of the FA2 entrypoint but the FA2.1 version has different rules for who can transfer tokens, as described in <a href="#access-control">Access control</a>.</p>
<p>This entrypoint must emit the <code>transfer_event</code>, <code>balance_update</code>, and <code>allowance_update</code> events.</p>
</li>
<li>
<p><code>balance_of</code>: Sends information about an owner&#x27;s token balance to another contract.
Its parameters are a callback contract that accepts a list of token IDs and the amount that the specified account owns.
This entrypoint is the same as in FA2.</p>
</li>
<li>
<p><code>update_operators</code>: Adds or removes operators for the specified token owners and token IDs.
Its parameters are a list of commands to add or remove operators for token owners and IDs.
This entrypoint is the same as in FA2.</p>
</li>
<li>
<p><code>approve</code>: Sets the amount of tokens that an account can transfer on behalf of the token owner.
Its parameters are a list of commands to increase or decrease the allowances for token owners and IDs.
Unlike the <code>approve</code> entrypoint in the FA1.2 standard, this entrypoint accepts a batch of parameters.</p>
<p>This entrypoint must emit the <code>allowance_update</code> event.</p>
</li>
<li>
<p><code>export_ticket</code>: Creates one or more tickets that represent an account&#x27;s tokens and sends them to the specified addresses.
The contract deducts the tokens from the source account, but the contract&#x27;s total supply of the tokens does not change; the <code>get_total_supply</code> view must return the same amount of tokens as before the entrypoint was called.</p>
<p>This entrypoint must follow the same access control rules as the <code>transfer</code> entrypoint.
For example, if the contract is using operators, only the token owner or their operators can call this entrypoint.</p>
<p>This entrypoint must emit the <code>balance_update</code> and <code>allowance_update</code> events but not the <code>transfer_event</code> event.</p>
</li>
<li>
<p><code>import_ticket</code>: Accepts one or more tickets that represent tokens, destroys the tickets, and adds the tokens to the specified accounts.
This entrypoint is the converse of the <code>export_ticket</code> entrypoint.</p>
<p>This entrypoint must emit the <code>balance_update</code> and <code>total_supply_update</code> events but not the <code>transfer_event</code> event.</p>
</li>
<li>
<p><code>lambda_export</code>: Creates one or more tickets and runs a lambda that determines what happens to them.
For security reasons, the contract runs the lambda in a separate sandbox contract.</p>
<p>This entrypoint must emit the <code>balance_update</code> and <code>allowance_update</code> events.</p>
</li>
</ul>
<p>The standard defines what happens when these entrypoints are called, the access control for them, the format of their parameters, and error cases.
For information about these requirements, see <a href="https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-12/tzip-12.md" target="_blank" rel="noopener noreferrer">TZIP-12</a>.</p>
<p>FA2.1 contracts can add any other entrypoints in addition to the required entrypoints.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="views">Views<a href="#views" class="hash-link" aria-label="Direct link to Views" title="Direct link to Views">​</a></h2>
<p>Unlike FA2, the FA2.1 standard specifies that entrypoints implement views to provide information about tokens.
The standard recommends that views don&#x27;t fail or return errors but instead return meaningful default values.
For example, if a caller requests the balance of a non-existent address or token ID, the view should return 0.</p>
<p>These are the views that FA2.1 contracts must implement:</p>
<ul>
<li>
<p><code>get_balance</code>: Returns the number of tokens of the specified token ID that the specified address owns.</p>
</li>
<li>
<p><code>get_total_supply</code>: Returns the total amount of the specified token ID.
For contracts that implement tickets, this amount includes the amount of tokens tracked directly in the contract ledger and the amount of tokens exported as tickets.</p>
</li>
<li>
<p><code>is_operator</code>: Returns true if the specified account is an operator of the specified account and token ID.</p>
</li>
<li>
<p><code>get_allowance</code>: Returns the allowance for the specified spender, owner, and token ID.</p>
</li>
<li>
<p><code>get_token_metadata</code>: Returns the metadata for the specified token ID.</p>
</li>
<li>
<p><code>is_token</code>: Returns true if the specified token ID exists.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h2>
<p>Unlike FA2, the FA2.1 standard specifies that entrypoints emit events when they are called.
To avoid confusion about the order of events, the entrypoints must emit these events before other transactions.</p>
<p>These are the events that FA2.1 contracts must emit and the entrypoints that emit them:</p>
<ul>
<li>
<p><code>transfer_event</code>: Emitted when tokens are transferred, either by the <code>transfer</code> entrypoint or any other mechanism that transfers tickets.
However, the <code>export_ticket</code> and <code>import_ticket</code> entrypoints should not emit this event.
The event includes the source and target accounts, the token ID, and the amount of tokens.</p>
</li>
<li>
<p><code>balance_update</code>: Emitted when the amount of tokens in an account changes, such as by the <code>transfer</code>, <code>export_ticket</code>, <code>lambda_export</code>, and <code>import_ticket</code> entrypoints.
The event includes the account, the token ID, the new balance, and the difference between the old and new balance.</p>
</li>
<li>
<p><code>total_supply_update</code>: Emitted when the total number of a certain token type changes, such as by minting tokens.
The event includes the token ID, the new total supply, and the difference between the old and new amounts.</p>
</li>
<li>
<p><code>operator_update</code>: Emitted when operators change, such as by the <code>update_operators</code> entrypoint.
The event includes the token owner, the operator, the token ID, and a Boolean value that is true if the operator is being added or false if the operator is being removed.</p>
</li>
<li>
<p><code>allowance_update</code>: Emitted when a spender&#x27;s allowance is changed, including when it is decreased as a result of a token transfer.
The event includes the token owner, the spender, the token ID, the new allowance, and the difference between the old and new allowances.</p>
</li>
<li>
<p><code>token_metadata_update</code>: Emitted when a token&#x27;s metadata changes.
The event includes the token ID and an option type that contains the new metadata or <code>none</code> if the token was burned.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="errors">Errors<a href="#errors" class="hash-link" aria-label="Direct link to Errors" title="Direct link to Errors">​</a></h2>
<p>FA2.1 contracts use the same errors as FA2 contracts plus additional FA2.1 errors for failures related to tickets and allowances.
For a list of these errors, see <a href="https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-26/tzip-26.md" target="_blank" rel="noopener noreferrer">TZIP-26</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-07-23T04:00:00.000Z" itemprop="dateModified">Jul 23, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/previews/docs/ledger/architecture/tokens/FA2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">FA2 tokens</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/previews/docs/ledger/architecture/smart-rollups"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Smart Rollups</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#major-changes-from-fa2" class="table-of-contents__link toc-highlight">Major changes from FA2</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li><li><a href="#metadata" class="table-of-contents__link toc-highlight">Metadata</a></li><li><a href="#tickets" class="table-of-contents__link toc-highlight">Tickets</a></li><li><a href="#access-control" class="table-of-contents__link toc-highlight">Access control</a><ul><li><a href="#operators" class="table-of-contents__link toc-highlight">Operators</a></li><li><a href="#allowances" class="table-of-contents__link toc-highlight">Allowances</a></li></ul></li><li><a href="#minting-and-burning" class="table-of-contents__link toc-highlight">Minting and burning</a></li><li><a href="#entrypoints" class="table-of-contents__link toc-highlight">Entrypoints</a></li><li><a href="#views" class="table-of-contents__link toc-highlight">Views</a></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a></li><li><a href="#errors" class="table-of-contents__link toc-highlight">Errors</a></li></ul></div></div></div></div></main></div></div></div></div>
<script type="module" src="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.esm.js"></script>
<script>const feedbackButton=document.createElement("feedback-button");feedbackButton.setAttribute("project","80ja0zkj8v"),feedbackButton.setAttribute("modal-position","bottom-right"),feedbackButton.setAttribute("button-style","light"),feedbackButton.setAttribute("button-position","bottom-right"),feedbackButton.setAttribute("id","default"),feedbackButton.textContent="Feedback",document.body.appendChild(feedbackButton)</script></body>
</html>