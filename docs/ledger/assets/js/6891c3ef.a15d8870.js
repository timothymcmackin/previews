"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[7948],{49450:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>r});const a=JSON.parse('{"id":"unity/reference/EventManager","title":"Unity SDK EventManager object","description":"The Unity SDK class TezosSDK.Beacon.WalletEventManager, which is available at runtime as the TezosManager.Instance.EventManager object, provides events that you can add listeners to.","source":"@site/docs/unity/reference/EventManager.md","sourceDirName":"unity/reference","slug":"/unity/reference/EventManager","permalink":"/previews/docs/ledger/unity/reference/EventManager","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1703739600000,"frontMatter":{"title":"Unity SDK EventManager object","sidebar_label":"EventManager object","authors":"Tim McMackin","last_update":{"date":"28 December 2023"}},"sidebar":"documentationSidebar","previous":{"title":"DataProviderConfigSO scriptable object","permalink":"/previews/docs/ledger/unity/reference/DataProviderConfigSO"},"next":{"title":"TezosConfigSO scriptable object","permalink":"/previews/docs/ledger/unity/reference/TezosConfigSO"}}');var c=t(74848),o=t(28453);const i={title:"Unity SDK EventManager object",sidebar_label:"EventManager object",authors:"Tim McMackin",last_update:{date:"28 December 2023"}},l=void 0,s={},r=[{value:"Example",id:"example",level:2},{value:"Events",id:"events",level:2},{value:"<code>public event Action&lt;WalletInfo&gt; WalletConnected</code>",id:"public-event-actionwalletinfo-walletconnected",level:3},{value:"<code>public event Action&lt;ErrorInfo&gt; WalletConnectionFailed</code>",id:"public-event-actionerrorinfo-walletconnectionfailed",level:3},{value:"<code>public event Action&lt;WalletInfo&gt; WalletDisconnected</code>",id:"public-event-actionwalletinfo-walletdisconnected",level:3},{value:"<code>public event Action&lt;OperationResult&gt; ContractCallCompleted</code>",id:"public-event-actionoperationresult-contractcallcompleted",level:3},{value:"<code>public event Action&lt;ErrorInfo&gt; ContractCallFailed</code>",id:"public-event-actionerrorinfo-contractcallfailed",level:3},{value:"<code>public event Action&lt;OperationResult&gt; ContractCallInjected</code>",id:"public-event-actionoperationresult-contractcallinjected",level:3},{value:"<code>public event Action&lt;HandshakeData&gt; HandshakeReceived</code>",id:"public-event-actionhandshakedata-handshakereceived",level:3},{value:"<code>public event Action&lt;PairingDoneData&gt; PairingCompleted</code>",id:"public-event-actionpairingdonedata-pairingcompleted",level:3},{value:"<code>public event Action&lt;SignResult&gt; PayloadSigned</code>",id:"public-event-actionsignresult-payloadsigned",level:3},{value:"<code>public event void SDKInitialized</code>",id:"public-event-void-sdkinitialized",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.p,{children:["The Unity SDK class ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.WalletEventManager"}),", which is available at runtime as the ",(0,c.jsx)(n.code,{children:"TezosManager.Instance.EventManager"})," object, provides events that you can add listeners to."]}),"\n",(0,c.jsxs)(n.p,{children:["These events are asynchronous.\nFor example, if your project makes multiple calls to smart contracts, the ",(0,c.jsx)(n.code,{children:"ContractCallCompleted"})," event runs multiple times, not necessarily in the order that you called the contracts."]}),"\n",(0,c.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,c.jsxs)(n.p,{children:["This code adds a listener for the ",(0,c.jsx)(n.code,{children:"WalletConnected"})," and ",(0,c.jsx)(n.code,{children:"WalletDisconnected"})," events:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-csharp",children:'private void Start()\n{\n    TezosManager.Instance.EventManager.WalletConnected += OnWalletConnected;\n    TezosManager.Instance.EventManager.WalletDisconnected += OnWalletDisconnected;\n}\n\nprivate void OnWalletConnected(WalletInfo walletInfo)\n{\n    Debug.Log(walletInfo.Address);\n}\n\nprivate void OnWalletDisconnected(WalletInfo walletInfo)\n{\n    Debug.Log(walletInfo.Address);\n    Debug.Log("Wallet disconnected.");\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionwalletinfo-walletconnected",children:(0,c.jsx)(n.code,{children:"public event Action<WalletInfo> WalletConnected"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when a wallet connects successfully.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.WalletInfo"})," object with information that includes the address of the connected account."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionerrorinfo-walletconnectionfailed",children:(0,c.jsx)(n.code,{children:"public event Action<ErrorInfo> WalletConnectionFailed"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when a connection to a wallet fails.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.ErrorInfo"})," object with an error message."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionwalletinfo-walletdisconnected",children:(0,c.jsx)(n.code,{children:"public event Action<WalletInfo> WalletDisconnected"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when a wallet disconnects successfully.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.WalletInfo"})," object with information that includes the address of the connected account."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionoperationresult-contractcallcompleted",children:(0,c.jsx)(n.code,{children:"public event Action<OperationResult> ContractCallCompleted"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when a call to a smart contract is confirmed on the blockchain.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.OperationResult"})," object with the hash of the transaction."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionerrorinfo-contractcallfailed",children:(0,c.jsx)(n.code,{children:"public event Action<ErrorInfo> ContractCallFailed"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when a call to a smart contract fails.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.ErrorInfo"})," object with an error message."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionoperationresult-contractcallinjected",children:(0,c.jsx)(n.code,{children:"public event Action<OperationResult> ContractCallInjected"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when a call to a smart contract is sent to Tezos but before it has been included in a block and confirmed.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.OperationResult"})," object with the hash of the transaction."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionhandshakedata-handshakereceived",children:(0,c.jsx)(n.code,{children:"public event Action<HandshakeData> HandshakeReceived"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when a handshake with a user's wallet application is received.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.HandshakeData"})," object with the data that applications need to connect to the wallet."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionpairingdonedata-pairingcompleted",children:(0,c.jsx)(n.code,{children:"public event Action<PairingDoneData> PairingCompleted"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when the user's wallet is connected to the project but before the user has approved the connection in the wallet app.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.PairingDoneData"})," object with details about the pairing, such as the dApp's public key and the timestamp of pairing completion."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-actionsignresult-payloadsigned",children:(0,c.jsx)(n.code,{children:"public event Action<SignResult> PayloadSigned"})}),"\n",(0,c.jsxs)(n.p,{children:["Runs when the user signs a payload.\nReturns a ",(0,c.jsx)(n.code,{children:"TezosSDK.Beacon.PairingDoneData"})," object with the signed payload."]}),"\n",(0,c.jsx)(n.h3,{id:"public-event-void-sdkinitialized",children:(0,c.jsx)(n.code,{children:"public event void SDKInitialized"})}),"\n",(0,c.jsx)(n.p,{children:"Runs when the SDK loads."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var a=t(96540);const c={},o=a.createContext(c);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);