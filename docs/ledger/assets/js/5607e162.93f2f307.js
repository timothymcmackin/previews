"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[5735],{25685:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"smart-contracts/languages/archetype","title":"Archetype","description":"Archetype is an elegant generic-purpose language to develop smart contracts on the Tezos blockchain. It\'s a DSL (domain-specific language) for Tezos that facilitates formal verification and transcodes contracts to SmartPy and LIGO.","source":"@site/docs/smart-contracts/languages/archetype.md","sourceDirName":"smart-contracts/languages","slug":"/smart-contracts/languages/archetype","permalink":"/previews/docs/ledger/smart-contracts/languages/archetype","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1688011200000,"frontMatter":{"title":"Archetype","last_update":{"date":"29 June 2023"}},"sidebar":"documentationSidebar","previous":{"title":"SmartPy","permalink":"/previews/docs/ledger/smart-contracts/languages/smartpy"},"next":{"title":"Michelson","permalink":"/previews/docs/ledger/smart-contracts/languages/michelson"}}');var a=n(74848),c=n(28453);const s={title:"Archetype",last_update:{date:"29 June 2023"}},i=void 0,o={},l=[{value:"Looking at a simple Archetype contract",id:"looking-at-a-simple-archetype-contract",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Deploy a contract with Completium:",id:"deploy-a-contract-with-completium",level:2},{value:"Further reading",id:"further-reading",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Archetype is an elegant generic-purpose language to develop smart contracts on the Tezos blockchain. It's a DSL (domain-specific language) for Tezos that facilitates formal verification and transcodes contracts to SmartPy and LIGO."}),"\n",(0,a.jsxs)(t.p,{children:["It supports all ",(0,a.jsx)(t.a,{href:"https://tezos.gitlab.io/michelson-reference/",children:"Michelson"})," features but also provides exclusive high-level features for a precise and concise source code, that make contracts easier to develop, read and maintain."]}),"\n",(0,a.jsx)(t.h2,{id:"looking-at-a-simple-archetype-contract",children:"Looking at a simple Archetype contract"}),"\n",(0,a.jsxs)(t.p,{children:["Create a file ",(0,a.jsx)(t.code,{children:"hello.arl"})]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'archetype hello\n\nvariable msg : string = "Hello"\n\nentry input(name : string) {\n  msg += (length(msg) > 5 ? "," : "") + " " + name\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["The contract starts with the ",(0,a.jsx)(t.code,{children:"archetype"})," keyword followed by a contract identifier."]}),"\n",(0,a.jsx)(t.p,{children:"For example:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"archetype escrow\n\n/* ... */\n"})}),"\n",(0,a.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(t.p,{children:"A contract may have parameters. A parameter value is not in the source code and is provided at deployment (origination) time. For example, the address of the contract owner is typically a contract parameter."}),"\n",(0,a.jsx)(t.p,{children:"By default, a contract parameter is an element of the contract storage. It is defined by an identifier and a type. The list of parameters follows the contract's identifier between parenthesis and the parameters are separated by commas."}),"\n",(0,a.jsx)(t.p,{children:"For example:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"archetype escrow(seller : address, buyer : address)\n\n/* ... */\n"})}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"seller"})," and ",(0,a.jsx)(t.code,{children:"buyer"})," ",(0,a.jsx)(t.a,{href:"https://archetype-lang.org/docs/reference/types/#address",children:"addresses"})," then need to be set at deployment time."]}),"\n",(0,a.jsx)(t.h2,{id:"deploy-a-contract-with-completium",children:"Deploy a contract with Completium:"}),"\n",(0,a.jsx)(t.p,{children:"The Completium CLI is the command line utility to install Archetype compiler and manage contracts (deploy, call)."}),"\n",(0,a.jsx)(t.p,{children:"To install and initialize Completium do:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"$ npm install -g @completium/completium-cli\n$ completium-cli init\n"})}),"\n",(0,a.jsx)(t.p,{children:"Then you can deploy the contract with"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"completium-cli deploy hello.arl\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Call contract's entrypoint ",(0,a.jsx)(t.code,{children:"input"}),' with argument "Archetype":']}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'completium-cli call hello --entry input --arg \'{ "name": "Archetype" }\'\n'})}),"\n",(0,a.jsx)(t.h2,{id:"further-reading",children:"Further reading"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://archetype-lang.org/docs/introduction",children:"Archetype documentation"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://opentezos.com/archetype",children:"OpenTezos"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://medium.com/coinmonks/archetype-a-dsl-for-tezos-6f55c92d1035%20",children:"Medium article"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://medium.com/coinmonks/verify-a-smart-contract-with-archetype-6e0ea548e2da%20",children:"How To Verify a smart contract with Archetype"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>i});var r=n(96540);const a={},c=r.createContext(a);function s(e){const t=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(c.Provider,{value:t},e.children)}}}]);