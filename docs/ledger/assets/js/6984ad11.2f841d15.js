"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[4329],{43451:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"smart-contracts/creating","title":"Creating smart contracts","description":"Introduction","source":"@site/docs/smart-contracts/creating.md","sourceDirName":"smart-contracts","slug":"/smart-contracts/creating","permalink":"/previews/docs/ledger/smart-contracts/creating","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1699246800000,"frontMatter":{"title":"Creating smart contracts","authors":"Yuxin Li","last_update":{"date":"6 November 2023"}},"sidebar":"documentationSidebar","previous":{"title":"Handling errors","permalink":"/previews/docs/ledger/smart-contracts/logic/errors"},"next":{"title":"Deploying smart contracts","permalink":"/previews/docs/ledger/smart-contracts/deploying"}}');var s=n(74848),i=n(28453);const o={title:"Creating smart contracts",authors:"Yuxin Li",last_update:{date:"6 November 2023"}},a=void 0,c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Choosing your smart contract language",id:"choosing-your-smart-contract-language",level:2},{value:"Making a strategic choice",id:"making-a-strategic-choice",level:2},{value:"Coding your contract",id:"coding-your-contract",level:2},{value:"Starting with online IDE",id:"starting-with-online-ide",level:3},{value:"Defining contract storage",id:"defining-contract-storage",level:3},{value:"Defining entrypoints",id:"defining-entrypoints",level:3}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(t.p,{children:["This documentation provides step-by-step instructions for creating smart contracts on Tezos. After creating the contract, you can find the resources on ",(0,s.jsx)(t.a,{href:"/developing/testing",children:"testing"})," and ",(0,s.jsx)(t.a,{href:"/smart-contracts/deploying",children:"deploying"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"choosing-your-smart-contract-language",children:"Choosing your smart contract language"}),"\n",(0,s.jsxs)(t.p,{children:["Tezos supports a variety of smart contract ",(0,s.jsx)(t.a,{href:"/smart-contracts/languages",children:"languages"}),": Michelson, SmartPy, LIGO, Archetype."]}),"\n",(0,s.jsx)(t.p,{children:"You can select a language based on your familiarity with programming paradigms, the complexity of the contract you want to deploy, and the specific features you require. Here's a more detailed table for each language:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"}}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:(0,s.jsx)(t.strong,{children:"Michelson"})}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:(0,s.jsx)(t.strong,{children:"SmartPy"})}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:(0,s.jsx)(t.strong,{children:"LIGO"})}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:(0,s.jsx)(t.strong,{children:"Archetype"})})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.strong,{children:"Complexity"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"High (stack-based, low-level)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Low (Python-like, high-level)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Moderate (various high-level syntaxes)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Moderate (includes formal specification features)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.strong,{children:"Capabilities"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Full control over contract, optimal for gas efficiency"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Easy to write, automatically manages stack operations"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Statically-typed, strong error checking"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Specialized for formal verification and correctness"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.strong,{children:"Use Cases"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Optimized contracts, developers with blockchain experience"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Python developers, rapid prototyping"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Developers familiar with static typing, variety of mainstream programming backgrounds"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"High-security contracts, developers looking for formal proof of contract behavior"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["For beginners, we recommend ",(0,s.jsx)(t.strong,{children:"SmartPy"})," or ",(0,s.jsx)(t.strong,{children:"LIGO"})," for their higher-level more abstracted approach."]}),"\n",(0,s.jsx)(t.h2,{id:"making-a-strategic-choice",children:"Making a strategic choice"}),"\n",(0,s.jsx)(t.p,{children:"Before writing your code, take some time to consider whether your project is suitable for starting with a pre-existing template or if it would be better to start from scratch. Essentially, this depends on the type of contract you are building. For example:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"FA2 contract: it\u2019s better to use a template to start."}),"\n",(0,s.jsx)(t.li,{children:"Others: build it from scratch."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"coding-your-contract",children:"Coding your contract"}),"\n",(0,s.jsx)(t.p,{children:"Before coding, you should clearly outline the purpose of your smart contract, define the problem it addresses, detail the functions it will perform, and specify any external interactions or transactions it will manage."}),"\n",(0,s.jsx)(t.h3,{id:"starting-with-online-ide",children:"Starting with online IDE"}),"\n",(0,s.jsx)(t.p,{children:"The online editor is the quickest and easiest way to get started."}),"\n",(0,s.jsx)(t.p,{children:"For example:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["For smartpy user, we recommend to use the ",(0,s.jsx)(t.a,{href:"https://smartpy.io/",children:"SmartPy online IDE"})]}),"\n",(0,s.jsxs)(t.li,{children:["For LIGO user, we recommend to use the ",(0,s.jsx)(t.a,{href:"https://ligolang.org/?lang=jsligo",children:"LIGO online IDE"})]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"defining-contract-storage",children:"Defining contract storage"}),"\n",(0,s.jsx)(t.p,{children:"Contract storage holds the persistent state of your smart contract. It\u2019s important to carefully design your storage since storage is expensive on-chain. You should avoid storing any data that the contract will not use."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"SmartPy: Use Pythonic classes and types to represent storage. SmartPy provides a straightforward way to map these into Michelson storage requirements."}),"\n",(0,s.jsx)(t.li,{children:"LIGO: Choose the most suitable syntax flavor and use the type definitions to lay out the storage structure."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"In Tezos, big maps are a storage optimization feature for large sets of data, especially when handling large datasets that don't need to be fully loaded into memory at once. Big maps are ideal for ledger applications with numerous accounts, as they load data lazily, fetching only necessary parts on demand. In contrast to regular maps, suitable for smaller collections, and lists, which order data, big maps save costs when the dataset is large."}),"\n",(0,s.jsxs)(t.p,{children:["In SmartPy, you can define a big map using ",(0,s.jsx)(t.code,{children:"sp.big_map"}),", and in LIGO, you use ",(0,s.jsx)(t.code,{children:"big_map"})," keyword for the type declaration."]}),"\n",(0,s.jsx)(t.h3,{id:"defining-entrypoints",children:"Defining entrypoints"}),"\n",(0,s.jsx)(t.p,{children:"Entrypoints serve as methods to receive external communication in Tezos."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["SmartPy: Entrypoints are defined as methods within a Python class that extends ",(0,s.jsx)(t.code,{children:"sp.Contract"}),". They use decorators like ",(0,s.jsx)(t.code,{children:"@sp.entry_point"})," to denote entrypoints"]}),"\n",(0,s.jsxs)(t.li,{children:["LIGO: Entrypoints in LIGO are defined as functions that manipulate storage. The ",(0,s.jsx)(t.code,{children:"function"})," keyword is used, and each entrypoint function must be explicitly marked for export in the contract interface"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"You should clearly define the parameters and storage interaction for both languages."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Each entrypoint's ",(0,s.jsx)(t.strong,{children:"parameters"})," must be well-specified, with types that match the expected inputs. For example, if an entrypoint is supposed to accept an integer and a string, the parameter list should reflect this."]}),"\n",(0,s.jsxs)(t.li,{children:["The contract ",(0,s.jsx)(t.strong,{children:"storage"})," is usually passed as an argument to the entrypoints. In SmartPy, the storage is accessed through the self.data attribute inside the entrypoint methods. In LIGO, storage is a parameter of the function, and it's often the last parameter by convention."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var r=n(96540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);