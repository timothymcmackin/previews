"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[2443],{35874:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"architecture","title":"Architecture","description":"The Tezos blockchain is composed of many Tezos nodes running around the world, complemented by other programs such as bakers and accusers.","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/previews/docs/ledger/architecture","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1734325200000,"frontMatter":{"title":"Architecture","authors":"Tim McMackin","last_update":{"date":"16 December 2024"}},"sidebar":"documentationSidebar","previous":{"title":"Staking","permalink":"/previews/docs/ledger/using/staking"},"next":{"title":"Nodes","permalink":"/previews/docs/ledger/architecture/nodes"}}');var a=t(74848),i=t(28453);const r={title:"Architecture",authors:"Tim McMackin",last_update:{date:"16 December 2024"}},o=void 0,c={},l=[{value:"Tezos layer 1",id:"tezos-layer-1",level:2},{value:"The blockchain data",id:"the-blockchain-data",level:3},{value:"Tezos clients and servers",id:"tezos-clients-and-servers",level:3},{value:"Layer 2",id:"layer-2",level:2},{value:"References",id:"references",level:2}];function h(e){const n={a:"a",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"The Tezos blockchain is composed of many Tezos nodes running around the world, complemented by other programs such as bakers and accusers.\nThese processes collaborate with the overall goal of maintaining the blockchain data in a decentralized manner."}),"\n",(0,a.jsxs)(n.p,{children:["The Tezos nodes are the most important piece in this architecture because they maintain the system and the blockchain data.\nUsers interact with nodes through many different clients, including command-line clients, wallets, and web applications.\nFor more information about nodes, see ",(0,a.jsx)(n.a,{href:"/architecture/nodes",children:"Nodes"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"This diagram shows a high-level view of the Tezos system:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"A high-level view of the Tezos system, including Tezos nodes, the blockchain data itself, an Indexer, and a few examples of clients",src:t(52878).A+"",width:"1680",height:"980"})}),"\n",(0,a.jsx)(n.h2,{id:"tezos-layer-1",children:"Tezos layer 1"}),"\n",(0,a.jsxs)(n.p,{children:["When people talk about Tezos, they usually mean the primary Tezos network, which is referred to as Mainnet, and the fundamental processing layer, known as ",(0,a.jsx)(n.em,{children:"layer 1"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Tezos also has other networks used for testing, referred to as testnets.\nAnyone can create new test networks if needed.\nFor example, before new versions of the Tezos protocol are enabled, users create networks that use that protocol so they can test it."}),"\n",(0,a.jsxs)(n.p,{children:["Other systems run on top of Tezos layer 1; these systems are referred to as ",(0,a.jsx)(n.em,{children:"layer 2"}),".\nThese systems, based on ",(0,a.jsx)(n.a,{href:"/architecture/smart-rollups",children:"Smart Rollups"}),", complemented by the ",(0,a.jsx)(n.a,{href:"/architecture/data-availability-layer",children:"Data Availability Layer"}),", allow Tezos applications to scale, running transactions and using data at a much higher rate than layer 1."]}),"\n",(0,a.jsxs)(n.p,{children:["For more information about layer 2, see ",(0,a.jsx)(n.a,{href:"#layer-2",children:"Layer 2"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"the-blockchain-data",children:"The blockchain data"}),"\n",(0,a.jsx)(n.p,{children:'Although people often use the word "blockchain" to mean the entire system, strictly speaking, a Tezos blockchain is a series of blocks of data, each connected to the previous block in the chain, beginning with the genesis block.\nThe blockchain data is maintained by a network of Tezos nodes.\nNodes reach consensus on the next block before adding it to the chain.'}),"\n",(0,a.jsxs)(n.p,{children:["As shown in the diagram, the data inside a Tezos block includes the hash of the previous block in the chain and many operations, such as transactions that transfer tez or call smart contracts.\nBlocks also include operations that are necessary for the management of the chain, including nodes' attestations that blocks are valid, called ",(0,a.jsx)(n.em,{children:"consensus operations"}),", and votes on changes to the protocol, called ",(0,a.jsx)(n.em,{children:"voting operations"}),".\nFor more information on the operations that can be included in blocks, see ",(0,a.jsx)(n.a,{href:"https://tezos.gitlab.io/alpha/blocks_ops.html",children:"Blocks and operations"})," in the Octez documentation."]}),"\n",(0,a.jsx)(n.h3,{id:"tezos-clients-and-servers",children:"Tezos clients and servers"}),"\n",(0,a.jsxs)(n.p,{children:["In addition to the functions of the ",(0,a.jsx)(n.a,{href:"/architecture/nodes#protocol-and-shell",children:"protocol and shell"}),", a Tezos node also acts as a server to respond to queries and requests from clients.\nA client can query the chain\u2019s state and can inject blocks and operations into a node.\nNodes share operations with each other, so the node that includes an operation in a block may not be the node that the client originally sent the operation to."]}),"\n",(0,a.jsx)(n.p,{children:"Tezos uses this client-server architecture for these main reasons:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"It improves security by separating the node, which is exposed to the internet, from the baker, which has access to the client keys.\nThe node and the baker can be on different computers, which allows the node to manage communication and shields bakers from network attacks."}),"\n",(0,a.jsx)(n.li,{children:"It allows bakers to have different implementations.\nFor example, different bakers may implement different transaction selection strategies."}),"\n",(0,a.jsx)(n.li,{children:"It allows clients and other tools to interact with the node and inspect its state."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The node accepts calls from clients through its RPC interface.\nIt has control over which clients to accept calls from, which calls to accept, or whether to accept RPC calls at all."}),"\n",(0,a.jsx)(n.p,{children:"Anyone can run a node and select which clients to run and which requests to accept from clients.\nSome typical use cases for nodes are:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A node running by itself, which maintains a copy of the blockchain data and enhances the distribution of the network without actively baking blocks.\nOptionally, this node can open its RPC interface to serve different kinds of requests."}),"\n",(0,a.jsx)(n.li,{children:"A node along with a baker, an accuser, and a signer can be used to bake new blocks, activity which ensures that the blockchain progresses and yields rewards in tokens."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Here is a summary of the main Tezos clients:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Bakers"}),": The baker is an Octez program that is responsible for creating and proposing new blocks based on the operations proposed by different clients.\nFor more information, see ",(0,a.jsx)(n.a,{href:"/architecture/bakers",children:"Bakers"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Accusers"}),": The accuser is an Octez program that monitors new blocks and looks for problems, such as when bakers try to add more than one block at a time.\nWhen it finds a problem, it submits a denunciation to other nodes to refuse the new blocks and punish the offending node.\nFor more information, see ",(0,a.jsx)(n.a,{href:"/architecture/accusers",children:"Accusers"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"The Octez client"}),": The Octez client is a command-line tool that developers can use for many Tezos-related tasks, including:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Deploying, calling, testing, and interacting with contracts"}),"\n",(0,a.jsx)(n.li,{children:"Deploying and interacting with Smart Rollups"}),"\n",(0,a.jsx)(n.li,{children:"Working with accounts"}),"\n",(0,a.jsx)(n.li,{children:"Calling RPC endpoints directly"}),"\n",(0,a.jsx)(n.li,{children:"Running Sapling transactions"}),"\n",(0,a.jsx)(n.li,{children:"Setting up baking operations for testing contracts"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For more information about the Octez client, see ",(0,a.jsx)(n.a,{href:"/developing/octez-client",children:"The Octez client"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"External clients"}),": Many external clients can add operations to the network of nodes or use nodes to inspect the state of the blockchain, including:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Web applications that use SDKs such as Taquito to send and receive information from Tezos"}),"\n",(0,a.jsx)(n.li,{children:"Wallet applications"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Indexers and block explorers"}),": Indexers are off-chain applications that retrieve blockchain data, process it, and store it in a way that makes it easier to search and use.\nThey are an important part of block explorers, which are applications that provide data about the blockchain."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"layer-2",children:"Layer 2"}),"\n",(0,a.jsxs)(n.p,{children:["Layer 2 consists primarily of nodes that run ",(0,a.jsx)(n.a,{href:"/architecture/smart-rollups",children:"Smart Rollups"}),".\nThese nodes run logic that is separate from the layer 1 protocol logic; they can behave differently from how the Tezos protocol works, run at a different pace, use more data via the ",(0,a.jsx)(n.a,{href:"/architecture/data-availability-layer",children:"Data Availability Layer"}),", and communicate with layer 1.\nSmart Rollup nodes post data to layer 1 for verifiability with a bond for security; other systems can challenge the data to ensure that the Smart Rollup is running honestly."]}),"\n",(0,a.jsxs)(n.p,{children:["One major use of Smart Rollups is to enable ",(0,a.jsx)(n.a,{href:"https://etherlink.com",children:"Etherlink"}),", which is a Smart Rollup that runs an EVM-compatible protocol.\nUsers can work with Etherlink like any other EVM chain while taking advantage of the high scalability of Tezos layer 2.\nEtherlink can also communicate with Tezos layer 1 and other EVM chains, allowing users to bridge assets in and out of Etherlink."]}),"\n",(0,a.jsx)(n.p,{children:"This diagram shows a high-level view of Tezos layer 2, including Etherlink:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"A high-level view of Tezos layer 2, including some elements of layer 1, Smart Rollup nodes, Data Availability Layer nodes, Etherlink Smart Rollup nodes, and the connection to EVM chains",src:t(44016).A+"",width:"1608",height:"660"})}),"\n",(0,a.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,a.jsx)(n.p,{children:"For more information about the architecture of Tezos, see:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/architecture/accounts",children:"Accounts and addresses"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/architecture/tokens",children:"Tokens"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/architecture/smart-rollups",children:"Smart Optimistic Rollups"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/architecture/governance",children:"Governance"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/developing/information/indexers",children:"Indexers"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/developing/information/block-explorers",children:"Block explorers"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://docs.etherlink.com",children:"Etherlink"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},52878:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/architecture-overview-5dca1a5ebf461b292179f4a209e6e0db.png"},44016:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/layer2-overview-6e1ead91548ecbd1b74c19fae922d52e.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(96540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);