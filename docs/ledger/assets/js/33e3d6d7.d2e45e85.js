"use strict";(self.webpackChunktezos_developer_docs=self.webpackChunktezos_developer_docs||[]).push([[5776],{33622:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"tutorials/bake-with-ledger/setup-ledger","title":"Set up your ledger","description":"Disable PIN lock","source":"@site/docs/tutorials/bake-with-ledger/setup-ledger.md","sourceDirName":"tutorials/bake-with-ledger","slug":"/tutorials/bake-with-ledger/setup-ledger","permalink":"/previews/docs/ledger/tutorials/bake-with-ledger/setup-ledger","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1736485200000,"frontMatter":{"title":"Set up your ledger","authors":"S\xe9bastien Palmer","last_update":{"date":"10 January 2025"}},"sidebar":"tutorialsSidebar","previous":{"title":"Install the Ledger baking application of Tezos","permalink":"/previews/docs/ledger/tutorials/bake-with-ledger/install-app"},"next":{"title":"Set up your Ledger baking key with `octez-signer`","permalink":"/previews/docs/ledger/tutorials/bake-with-ledger/setup-baker"}}');var o=n(74848),r=n(28453);const s={title:"Set up your ledger",authors:"S\xe9bastien Palmer",last_update:{date:"10 January 2025"}},a=void 0,d={},l=[{value:"Disable PIN lock",id:"disable-pin-lock",level:2},{value:"Screen saver",id:"screen-saver",level:2},{value:"HWM option",id:"hwm-option",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"disable-pin-lock",children:"Disable PIN lock"}),"\n",(0,o.jsx)(t.p,{children:"The Tezos baking application allows you to bake securely without interruption. However, you will need to disable auto PIN lock feature in the Ledger to avoid getting locked out of the Ledger. Otherwise the Ledger device will lock itself and baking app will not work."}),"\n",(0,o.jsx)(t.admonition,{title:"Warning",type:"note",children:(0,o.jsxs)(t.p,{children:["Disabling the automatic lock on your Ledger device poses a risk that if any other app except baking-app is left open on your device, someone could get access to your funds by using that Ledger if left unattended.\nThe Tezos baking application is extremely secure and it only allows you to sign baking-related transactions and requires a PIN code to exit the application. However, remember to ",(0,o.jsx)(t.strong,{children:"reactivate the automatic lock on your Ledger device if you stop using the Tezos baking application on this device"}),"."]})}),"\n",(0,o.jsx)(t.p,{children:"Go to the settings of your Ledger device and search for the automatic PIN lock option, then deactivate it."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["For Nanos, Nanos+ and Nanox devices, go to ",(0,o.jsx)(t.code,{children:"Settings"})," then ",(0,o.jsx)(t.code,{children:"Security"})," and finally ",(0,o.jsx)(t.code,{children:"PIN lock"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["For Stax and Flex devices, go to ",(0,o.jsx)(t.code,{children:"Settings"})," then ",(0,o.jsx)(t.code,{children:"Lock screen"})," and then ",(0,o.jsx)(t.code,{children:"Auto-lock"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"screen-saver",children:"Screen saver"}),"\n",(0,o.jsxs)(t.p,{children:["In order to preserve the performance and integrity of your Ledger device, it is ",(0,o.jsx)(t.strong,{children:"strongly recommended"})," to activate the screen saver of your Ledger device. Go to the settings of your Ledger device and look for the screen saver option, then activate it for a value that suits you."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["For Nanos, Nanos+ and Nanox devices, go to ",(0,o.jsx)(t.code,{children:"Settings"})," then ",(0,o.jsx)(t.code,{children:"Security"})," and finally ",(0,o.jsx)(t.code,{children:"Screen saver"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"For Stax and Flex devices, there is no screen saver as of writing this article (Jan 25)."}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"hwm-option",children:"HWM option"}),"\n",(0,o.jsxs)(t.admonition,{title:"Warning",type:"note",children:[(0,o.jsxs)(t.p,{children:["HWM (High Watermark) protection exists in the Ledger ",(0,o.jsx)(t.code,{children:"Tezos Baking"})," application to avoid double-baking, double-attesting or double-preattesting at the level. The HWM is stored in NVRAM (Non-volatile Random Access Memory), after every signature, by the ",(0,o.jsx)(t.code,{children:"Tezos Baking"})," application (that is on each pre-attestation, attestation, but also while signing blocks)."]}),(0,o.jsxs)(t.p,{children:["The NVRAM on Ledger has limited read/write lifetime, thus frequent updates of NVRAM leads to NVRAM burn. To resolve this, an ",(0,o.jsx)(t.strong,{children:"optional"})," setting called HWM (ENABLE/DISABLE) is added to the Ledger ",(0,o.jsx)(t.code,{children:"Tezos Baking"})," application (since v 2.4.7). When disabled, it allows storing HWM on RAM instead of NVRAM during the signature of operations. This increases the speed/performance of the Ledger ",(0,o.jsx)(t.code,{children:"Tezos Baking"})," application and extends the lifetime of Ledger devices. The last HWM value on the Ledger\u2019s RAM is written to NVRAM at the time of exiting the Ledger ",(0,o.jsx)(t.code,{children:"Tezos Baking"})," application for persistent storage.\nIn case of an abrupt interruption of the Ledger ",(0,o.jsx)(t.code,{children:"Tezos Baking"})," application, e.g. caused by an abrupt power off of the Ledger device, the current HWM value may not be updated to the device\u2019s NVRAM. Thus, it\u2019s important to reset the value of the HWM on the Ledger device to the highest HWM value signed by the baker, before resuming baking. (See ",(0,o.jsx)(t.a,{href:"/tutorials/bake-with-ledger/run-baker#setup-the-ledger-high-watermark-hwm",children:"Setup the Ledger high watermark (HWM)"})," to setup the HWM)"]})]}),"\n",(0,o.jsxs)(t.p,{children:["For additional protection from double-baking, this tutorial demonstrates the use of an external signer (",(0,o.jsx)(t.code,{children:"octez-signer"}),"), which keeps track of HWM and prevents double baking. It's recommended to use this external signer when you disable the HWM feature on your Ledger device."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var i=n(96540);const o={},r=i.createContext(o);function s(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);