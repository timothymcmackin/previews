"use strict";(self.webpackChunkjstz_docs=self.webpackChunkjstz_docs||[]).push([[2034],{3023:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const l={},c=i.createContext(l);function t(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(c.Provider,{value:n},e.children)}},3665:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"cli","title":"Jstz CLI","description":"The Jstz CLI allows you to interact with Jstz, including managing accounts, starting the sandbox, and deploying and interacting with smart functions.","source":"@site/cli.mdx","sourceDirName":".","slug":"/cli","permalink":"/previews/jstz/custom-bash-formatter/cli","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Jstz CLI","sidebar_label":"CLI"},"sidebar":"documentationSidebar","previous":{"title":"Quick start","permalink":"/previews/jstz/custom-bash-formatter/quick_start"},"next":{"title":"Sandbox","permalink":"/previews/jstz/custom-bash-formatter/sandbox"}}');var l=s(4848),c=s(3023);const t={title:"Jstz CLI",sidebar_label:"CLI"},o=void 0,d={},r=[{value:"Config",id:"config",level:2},{value:"Commands",id:"commands",level:2},{value:"Account",id:"account",level:3},{value:"Commands",id:"commands-1",level:4},{value:"Usage",id:"usage",level:4},{value:"Options",id:"options",level:4},{value:"Examples",id:"examples",level:4},{value:"Bridge",id:"bridge",level:3},{value:"Commands",id:"commands-2",level:4},{value:"Usage",id:"usage-1",level:4},{value:"Options",id:"options-1",level:4},{value:"Example",id:"example",level:4},{value:"Deploy",id:"deploy",level:3},{value:"Usage",id:"usage-2",level:4},{value:"Arguments",id:"arguments",level:4},{value:"Options",id:"options-2",level:4},{value:"Example",id:"example-1",level:4},{value:"KV",id:"kv",level:3},{value:"Commands",id:"commands-3",level:4},{value:"Usage",id:"usage-3",level:4},{value:"Options",id:"options-3",level:4},{value:"Example",id:"example-2",level:4},{value:"Log in",id:"log-in",level:3},{value:"Usage",id:"usage-4",level:4},{value:"Arguments",id:"arguments-1",level:4},{value:"Example",id:"example-3",level:4},{value:"Log out",id:"log-out",level:3},{value:"Usage",id:"usage-5",level:3},{value:"Arguments",id:"arguments-2",level:4},{value:"Example",id:"example-4",level:4},{value:"Logs",id:"logs",level:3},{value:"Commands",id:"commands-4",level:4},{value:"Usage",id:"usage-6",level:4},{value:"Arguments",id:"arguments-3",level:4},{value:"Options",id:"options-4",level:4},{value:"Example",id:"example-5",level:4},{value:"Run",id:"run",level:3},{value:"Usage",id:"usage-7",level:4},{value:"Arguments",id:"arguments-4",level:4},{value:"Options",id:"options-5",level:4},{value:"Example",id:"example-6",level:4},{value:"Sandbox",id:"sandbox",level:3},{value:"Commands",id:"commands-5",level:4},{value:"Usage",id:"usage-8",level:4},{value:"Options",id:"options-6",level:4},{value:"Examples",id:"examples-1",level:4},{value:"Transfer",id:"transfer",level:3},{value:"Usage",id:"usage-9",level:4},{value:"Arguments",id:"arguments-5",level:4},{value:"Options",id:"options-7",level:4},{value:"Example",id:"example-7",level:4},{value:"whoami",id:"whoami",level:3},{value:"Usage",id:"usage-10",level:4},{value:"Arguments",id:"arguments-6",level:4},{value:"Example",id:"example-8",level:4}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"The Jstz CLI allows you to interact with Jstz, including managing accounts, starting the sandbox, and deploying and interacting with smart functions.\nIt provides these main commands:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#account",children:(0,l.jsx)(n.code,{children:"account"})})," - Work with Jstz accounts"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#bridge",children:(0,l.jsx)(n.code,{children:"bridge"})})," - Bridge XTZ tokens from Tezos to Jstz and back"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#deploy",children:(0,l.jsx)(n.code,{children:"deploy"})})," - Deploy smart functions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#kv",children:(0,l.jsx)(n.code,{children:"kv"})})," - Get data from the key-value store"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#log-in",children:(0,l.jsx)(n.code,{children:"login"})})," - Set the account that the CLI uses to send requests to Jstz"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#log-out",children:(0,l.jsx)(n.code,{children:"logout"})})," - Deselect the current account"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#logs",children:(0,l.jsx)(n.code,{children:"logs"})})," - Get smart function logs"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#run",children:(0,l.jsx)(n.code,{children:"run"})})," - Send requests to smart functions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#sandbox",children:(0,l.jsx)(n.code,{children:"sandbox"})})," - Start and interact with the local ",(0,l.jsx)(n.a,{href:"/sandbox",children:"sandbox"})," environment"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#transfer",children:(0,l.jsx)(n.code,{children:"transfer"})})," - Transfer XTZ between Jstz accounts"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#whoami",children:(0,l.jsx)(n.code,{children:"whoami"})})," - Print the current account"]}),"\n"]}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"jstz help"}),": Displays a general help message or help information for specific subcommands."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"jstz --version (-V)"}),": Displays the current version of Jstz."]}),"\n"]}),"\n"]})}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.p,{children:["Many of these commands require the ",(0,l.jsx)(n.code,{children:"-n"})," or ",(0,l.jsx)(n.code,{children:"--network"})," argument to specify which Jstz environment to interact with, such as ",(0,l.jsx)(n.code,{children:"-n dev"})," to interact with the Jstz sandbox or a network that is listed in your Jstz config file.\nFor more information, see ",(0,l.jsx)(n.a,{href:"/architecture/networks",children:"Networks"}),"."]}),(0,l.jsxs)(n.p,{children:["You can add the local sandbox as the default network by opening the Jstz config file at ",(0,l.jsx)(n.code,{children:"~/.config/jstz/config.json"})," and adding the line ",(0,l.jsx)(n.code,{children:'"default_network": "dev"'}),"."]})]}),"\n",(0,l.jsx)(n.h2,{id:"config",children:"Config"}),"\n",(0,l.jsx)(n.admonition,{type:"danger",children:(0,l.jsx)(n.p,{children:"\u26a0\ufe0f Under construction \u26a0\ufe0f"})}),"\n",(0,l.jsx)(n.h2,{id:"commands",children:"Commands"}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["Remember, the ",(0,l.jsx)(n.code,{children:"-h"})," or ",(0,l.jsx)(n.code,{children:"--help"})," flag can always be used after any command or subcommand to receive more detailed information about its usage. This guide is a brief overview, and the ",(0,l.jsx)(n.code,{children:"help"})," command will provide the most current and detailed instructions."]})}),"\n",(0,l.jsx)(n.h3,{id:"account",children:"Account"}),"\n",(0,l.jsxs)(n.p,{children:["Account commands create and work with Jstz accounts, including user accounts and smart functions.\nFor more information about accounts, see ",(0,l.jsx)(n.a,{href:"/architecture/accounts",children:"Accounts"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["Some commands, such as ",(0,l.jsx)(n.code,{children:"deploy"})," and ",(0,l.jsx)(n.code,{children:"run"}),", require you to log in to an account with the ",(0,l.jsx)(n.code,{children:"login"})," command to set the account from which the requests to Jstz are sent."]}),"\n",(0,l.jsx)(n.h4,{id:"commands-1",children:"Commands"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"alias"}),": Adds an alias for an address to the config file"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"balance"}),": Prints the balance for a user account or smart function"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"code"}),": Prints the code for a smart function"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"create"}),": Creates a Jstz user account and stores its information in the config file."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"delete"}),": Removes a user account or smart function address from the config file."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import"}),": Imports a user account from a secret key."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"list"}),": Lists the user accounts and smart function aliases in the config file."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"usage",children:"Usage"}),"\n",(0,l.jsxs)(n.p,{children:["Note that some commands take the alias or address of the account as an unnamed argument and others take it as the value for the ",(0,l.jsx)(n.code,{children:"--account"})," argument, as in the following examples:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz account create Alice\njstz account list\njstz account balance -a Alice\njstz account delete Alice\n"})}),"\n",(0,l.jsx)(n.h4,{id:"options",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--account (-a) <ALIAS|ADDRESS>"}),": The alias or address of the account"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--network (-n) <NETWORK>"}),": The network from the config file, such as ",(0,l.jsx)(n.code,{children:"dev"})," for the local sandbox."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz account create Alice\njstz account list\njstz bridge deposit --from bootstrap1 --to Alice --amount 1\njstz account balance -a Alice\n"})}),"\n",(0,l.jsx)(n.h3,{id:"bridge",children:"Bridge"}),"\n",(0,l.jsx)(n.p,{children:"Bridge commands transfer tokens between Tezos layer 1 and Jstz, which in this context is referred to as layer 2."}),"\n",(0,l.jsxs)(n.p,{children:["Bridge commands run in any network other than the sandbox require the Octez client; see ",(0,l.jsx)(n.a,{href:"https://docs.tezos.com/developing/octez-client",children:"The Octez client"})," on docs.tezos.com."]}),"\n",(0,l.jsx)(n.h4,{id:"commands-2",children:"Commands"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"deposit"}),": Deposits tez from an existing Tezos L1 address to a Jstz address."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"usage-1",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz bridge deposit [OPTIONS]\n"})}),"\n",(0,l.jsx)(n.h4,{id:"options-1",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--amount (-a) <INTEGER>"}),": The amount in tez to transfer."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--from (-f) <ALIAS|ADDRESS>"}),": Tezos L1 address or alias to withdraw from, which must be stored in the Octez client."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--network (-n) <NETWORK>"}),": The network from the config file, such as ",(0,l.jsx)(n.code,{children:"dev"})," for the local sandbox."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--to (-t) <ALIAS|ADDRESS>"}),": The Jstz address or alias to deposit to."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz bridge deposit --from tz1faswCTDciRzE4oJ9jn2Vm2dvjeyA9fUzU --to tz1iA2Mu65WR3enRHEx9HDfBNRNTecwoz263 --amount 57\n"})}),"\n",(0,l.jsx)(n.h3,{id:"deploy",children:"Deploy"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"deploy"})," command deploys a smart function to the specified Jstz environment.\nFor more information, see ",(0,l.jsx)(n.a,{href:"/functions/deploying",children:"Deploying smart functions"}),"."]}),"\n",(0,l.jsx)(n.h4,{id:"usage-2",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz deploy [OPTIONS] [CODE|PATH]\n"})}),"\n",(0,l.jsx)(n.h4,{id:"arguments",children:"Arguments"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[CODE|PATH]"}),": Function code or the file path to the function code."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"options-2",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--balance (-b) <BALANCE>"}),": The initial balance for the function."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--config <PATH>"}),": Overrides the path to the config file."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--force (-f) <NETWORK>"}),": Overwrites an existing function name. Effective only when ",(0,l.jsx)(n.code,{children:"name"})," is specified."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--name <NAME>"}),": Local name or alias of the function."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--network (-n) <NETWORK>"}),": The network from the config file, such as ",(0,l.jsx)(n.code,{children:"dev"})," for the local sandbox."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.admonition,{type:"note",children:[(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"--name"})," argument sets a local alias for the smart function's address.\nThis alias is stored in the local configuration file and therefore it is known only to the CLI and not to any other system on the network.\nAll other clients, including web applications, must use the full address of the function instead of this alias."]}),(0,l.jsx)(n.p,{children:"The Jstz CLI ties each alias to an address without regard to the network that the smart function is deployed to.\nTherefore, be careful with aliases when you are using more than one network.\nIf two smart functions (or two copies of the same smart function) are deployed to different networks with the same address, the alias refers to both of them.\nUsing the alias can lead to unexpected outcomes if you're not careful about which network you're calling."})]}),"\n",(0,l.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz deploy examples/counter.js --name my_counter --balance 42\n"})}),"\n",(0,l.jsx)(n.h3,{id:"kv",children:"KV"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"kv"})," commands get information from the Jstz key-value store.\nThey cannot change that information because only smart functions can write to the key-value store.\nTo get or change key-value data in a smart function, see ",(0,l.jsx)(n.a,{href:"/api/kv",children:"KV"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"list"})," command lists sub-keys for a given key.\nSub-keys are separated with slashes, so if a smart function stores data with the keys ",(0,l.jsx)(n.code,{children:"primaryKey/subKeyA"})," and ",(0,l.jsx)(n.code,{children:"primaryKey/subKeyB"}),", the command ",(0,l.jsx)(n.code,{children:"jstz kv list primaryKey"})," returns ",(0,l.jsx)(n.code,{children:"subKeyA"})," and ",(0,l.jsx)(n.code,{children:"subKeyB"}),"."]}),"\n",(0,l.jsx)(n.h4,{id:"commands-3",children:"Commands"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"get"}),": Gets a value from the key-value store."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"list"}),": Lists sub-keys for a given key."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"usage-3",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'export counter=KT1RdoBXrboPnS6tQdMCPKjRRt4baTQHUeh9 # Address of the previously deployed smart function examples/counter.js\njstz run "jstz://${counter}/"\njstz kv get -a $counter counter\n'})}),"\n",(0,l.jsx)(n.h4,{id:"options-3",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--account (-a) <ADDRESS>"}),": The address of the smart function to get the key-value data for."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--network (-n) <NETWORK>"}),": The network from the config file, such as ",(0,l.jsx)(n.code,{children:"dev"})," for the local sandbox."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example-2",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz kv get -a $counter counter\n"})}),"\n",(0,l.jsx)(n.h3,{id:"log-in",children:"Log in"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"login"})," command switches the active account to an account from the config file.\nIt sets this account as the ",(0,l.jsx)(n.code,{children:"current_alias"})," field in the config file.\nThe active account is the account from which calls to smart functions come from."]}),"\n",(0,l.jsx)(n.h4,{id:"usage-4",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz login <ALIAS>\n"})}),"\n",(0,l.jsx)(n.h4,{id:"arguments-1",children:"Arguments"}),"\n",(0,l.jsx)(n.p,{children:"None."}),"\n",(0,l.jsx)(n.h4,{id:"example-3",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz logout\njstz account create Alice\njstz login Alice\n"})}),"\n",(0,l.jsx)(n.h3,{id:"log-out",children:"Log out"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"logout"})," command deselects the active account, removing the ",(0,l.jsx)(n.code,{children:"current_alias"})," field from the config file.\nIt does not remove the account from the config file entirely.\nYou must log in to an account with the ",(0,l.jsx)(n.code,{children:"login"})," command before you can run commands that use an account, such as the ",(0,l.jsx)(n.code,{children:"deploy"})," or ",(0,l.jsx)(n.code,{children:"run"})," commands."]}),"\n",(0,l.jsx)(n.h3,{id:"usage-5",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz logout\n"})}),"\n",(0,l.jsx)(n.h4,{id:"arguments-2",children:"Arguments"}),"\n",(0,l.jsx)(n.p,{children:"None."}),"\n",(0,l.jsx)(n.h4,{id:"example-4",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz logout\njstz account create Alice\njstz login Alice\njstz logout\n"})}),"\n",(0,l.jsx)(n.h3,{id:"logs",children:"Logs"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"trace"})," command follows logs from deployed smart functions and prints them to the console."]}),"\n",(0,l.jsxs)(n.p,{children:["As an alternative, you can add the ",(0,l.jsx)(n.code,{children:"--trace"})," flag to the ",(0,l.jsx)(n.code,{children:"jstz run"})," command to show the logs from a single smart function request."]}),"\n",(0,l.jsx)(n.h4,{id:"commands-4",children:"Commands"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"trace"}),": Trace the logs from the specified function."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"usage-6",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz logs trace [OPTIONS] <ALIAS|ADDRESS>\n"})}),"\n",(0,l.jsx)(n.h4,{id:"arguments-3",children:"Arguments"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<ALIAS|ADDRESS>"}),": The function's address or alias."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"options-4",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--level (-l) <level>"}),": Specifies the level of log. Default is ",(0,l.jsx)(n.code,{children:"log"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--network (-n) <NETWORK>"}),": The network from the config file, such as ",(0,l.jsx)(n.code,{children:"dev"})," for the local sandbox."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example-5",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz deploy examples/logs.js --name my_function\njstz logs trace my_function\n"})}),"\n",(0,l.jsx)(n.p,{children:"In a new terminal, run the counter function and you will see the following output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"[LOG]: log\n[LOG]: debug\n[INFO]: info\n[WARN]: warn\n[ERROR]: error\n[ERROR]: Assertion failed\n"})}),"\n",(0,l.jsx)(n.h3,{id:"run",children:"Run"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"run"})," command sends a request to a smart function using a specified URL."]}),"\n",(0,l.jsx)(n.h4,{id:"usage-7",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz run [OPTIONS] <URL>\n"})}),"\n",(0,l.jsx)(n.h4,{id:"arguments-4",children:"Arguments"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<URL>"}),": The URL to send the request to, in the format ",(0,l.jsx)(n.code,{children:"jstz://<ADDRESS|ALIAS>/<PATH>"}),", where ",(0,l.jsx)(n.code,{children:"<ADDRESS|ALIAS>"})," is the address or alias of the smart function and ",(0,l.jsx)(n.code,{children:"<PATH>"})," is the path to call, which is passed to the smart function."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"options-5",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--amount (-a) <data>"}),": The amount in XTZ to transfer."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--data (-d) <data>"}),": Defines the JSON data to be included in the request body."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--gas-limit (-g) <GAS_LIMIT>"}),": The maximum amount of gas to be used. Default is ",(0,l.jsx)(n.code,{children:"100000"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--include (-i)"}),": Include response headers in the output."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--method (-m) <method>"}),": The HTTP method used in the request. Default is ",(0,l.jsx)(n.code,{children:"GET"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--network (-n) <NETWORK>"}),": The network from the config file, such as ",(0,l.jsx)(n.code,{children:"dev"})," for the local sandbox."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--trace (-t)"}),": Flag to show the logs of the function."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example-6",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'export counter=KT1RdoBXrboPnS6tQdMCPKjRRt4baTQHUeh9 # Address of the previously deployed smart function examples/counter.js\njstz run --trace "jstz://${counter}/"\njstz run --trace "jstz://${counter}/"\njstz run --trace "jstz://${counter}/"\njstz run --trace "jstz://${counter}/"\n'})}),"\n",(0,l.jsxs)(n.p,{children:["If you deploy the ",(0,l.jsx)(n.code,{children:"counter"})," smart function and call it as in the previous examples, you should see its output in the console, as in this example:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"[LOG] Counter: null\n[LOG] Counter: 0\n[LOG] Counter: 1\n[LOG] Counter: 2\n"})}),"\n",(0,l.jsx)(n.h3,{id:"sandbox",children:"Sandbox"}),"\n",(0,l.jsxs)(n.p,{children:["The sandbox commands are responsible for managing the Jstz sandbox environment.\nFor more information, see ",(0,l.jsx)(n.a,{href:"/sandbox",children:"sandbox"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["In most cases, start the sandbox in a Docker container by including the ",(0,l.jsx)(n.code,{children:"--container"})," flag.\nIf you don't use this flag, Jstz requires that you clone the Jstz repository at ",(0,l.jsx)(n.a,{href:"https://github.com/jstz-dev/jstz/",children:"https://github.com/jstz-dev/jstz/"})," and install its ",(0,l.jsx)(n.code,{children:"nix"})," environment as described in ",(0,l.jsx)(n.a,{href:"/installation#building-from-source",children:"Building from source"}),"."]}),"\n",(0,l.jsx)(n.h4,{id:"commands-5",children:"Commands"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"restart"}),": Restarts the sandbox."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"start"}),": Starts the sandbox environment."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"stop"}),": Shuts down the sandbox environment."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"usage-8",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz sandbox start [OPTIONS]\njstz sandbox restart [OPTIONS]\njstz sandbox stop\n"})}),"\n",(0,l.jsx)(n.h4,{id:"options-6",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--container"}),": Run the sandbox in a Docker container.\nRequires Docker."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--detach (-d)"}),": Detach the process to run in the background."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"examples-1",children:"Examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz sandbox --container start -d\n\njstz sandbox --container restart -d\n\njstz sandbox --container stop\n"})}),"\n",(0,l.jsx)(n.h3,{id:"transfer",children:"Transfer"}),"\n",(0,l.jsx)(n.p,{children:"Transfer XTZ between Jstz accounts."}),"\n",(0,l.jsx)(n.h4,{id:"usage-9",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz transfer [OPTIONS] <AMOUNT> <ADDRESS|ALIAS>\n"})}),"\n",(0,l.jsx)(n.h4,{id:"arguments-5",children:"Arguments"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"<ADDRESS|ALIAS>"}),": Destination address or alias of the account (user or smart function)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"<AMOUNT>"}),": The amount in XTZ to transfer."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"options-7",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--gas-limit (-g) <GAS_LIMIT>"}),": The maximum amount of gas to be used. Default is ",(0,l.jsx)(n.code,{children:"100000"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--include (-i)"}),": Include response headers in the output."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"--network (-n) <NETWORK>"}),": The network from the config file, such as ",(0,l.jsx)(n.code,{children:"dev"})," for the local sandbox."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example-7",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz transfer 2 KT1CexuXoXuShARedvKSmxwDTLxRHNcvxqKR\n"})}),"\n",(0,l.jsx)(n.h3,{id:"whoami",children:"whoami"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"whoami"})," command prints the active account alias.\nUse the ",(0,l.jsx)(n.code,{children:"login"})," and ",(0,l.jsx)(n.code,{children:"logout"})," commands to change the active account."]}),"\n",(0,l.jsx)(n.h4,{id:"usage-10",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz whoami\n"})}),"\n",(0,l.jsx)(n.h4,{id:"arguments-6",children:"Arguments"}),"\n",(0,l.jsx)(n.p,{children:"None."}),"\n",(0,l.jsx)(n.h4,{id:"example-8",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"jstz whoami\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);