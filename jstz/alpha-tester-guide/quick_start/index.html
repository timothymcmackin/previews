<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-quick_start" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Quick start | Jstz documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jstz-dev.github.io/previews/jstz/alpha-tester-guide/quick_start"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Quick start | Jstz documentation"><meta data-rh="true" name="description" content="This guide will instruct you in writing, deploying, and using your first Jstz smart function."><meta data-rh="true" property="og:description" content="This guide will instruct you in writing, deploying, and using your first Jstz smart function."><link data-rh="true" rel="canonical" href="https://jstz-dev.github.io/previews/jstz/alpha-tester-guide/quick_start"><link data-rh="true" rel="alternate" href="https://jstz-dev.github.io/previews/jstz/alpha-tester-guide/quick_start" hreflang="en"><link data-rh="true" rel="alternate" href="https://jstz-dev.github.io/previews/jstz/alpha-tester-guide/quick_start" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XJJKSPLGTN-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Quick start","item":"https://jstz-dev.github.io/previews/jstz/alpha-tester-guide/quick_start"}]}</script><meta http-equiv="Content-Security-Policy" content=" default-src &#39;none&#39;; base-uri &#39;self&#39;; manifest-src &#39;self&#39;; script-src https://*.googletagmanager.com https://cdn.jsdelivr.net &#39;self&#39; &#39;unsafe-inline&#39;; style-src https://cdn.jsdelivr.net https://fonts.googleapis.com &#39;self&#39; &#39;unsafe-inline&#39;; font-src https://cdn.jsdelivr.net https://fonts.gstatic.com &#39;self&#39;; img-src &#39;self&#39; https://*.googletagmanager.com https://*.google-analytics.com data: &#39;unsafe-eval&#39;; media-src &#39;self&#39;; form-action &#39;self&#39;; connect-src &#39;self&#39; https://*.algolia.net https://*.algolianet.com https://*.googletagmanager.com https://*.google-analytics.com https://*.analytics.google.com;"><link rel="stylesheet" href="/previews/jstz/alpha-tester-guide/assets/css/styles.5bb88477.css">
<script src="/previews/jstz/alpha-tester-guide/assets/js/runtime~main.31a0117d.js" defer="defer"></script>
<script src="/previews/jstz/alpha-tester-guide/assets/js/main.03c7b740.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/previews/jstz/alpha-tester-guide/"><b class="navbar__title text--truncate">üë®‚Äç‚öñÔ∏è Jstz docs</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/jstz-dev/jstz/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPrP"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/previews/jstz/alpha-tester-guide/installation">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/previews/jstz/alpha-tester-guide/quick_start">Quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/sandbox">Sandbox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/transfer">Transfer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/examples">Examples</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/previews/jstz/alpha-tester-guide/architecture/overview">Architecture</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/architecture/overview">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/architecture/bridge">Asset bridge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/architecture/accounts">Accounts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/previews/jstz/alpha-tester-guide/functions/overview">Smart functions</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/overview">Smart functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/building">Building</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/deploying">Deploying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/requests">Handling requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/data_storage">Storing data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/calling">Calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/tokens">Managing tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/previews/jstz/alpha-tester-guide/functions/errors">Handling errors</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/previews/jstz/alpha-tester-guide/api/">API Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/previews/jstz/alpha-tester-guide/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting Started</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Quick start</span></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Quick start</h1></header><p>This guide will instruct you in writing, deploying, and using your first Jstz <em>smart function</em>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">‚Äã</a></h2>
<ul>
<li>
<p>Install Node.JS, <code>npm</code>, and Docker.</p>
</li>
<li>
<p>Install Jstz as described in <a href="/previews/jstz/alpha-tester-guide/installation">Installation</a>.</p>
<p>To verify your installation, run this command to check the version of Jstz:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">jstz --version</span><br></span></code></pre></div></div>
</li>
<li>
<p>Install the Google Chrome browser, which is the only browser supported by the Jstz development wallet.</p>
</li>
</ul>
<p>It will also help to have a basic familiarity with <a href="https://www.youtube.com/watch?v=zQnBQ4tB3ZA" target="_blank" rel="noopener noreferrer">Typescript</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="what-is-jstz">What is Jstz?<a href="#what-is-jstz" class="hash-link" aria-label="Direct link to What is Jstz?" title="Direct link to What is Jstz?">‚Äã</a></h2>
<p>Jstz allows you to deploy <em>smart functions</em>, which are JavaScript applications that behave like <a href="https://en.wikipedia.org/wiki/Serverless_computing" target="_blank" rel="noopener noreferrer">serverless applications</a>, small applications that run only when called and do not have a persistent presence in memory on any specific server.
Jstz smart functions run on the Tezos blockchain via <a href="https://docs.tezos.com/architecture/smart-rollups" target="_blank" rel="noopener noreferrer">Smart Rollup</a> technology.</p>
<p>Running on Tezos provides smart functions with many of the same advantages as <a href="https://docs.tezos.com/smart-contracts" target="_blank" rel="noopener noreferrer">smart contracts on Tezos</a>:</p>
<ul>
<li>Smart functions are persistent, transparent, and immutable, which allows users to trust that they will stay available and will not change how they behave or be shut down</li>
<li>Smart functions are censorship-resistant, because they are deployed on distributed Jstz Smart Rollup nodes and therefore no one can block calls to them</li>
<li>Smart functions have no long-term hosting cost; they incur a cost only when called</li>
<li>Smart functions have built-in authentication via user account encryption keys</li>
</ul>
<p>Also, because smart functions run on a Tezos Smart Rollup instead of directly on Tezos, they have the additional benefits of low gas cost and reduced latency that Tezos layer 2 provides.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="1-a-sample-smart-function">1. A sample smart function<a href="#1-a-sample-smart-function" class="hash-link" aria-label="Direct link to 1. A sample smart function" title="Direct link to 1. A sample smart function">‚Äã</a></h2>
<p>Like smart contracts, you compile and deploy smart functions and then they cannot be changed.
However, smart functions behave more like web applications because they accept requests and return responses in a way similar to ordinary web-based HTTP requests.</p>
<p>The sample smart function in the <code>examples/counter</code> folder of the Jstz repository stores an integer and allows users to retrieve it or change it by adding or subtracting 1.
This smart functions demonstrates how smart functions provide transparent, trustable, unchangeable logic and how they can store persistent data that no other source can manipulate.
Its code is written in ordinary TypeScript:</p>
<div class="language-typescript codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-typescript codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// &lt;src=&quot;examples/counter/index.ts&quot;&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Get the current number from storage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> get </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> num</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Kv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;myNumber&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> num </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Set the number in storage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">set</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Kv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;myNumber&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Response</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Extract the requester&#x27;s address and URL path from the request</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> requester </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">headers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Referer&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> Address</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">URL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> url</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pathname</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toLowerCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">requester</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> calls </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">path</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> responseMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/increment&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      responseMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Incremented. Current value is &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/decrement&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      responseMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Decremented. Current value is &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/get&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      responseMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Current value is &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      responseMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;Call the URL path &#x27;/get&#x27;, &#x27;/increment&#x27;, or &#x27;/decrement&#x27;.&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">responseMessage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> handler</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>This smart function consists of these elements:</p>
<ul>
<li>
<p>Two utility functions that read and write data with the Jstz key-value store.
Each time a smart function is called, it runs in a new environment and therefore it must store any persistent data in the key-value store.
This smart function stores the current number in the key-value store with the key <code>myNumber</code>.</p>
<p>Only the function itself can write to its storage.
Smart functions cannot read the data of other functions, but the data is publicly visible to applications outside of Jstz via the client API.</p>
</li>
<li>
<p>A <code>handler</code> function.</p>
<p>The handler function is the sole entrypoint of a Jstz smart function; it is what runs when a client calls the smart function.
The handler function receives a Jstz <a href="/previews/jstz/alpha-tester-guide/api/request">request</a> object that includes the address of the account that called it in its <code>Referer</code> header and an optional request body.
It must return a Jstz <a href="/previews/jstz/alpha-tester-guide/api/response">response</a> object or a promise that resolves to a response object.
In this way, smart functions behave much like conventional web server handlers or cloud functions.</p>
<p>In this case, the handler runs this logic:</p>
<ol>
<li>Using the request object, it gets the address that sent the request and the path called.</li>
<li>It logs the requester and the path they called.</li>
<li>It uses an ordinary JavaScript <code>switch</code> statement to branch based on the path called.
Smart functions can branch from the <code>handler</code> function in any way that makes sense for the application.</li>
<li>Depending on the path in the request, the smart function increments or decrements the value or simply gets the current value.</li>
<li>The smart function returns a response to the caller with a message.</li>
</ol>
</li>
<li>
<p>An <code>export default</code> statement.</p>
<p><code>export default</code> is JavaScript syntax required for defining an ECMAScript module.
Smart functions <em>must</em> have a default export of a function that has the following type:</p>
<div class="language-typescript codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-typescript codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Handler</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">req</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> Response </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Response</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="deploying-the-smart-function">2. Deploying the smart function<a href="#deploying-the-smart-function" class="hash-link" aria-label="Direct link to 2. Deploying the smart function" title="Direct link to 2. Deploying the smart function">‚Äã</a></h2>
<p>Follow these instructions to deploy the sample smart function to a local sandbox:</p>
<ol>
<li>
<p>Start the Jstz local sandbox in a Docker container:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">jstz sandbox --container start</span><br></span></code></pre></div></div>
<p>If you see an error that says that the configuration file is improperly configured, delete the <code>~/.config/jstz/</code> folder and try to start the sandbox again.</p>
<div class="theme-admonition theme-admonition-tip admonition_WCGJ alert alert--success"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_pbrs"><p>The <code>--detach</code> (<code>-d</code>) flag starts the sandbox in the background, allowing you to continue working in the same terminal.
You can stop or reset the sandbox with the commands <code>jstz sandbox --container stop</code> or <code>jstz sandbox --container restart</code>, but the state of the sandbox is not persistent.</p></div></div>
<p>When the sandbox starts, it shows the bootstrap accounts and their balances on Tezos layer 1, which you can use to fund smart functions and user accounts in Jstz via the <a href="/previews/jstz/alpha-tester-guide/architecture/bridge">Bridge</a>.</p>
</li>
<li>
<p>Open a new terminal window, clone the Jstz repository and navigate to the <code>counter</code> example:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/jstz-dev/jstz.git &amp;&amp; cd jstz/examples/counter</span><br></span></code></pre></div></div>
<p>You may see an error that says <code>.envrc is blocked.</code>
You can ignore this error because it refers to setting up a development environment to build Jstz locally.</p>
</li>
<li>
<p>Install the dependencies for the counter smart function:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span></code></pre></div></div>
</li>
<li>
<p>Run this command to compile and deploy the smart function to the sandbox:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jstz deploy dist/index.js -n dev</span><br></span></code></pre></div></div>
<p>If this is your first time deploying a smart function, the <code>deploy</code> command prompts you to create a Jstz account.
You can use any local name and passphrase for the account.
Later, you can create accounts with the <code>jstz account create</code> and switch accounts with the <code>jstz login</code> and <code>jstz account</code> commands.
As described in <a href="/previews/jstz/alpha-tester-guide/architecture/accounts">Accounts</a>, command-line accounts are stored in the local file <code>~/.config/jstz/config.json</code>.</p>
<p>Upon successful deployment, Jstz assigns the smart function a unique <code>KT1</code> address.
This address is its identifier, similar to an IP address or a smart contract address.
Now the smart function is accessible through a URL of the format <code>jstz://&lt;ADDRESS&gt;/</code>, where <code>&lt;ADDRESS&gt;</code> is the address of the smart function.</p>
<p>After you deploy the smart function, you cannot delete it or change it.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="3-calling-the-smart-function-from-the-command-line">3. Calling the smart function from the command line<a href="#3-calling-the-smart-function-from-the-command-line" class="hash-link" aria-label="Direct link to 3. Calling the smart function from the command line" title="Direct link to 3. Calling the smart function from the command line">‚Äã</a></h2>
<p>After a successful deployment, you can call the smart function in a way similar to sending an HTTP request.
Jstz provides a command-line command to call smart functions that you can use to test and inspect deployed smart functions.</p>
<ol>
<li>
<p>Run this command, where <code>&lt;ADDRESS&gt;</code> is the address of the deployed smart function:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">jstz run jstz://&lt;ADDRESS&gt;/increment -n dev</span><br></span></code></pre></div></div>
<p>The command returns the response from the smart function: <code>&quot;Incremented. Current value is 1&quot;</code>.</p>
</li>
<li>
<p>Check the value of the smart function&#x27;s key-value store by running this command:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">jstz kv get -a &lt;ADDRESS&gt; -n dev &quot;myNumber&quot;</span><br></span></code></pre></div></div>
<p>The response is the value of the <code>myNumber</code> key in the smart function&#x27;s storage.</p>
</li>
</ol>
<p>Congratulations! üéâ You have now successfully deployed and crafted a Jstz request to run your first smart function.</p>
<div class="theme-admonition theme-admonition-tip admonition_WCGJ alert alert--success"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_pbrs"><p>For debugging, you can listen to the log of a smart function with the command <code>jstz logs trace</code> which behaves like the Linux command <code>tail -f</code>.</p><p>You can also send a request and view the log messages generated from that request by adding the <code>--trace</code> flag to the <code>jstz run</code> command.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="4-installing-the-jstz-development-wallet">4. Installing the Jstz development wallet<a href="#4-installing-the-jstz-development-wallet" class="hash-link" aria-label="Direct link to 4. Installing the Jstz development wallet" title="Direct link to 4. Installing the Jstz development wallet">‚Äã</a></h2>
<p>To use Jstz in a web application, you need a browser-based wallet to sign transactions cryptographically on behalf of your account.
Jstz currently has a browser-based wallet for development purposes.</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_pbrs"><p>This wallet is for use in development.
It is not yet secure enough to use in production applications.</p></div></div>
<ol>
<li>
<p>Install the Chrome web browser.</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_pbrs"><p>The Jstz dev wallet supports only the Chrome web browser.</p></div></div>
</li>
<li>
<p>Download the source code for the dev wallet:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/jstz-dev/dev-wallet.git</span><br></span></code></pre></div></div>
</li>
<li>
<p>Install Node.JS version 22 or later.</p>
</li>
<li>
<p>Go into the repository, install the dependencies, and build the wallet:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">cd dev-wallet &amp;&amp; pnpm i &amp;&amp; pnpm build</span><br></span></code></pre></div></div>
</li>
<li>
<p>In Chrome, open the extensions page at <code>chrome://extensions</code>.</p>
</li>
<li>
<p>At the top right of the page, use the radio button to enable <strong>Developer mode</strong>.</p>
</li>
<li>
<p>Click <strong>Load unpacked</strong>, select the <code>dist</code> folder of the <code>dev-wallet</code> repository, and then click <strong>Select</strong> to install the extension from the built files.</p>
<p>The Jstz dev wallet appears in the list of extensions in the browser.</p>
</li>
<li>
<p>Create an account in the dev wallet by clicking the extension icon and then clicking <strong>Generate new wallet</strong>.</p>
</li>
</ol>
<p>Now when you click the extension, it shows your account.
This account is managed by the extension and is not linked to the account that you used to call the smart function on the command line.</p>
<div style="max-width:400px"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFUlEQVR4nB2N30rCcACF9yRa4EWP0GVomGxECYn3gVddWNEzBFpBV71A0WOUIHXRnZqyKJdtS7c23F9hK+YX/g58FwcO35EKe+esKW3yyiU5+YKc3CIveov13Ss2G7dsHN4jta/vqB+byI0J+0cWtdOMajOldhJy0HSpn0UUqjdIj90RnWeDzpPOQ/eLl57P2IS3ScaHDsP3lK2igtTv99DGKvO5jW3pROEc+CXL/lglTRPKOzKSpn3y47hEUUwcL4jiBZ4XkCSJGCZJSrmiIA1HI1RVxXVdwjDE8zyCIMD3fYFt25RK5ZVRw7IsHMcRlizLWC6XAmEU1xWkweCV2WyGrusC0/zGNE0Mw2A6nbISFYvb/AOYgwLfVCzAMQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="510"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/previews/jstz/alpha-tester-guide/assets/ideal-img/quick_start_wallet.3d81ba2.640.png" srcset="/previews/jstz/alpha-tester-guide/assets/ideal-img/quick_start_wallet.3d81ba2.640.png 640w,/previews/jstz/alpha-tester-guide/assets/ideal-img/quick_start_wallet.974de9a.886.png 886w" width="640" height="510"></noscript></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="5-interacting-with-the-smart-function-in-a-web-application">5. Interacting with the smart function in a web application<a href="#5-interacting-with-the-smart-function-in-a-web-application" class="hash-link" aria-label="Direct link to 5. Interacting with the smart function in a web application" title="Direct link to 5. Interacting with the smart function in a web application">‚Äã</a></h2>
<p>Smart functions can provide a secure, transparent backend for web applications.
Follow these steps to run a sample web application that uses your smart function as a backend:</p>
<ol>
<li>
<p>On the same system as you are running the Jstz sandbox, build and run the <code>web-call-to-jstz</code> sample application from the <code>dev-wallet</code> repository:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">cd examples/web-call-to-jstz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm dev</span><br></span></code></pre></div></div>
</li>
<li>
<p>Open the application in Chrome at <code>http://localhost:3000</code>.</p>
</li>
<li>
<p>Paste the address of your smart function into the web application.</p>
</li>
<li>
<p>Click one of the buttons under the address field.</p>
<p>The wallet extension opens and prompts you to sign the Jstz transaction with your account.</p>
</li>
<li>
<p>In the extension, click <strong>Sign</strong> to sign the transaction.</p>
<p>The web application sends the signed transaction to Jstz and updates its status message to say that it is waiting for a response.
When the web application receives the response from Jstz, it updates the message, as in this screenshot:</p>
<div style="max-width:400px"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAp0lEQVR4nD2OOwqFUAxE77ItLQQLa8HCDbgFsbfTHViJ4h9FUfFzJIH3BqaYMMmJua6LeZ7Vy7Kop2niOA5E7/uqjRS7rmMcR4ZhoO97zfu+a+G+b57nwUjYto2yLLWwrit1XeuClP4XBRUEAVVVkSQJjuOQpilFUeB5Hr7v07YtRnC2bZPnOVEUYVkWcRyTZRmu6xKGIU3TYIR/nqf+J1iRzAT7k6A/6lbaFDYmAhwAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="392"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/previews/jstz/alpha-tester-guide/assets/ideal-img/quick_start_web_app.b38a85d.640.png" srcset="/previews/jstz/alpha-tester-guide/assets/ideal-img/quick_start_web_app.b38a85d.640.png 640w,/previews/jstz/alpha-tester-guide/assets/ideal-img/quick_start_web_app.b6d77a3.852.png 852w" width="640" height="392"></noscript></div></div>
</li>
</ol>
<p>This web application demonstrates how Jstz can provide secure authentication and backends for web applications.
From here, you can customize the smart function and application to accept more complex requests, store more data, and manage payments in tez, the currency of Jstz and the Tezos blockchain.
You can also try writing your own smart functions and web applications or experiment with the <a href="/previews/jstz/alpha-tester-guide/examples">Examples</a>.</p>
<p>And that&#x27;s it! You are now equipped to battle the evil forces of centralization. Go forth and do Jstz üëä!</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/previews/jstz/alpha-tester-guide/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/previews/jstz/alpha-tester-guide/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CLI</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#what-is-jstz" class="table-of-contents__link toc-highlight">What is Jstz?</a></li><li><a href="#1-a-sample-smart-function" class="table-of-contents__link toc-highlight">1. A sample smart function</a></li><li><a href="#deploying-the-smart-function" class="table-of-contents__link toc-highlight">2. Deploying the smart function</a></li><li><a href="#3-calling-the-smart-function-from-the-command-line" class="table-of-contents__link toc-highlight">3. Calling the smart function from the command line</a></li><li><a href="#4-installing-the-jstz-development-wallet" class="table-of-contents__link toc-highlight">4. Installing the Jstz development wallet</a></li><li><a href="#5-interacting-with-the-smart-function-in-a-web-application" class="table-of-contents__link toc-highlight">5. Interacting with the smart function in a web application</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>