"use strict";(self.webpackChunkjstz_docs=self.webpackChunkjstz_docs||[]).push([[449],{3023:(n,e,t)=>{t.d(e,{R:()=>c,x:()=>r});var s=t(6540);const o={},i=s.createContext(o);function c(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:c(n.components),s.createElement(i.Provider,{value:e},n.children)}},5347:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"functions/deploying","title":"Deploying smart functions","description":"Deploying a smart function to Jstz is different from deploying most web or JavaScript/TypeScript applications because you cannot change the code of a smart function or delete it after you deploy it.","source":"@site/functions/deploying.md","sourceDirName":"functions","slug":"/functions/deploying","permalink":"/jstz/functions/deploying","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Deploying smart functions","sidebar_label":"Deploying"},"sidebar":"documentationSidebar","previous":{"title":"Building","permalink":"/jstz/functions/building"},"next":{"title":"Handling requests","permalink":"/jstz/functions/requests"}}');var o=t(4848),i=t(3023);const c={title:"Deploying smart functions",sidebar_label:"Deploying"},r=void 0,a={},l=[{value:"Deploying to the local sandbox",id:"deploying-to-the-local-sandbox",level:2}];function d(n){const e={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.p,{children:"Deploying a smart function to Jstz is different from deploying most web or JavaScript/TypeScript applications because you cannot change the code of a smart function or delete it after you deploy it.\nWhen you deploy a smart function, Jstz records code of the smart function in its ledger of transactions and there is no way to change or delete entries from the ledger."}),"\n",(0,o.jsx)(e.h2,{id:"deploying-to-the-local-sandbox",children:"Deploying to the local sandbox"}),"\n",(0,o.jsx)(e.p,{children:"You can use the local sandbox to test smart functions in a simulated environment."}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"Ensure that Docker is installed."}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:["Build the smart function as described in ",(0,o.jsx)(e.a,{href:"/functions/building",children:"Building smart functions"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:["Start the Jstz sandbox in a Docker container by running ",(0,o.jsx)(e.code,{children:"jstz sandbox --container start"}),".\nThe sandbox persists as long as the container is running."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:["Deploy the built smart function with the ",(0,o.jsx)(e.code,{children:"jstz deploy"})," command, including the ",(0,o.jsx)(e.code,{children:"-n dev"})," argument to deploy it to the sandbox, as in this example:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"jstz deploy dist/index.js -n dev\n"})}),"\n",(0,o.jsx)(e.p,{children:"If the deployment is successful, the response includes the address of the deployed smart function."}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:["If you need to fund the smart function, you can bridge funds from bootstrap accounts with the ",(0,o.jsx)(e.code,{children:"jstz bridge deposit"})," command, as in this example, which uses the variable ",(0,o.jsx)(e.code,{children:"<ADDRESS>"})," for the address of the deployed smart function:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"jstz bridge deposit --from bootstrap1 --to <ADDRESS> --amount 1000 -n dev\n"})}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:["Verify that the smart function is deployed by calling it with the ",(0,o.jsx)(e.code,{children:"jstz run"})," command or by checking its balance by running this command:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"jstz account balance -a <ADDRESS> -n dev\n"})}),"\n"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}}}]);