"use strict";(self.webpackChunkjstz_docs=self.webpackChunkjstz_docs||[]).push([[523],{3023:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>l});var s=o(6540);const r={},i=s.createContext(r);function t(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(i.Provider,{value:n},e.children)}},7736:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"api/console","title":"Console","description":"An implementation of the Web standard console API suitable for logging and debugging jstz smart functions.","source":"@site/api/console.md","sourceDirName":"api","slug":"/api/console","permalink":"/jstz/api/console","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Console","sidebar_label":"Console"},"sidebar":"documentationSidebar","previous":{"title":"API reference","permalink":"/jstz/api/"},"next":{"title":"KV","permalink":"/jstz/api/kv"}}');var r=o(4848),i=o(3023);const t={title:"Console",sidebar_label:"Console"},l=void 0,c={},a=[{value:"Quick start",id:"quick-start",level:2},{value:"Logging objects",id:"logging-objects",level:3},{value:"Assertions",id:"assertions",level:3},{value:"Groups",id:"groups",level:3},{value:"Instance Methods",id:"instance-methods",level:2},{value:"<code>console.log(...message : unknown[]) : void</code>",id:"log",level:3},{value:"<code>console.info(...message : unknown[]) : void</code>",id:"info",level:3},{value:"<code>console.warn(...message : unknown[]) : void</code>",id:"warn",level:3},{value:"<code>console.error(...message : unknown[]) : void</code>",id:"error",level:3},{value:"<code>console.assert(assertion: unknown, ...message : unknown[]) : void</code>",id:"assert",level:3},{value:"<code>console.debug(...message : unknown[]) : void</code>",id:"debug",level:3},{value:"<code>console.group(...label : unknown[]) : void</code>",id:"group",level:3},{value:"<code>console.groupCollapsed(...message : unknown[]) : void</code>",id:"consolegroupcollapsedmessage--unknown--void",level:3},{value:"<code>console.groupEnd() : void</code>",id:"groupEnd",level:3},{value:"<code>console.clear() : void</code>",id:"clear",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["An implementation of the Web standard ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/console",children:(0,r.jsx)(n.code,{children:"console"})})," API suitable for logging and debugging ",(0,r.jsx)(n.code,{children:"jstz"})," smart functions."]}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,r.jsx)(n.code,{children:"jstz"}),"'s implementation is not spec compliant \u26a0\ufe0f"]})}),"\n",(0,r.jsx)(n.h2,{id:"quick-start",children:"Quick start"}),"\n",(0,r.jsxs)(n.p,{children:["Accessible from the global scope, ",(0,r.jsx)(n.a,{href:"#log",children:(0,r.jsx)(n.code,{children:"console.log"})})," can be used to write a general logging message to the logs."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'console.log("Hello from JS \ud83d\udc4b"); // Hello from JS \ud83d\udc4b\n'})}),"\n",(0,r.jsxs)(n.p,{children:["For messages with a more specific purpose the following methods are provided:\n",(0,r.jsx)(n.a,{href:"#info",children:(0,r.jsx)(n.code,{children:"console.info"})}),", ",(0,r.jsx)(n.a,{href:"#warn",children:(0,r.jsx)(n.code,{children:"console.warn"})}),", ",(0,r.jsx)(n.a,{href:"#error",children:(0,r.jsx)(n.code,{children:"console.error"})}),", ",(0,r.jsx)(n.a,{href:"#debug",children:(0,r.jsx)(n.code,{children:"console.debug"})}),". For example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'function parseURL(arg: unknown) {\n  console.debug(`Running parseURL(${arg})`);\n  if (typeof arg !== "string") {\n    console.warn(`Expected a string, but received ${typeof arg}`);\n    arg = arg.toString();\n  }\n  try {\n    let result = new URL(arg);\n    console.info(`Result: ${result}`);\n    return result;\n  } catch (error) {\n    console.error(`Failed to parseURL: ${error}`);\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"logging-objects",children:"Logging objects"}),"\n",(0,r.jsxs)(n.p,{children:["When debugging ",(0,r.jsx)(n.code,{children:"jstz"})," smart functions it is often useful to log the value of an object.\nA common mistake is to try log an object directly, for example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'console.log({ name: "Dave", age: 42 }); // [object Object]\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This is because the ",(0,r.jsx)(n.code,{children:"jstz"})," implementation of ",(0,r.jsx)(n.code,{children:"console"})," doesn't support inspecting objects. A simple workaround is to use ",(0,r.jsx)(n.code,{children:"JSON.stringify"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'const dave = { name: "Dave", age: 42 };\nconsole.log(JSON.stringify(dave)); // { "name": "Dave", "age": 42 }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"assertions",children:"Assertions"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#assert",children:(0,r.jsx)(n.code,{children:"console.assert"})})," will log an error message if its first argument is false.\nIf the first argument is true there will be no effect."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'function divide(a: number, b: number): number {\n  console.assert(b != 0, "Trying to divide by 0");\n  return a / b;\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"groups",children:"Groups"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#group",children:(0,r.jsx)(n.code,{children:"console.group"})})," facilitates the creation of nested log groups by introducing varying levels of indentation and assigning a group name. These groups can be neatly closed using ",(0,r.jsx)(n.a,{href:"#groupEnd",children:(0,r.jsx)(n.code,{children:"console.groupEnd"})}),"."]}),"\n",(0,r.jsx)(n.p,{children:"This feature is particularly handy for organizing logs to suit your needs. For instance, consider the following code, which conducts a brute force search for Pythagorean triples, showcasing the use of nested groups to reflect the level of organization within the logs."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"function pythagoreanTriples(limit: number = 100) {\n  for (let x = 2; x <= limit; ++x) {\n    console.group(`x = ${x}`);\n    for (let y = 1; y < x; ++y) {\n      console.group(`y = ${y}`);\n      for (let z = x; z < x + y; ++z) {\n        console.log(`trying z = ${z}`);\n        if (x * x + y * y === z * z) {\n          console.log(`Success! ${x}^2 + ${y}^2 = ${z}^2`);\n          break;\n        }\n      }\n      console.groupEnd();\n    }\n    console.groupEnd();\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Running ",(0,r.jsx)(n.code,{children:"pythagoreanTriples(2)"})," will produce the following output:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"group: x = 2\n  group: y = 1\n    trying z = 2\n"})}),"\n",(0,r.jsx)(n.h2,{id:"instance-methods",children:"Instance Methods"}),"\n",(0,r.jsx)(n.h3,{id:"log",children:(0,r.jsx)(n.code,{children:"console.log(...message : unknown[]) : void"})}),"\n",(0,r.jsx)(n.p,{children:"Outputs a general logging message.\nString representations of each of the arguments will be concatenated, separated by spaces and written to the logs."}),"\n",(0,r.jsx)(n.h3,{id:"info",children:(0,r.jsx)(n.code,{children:"console.info(...message : unknown[]) : void"})}),"\n",(0,r.jsx)(n.p,{children:"Outputs a informative logging message.\nString representations of each of the arguments will be concatenated, separated by spaces and written to the logs."}),"\n",(0,r.jsx)(n.h3,{id:"warn",children:(0,r.jsx)(n.code,{children:"console.warn(...message : unknown[]) : void"})}),"\n",(0,r.jsx)(n.p,{children:"Outputs a warning logging message.\nString representations of each of the arguments will be concatenated, separated by spaces and written to the logs."}),"\n",(0,r.jsx)(n.h3,{id:"error",children:(0,r.jsx)(n.code,{children:"console.error(...message : unknown[]) : void"})}),"\n",(0,r.jsx)(n.p,{children:"Outputs a warning message.\nString representations of each of the arguments will be concatenated, separated by spaces and written to the logs."}),"\n",(0,r.jsx)(n.h3,{id:"assert",children:(0,r.jsx)(n.code,{children:"console.assert(assertion: unknown, ...message : unknown[]) : void"})}),"\n",(0,r.jsx)(n.p,{children:"Outputs an error message if the first argument is falsy.\nString representations of each of the arguments will be concatenated, separated by spaces and written to the logs.\nHas no effect if the first argument is truthy."}),"\n",(0,r.jsx)(n.h3,{id:"debug",children:(0,r.jsx)(n.code,{children:"console.debug(...message : unknown[]) : void"})}),"\n",(0,r.jsx)(n.p,{children:"Outputs a debug logging message.\nString representations of each of the arguments will be concatenated, separated by spaces and written to the logs."}),"\n",(0,r.jsx)(n.h3,{id:"group",children:(0,r.jsx)(n.code,{children:"console.group(...label : unknown[]) : void"})}),"\n",(0,r.jsx)(n.p,{children:"Begins a group and pushes the label to the group stack.\nThe group label will consist of the string representations of each of the arguments, concatenated and separated by spaces.\nSubsequent messages will be indented at the level of the group."}),"\n",(0,r.jsx)(n.h3,{id:"consolegroupcollapsedmessage--unknown--void",children:(0,r.jsx)(n.code,{children:"console.groupCollapsed(...message : unknown[]) : void"})}),"\n",(0,r.jsxs)(n.p,{children:["This is provided for compatibility with existing frameworks.\nThe behaviour is identical to ",(0,r.jsx)(n.a,{href:"#group",children:(0,r.jsx)(n.code,{children:"console.group(...)"})}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"groupEnd",children:(0,r.jsx)(n.code,{children:"console.groupEnd() : void"})}),"\n",(0,r.jsx)(n.p,{children:"Closes the current group and pops the group stack.\nHas no effect if the group stack is empty."}),"\n",(0,r.jsx)(n.h3,{id:"clear",children:(0,r.jsx)(n.code,{children:"console.clear() : void"})}),"\n",(0,r.jsx)(n.p,{children:"Provided for compatibility with existing frameworks.\nCloses all groups in the current group stack."})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);