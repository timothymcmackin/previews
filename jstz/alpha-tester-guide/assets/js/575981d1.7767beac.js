"use strict";(self.webpackChunkjstz_docs=self.webpackChunkjstz_docs||[]).push([[405],{3023:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(6540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},3963:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"installation","title":"Installing Jstz","description":"Download and Install","source":"@site/installation.md","sourceDirName":".","slug":"/installation","permalink":"/previews/jstz/alpha-tester-guide/installation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Installing Jstz","sidebar_label":"Installation"},"sidebar":"documentationSidebar","next":{"title":"Quick start","permalink":"/previews/jstz/alpha-tester-guide/quick_start"}}');var t=s(4848),l=s(3023);const r={title:"Installing Jstz",sidebar_label:"Installation"},o=void 0,d={},c=[{value:"Download and Install",id:"download-and-install",level:2},{value:"Building from Source",id:"building-from-source",level:2},{value:"Cloning the Repository",id:"cloning-the-repository",level:3},{value:"Prerequisites \ud83d\udccb",id:"prerequisites-",level:3},{value:"LLVM \ud83d\udee0\ufe0f",id:"llvm-\ufe0f",level:4},{value:"Rust \ud83e\udd80",id:"rust-",level:4},{value:"Octez \ud83d\udc19",id:"octez-",level:4},{value:"Building \ud83d\udc77\u200d\u2642\ufe0f",id:"building-\ufe0f",level:3},{value:"Running the Sandbox \ud83c\udfdd\ufe0f",id:"running-the-sandbox-\ufe0f",level:3}];function a(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"download-and-install",children:"Download and Install"}),"\n",(0,t.jsxs)(n.p,{children:["Jstz has several ",(0,t.jsx)(n.a,{href:"/architecture/overview#components",children:"components"}),", but the primary tool that you need to develop on Jstz is the ",(0,t.jsx)(n.a,{href:"/cli",children:"Jstz CLI"}),", which is available as the package ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@jstz-dev/cli",children:(0,t.jsx)(n.code,{children:"@jstz-dev/cli"})}),".\nIt allows you to start the Jstz sandbox, deploy smart functions to it, and interact with them."]}),"\n",(0,t.jsx)(n.p,{children:"Follow these instructions to install the Jstz CLI:"}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,t.jsx)(n.code,{children:"jstz"})," is only available on Unix-based systems. \u26a0\ufe0f"]})}),"\n",(0,t.jsxs)(n.p,{children:["Ensure ",(0,t.jsx)(n.code,{children:"docker"})," is installed on your system. If not, please follow ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"this guide"}),".\nDownload and install ",(0,t.jsx)(n.code,{children:"jstz"})," via NPM with this command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm i -g @jstz-dev/cli\n"})}),"\n",(0,t.jsx)(n.p,{children:"or with yarn:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn global add @jstz-dev/cli\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Congratulations! \ud83c\udf89 ",(0,t.jsx)(n.code,{children:"jstz"})," is now installed and configured on your system.\nYou are now ready to ",(0,t.jsx)(n.a,{href:"/previews/jstz/alpha-tester-guide/quick_start",children:"write your first smart function"})," \ud83d\ude80."]}),"\n",(0,t.jsx)(n.h2,{id:"building-from-source",children:"Building from Source"}),"\n",(0,t.jsxs)(n.p,{children:["Below are instruction on how to build ",(0,t.jsx)(n.code,{children:"jstz"})," from source. Additionally, this section details how to install all the prerequisites needed to build ",(0,t.jsx)(n.code,{children:"jstz"})," from sources."]}),"\n",(0,t.jsx)(n.h3,{id:"cloning-the-repository",children:"Cloning the Repository"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"git clone https://github.com/jstz-dev/jstz.git\n"})}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites-",children:"Prerequisites \ud83d\udccb"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Both ",(0,t.jsx)(n.code,{children:"jstz"})," and Octez are packaged with Nix, a package manager and system configuration tool that makes building from sources easy! See the ",(0,t.jsx)(n.a,{href:"https://nixos.org/download.html",children:"Nix docs"})," for instructions for your system. Additionally, ensure ",(0,t.jsx)(n.a,{href:"https://nixos.wiki/wiki/Flakes#Enable_flakes",children:"Nix flakes are enabled"}),"."]})}),"\n",(0,t.jsx)(n.h4,{id:"llvm-\ufe0f",children:"LLVM \ud83d\udee0\ufe0f"}),"\n",(0,t.jsx)(n.p,{children:"MacOS:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'brew install llvm\nexport CC="$(brew --prefix llvm)/bin/clang"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Ubuntu:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo apt-get install clang-11\nexport CC=clang-11\n"})}),"\n",(0,t.jsx)(n.p,{children:"Fedora:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo dnf install clang\nexport CC=clang\n"})}),"\n",(0,t.jsx)(n.p,{children:"Linux:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",metastring:"Arch",children:"pacman -S clang\nexport CC=clang\n"})}),"\n",(0,t.jsx)(n.p,{children:"Nix:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"nix-env -iA nixpkgs.llvm\n"})}),"\n",(0,t.jsx)(n.h4,{id:"rust-",children:"Rust \ud83e\udd80"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"jstz"})," requires a specific release of Rust. The version of Rust required is specified in the ",(0,t.jsx)(n.code,{children:"rust-toolchain"})," file."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Install the ",(0,t.jsx)(n.a,{href:"https://rustup.rs/",children:"Rust"})," toolchain:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n"})}),"\n",(0,t.jsx)(n.h4,{id:"octez-",children:"Octez \ud83d\udc19"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["The Nix shell ships with Octez binaries for convenience but it does take a little while to build for the very first time.\nSkip ahead to ",(0,t.jsx)(n.a,{href:"#building-%EF%B8%8F",children:"Building"})]})}),"\n",(0,t.jsxs)(n.p,{children:["The jstz sandbox uses a custom distribution of Octez found ",(0,t.jsx)(n.a,{href:"https://gitlab.com/tezos/tezos/-/tree/jstz@octez-dev",children:"here"}),". See the ",(0,t.jsx)(n.a,{href:"https://tezos.gitlab.io/introduction/howtoget.html?highlight=building#compiling-with-make",children:"Octez docs"})," for instructions on building Octez from source."]}),"\n",(0,t.jsxs)(n.p,{children:["Once Octez has been built, copy the following binaries to ",(0,t.jsx)(n.code,{children:"jstz"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"octez-client"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"octez-node"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"octez-smart-rollup-node"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"building-\ufe0f",children:"Building \ud83d\udc77\u200d\u2642\ufe0f"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Using Nix, simply run ",(0,t.jsx)(n.code,{children:"nix develop"})," to enter a shell with all build dependencies or use ",(0,t.jsx)(n.code,{children:"direnv"})," to automatically enter the shell when you ",(0,t.jsx)(n.code,{children:"cd"})," into the ",(0,t.jsx)(n.code,{children:"jstz"})," directory."]})}),"\n",(0,t.jsx)(n.p,{children:"The kernel can be built with:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"make build\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can locate the resulting build artifact at ",(0,t.jsx)(n.code,{children:"/target/wasm32-unknown-unknown/release/jstz_kernel.wasm"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"running-the-sandbox-\ufe0f",children:"Running the Sandbox \ud83c\udfdd\ufe0f"}),"\n",(0,t.jsx)(n.p,{children:"You can start the sandbox with:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"make build-cli\nPATH=.:$PATH cargo run --bin jstz -- sandbox start\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This will initially run ",(0,t.jsx)(n.code,{children:"octez-node"})," and initialize ",(0,t.jsx)(n.code,{children:"octez-client"}),". Once the client is initialized, the ",(0,t.jsx)(n.code,{children:"jstz_kernel"})," and ",(0,t.jsx)(n.code,{children:"jstz_bridge"}),"\nis originated, a ",(0,t.jsx)(n.code,{children:"octez-smart-rollup-node"})," and ",(0,t.jsx)(n.code,{children:"jstz-node"})," is spun up."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);