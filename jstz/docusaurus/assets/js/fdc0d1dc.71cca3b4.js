"use strict";(self.webpackChunkjstz_docs=self.webpackChunkjstz_docs||[]).push([[945],{8413:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"api/url","title":"\ud83d\udd17 URL","description":"jstz\'s implementation of the URL API defines utilities for URL resolution and parsing according to the URL specification.","source":"@site/api/url.md","sourceDirName":"api","slug":"/api/url","permalink":"/previews/jstz/docusaurus/api/url","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\ud83d\udd17 URL","sidebar_label":"URL"},"sidebar":"documentationSidebar","previous":{"title":"Response","permalink":"/previews/jstz/docusaurus/api/response"},"next":{"title":"URLSearchParams","permalink":"/previews/jstz/docusaurus/api/url_search_params"}}');var t=s(4848),i=s(8453);const a={title:"\ud83d\udd17 URL",sidebar_label:"URL"},l=void 0,c={},o=[{value:"Quick Start",id:"quick-start",level:2},{value:"Constructor",id:"constructor",level:2},{value:"<code>new URL(url: string, base?: string): URL</code>",id:"new-urlurl-string-base-string-url",level:3},{value:"Instance Properties",id:"instance-properties",level:2},{value:"<code>URL.hash: string</code>",id:"urlhash-string",level:3},{value:"<code>URL.host: string</code>",id:"urlhost-string",level:3},{value:"<code>URL.hostname: string</code>",id:"urlhostname-string",level:3},{value:"<code>URL.href: string</code>",id:"href",level:3},{value:"<code>readonly URL.origin: string</code>",id:"readonly-urlorigin-string",level:3},{value:"<code>URL.password: string</code>",id:"urlpassword-string",level:3},{value:"<code>URL.pathname: string</code>",id:"urlpathname-string",level:3},{value:"<code>URL.port: string</code>",id:"urlport-string",level:3},{value:"<code>URL.protocol: string</code>",id:"urlprotocol-string",level:3},{value:"<code>URL.search: string</code>",id:"urlsearch-string",level:3},{value:"<code>readonly URL.searchParams: URLSearchParams</code>",id:"readonly-urlsearchparams-urlsearchparams",level:3},{value:"<code>URL.username: string</code>",id:"urlusername-string",level:3},{value:"Static Methods",id:"static-methods",level:2},{value:"<code>URL.canParse(url: string, base?: string): boolean</code>",id:"canParse",level:3},{value:"Instance Methods",id:"instance-methods",level:2},{value:"<code>URL.toString(): string</code>",id:"urltostring-string",level:3},{value:"<code>URL.toJSON(): string</code>",id:"urltojson-string",level:3}];function d(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"jstz"}),"'s implementation of the ",(0,t.jsx)(r.code,{children:"URL"})," API defines utilities for URL resolution and parsing according to the ",(0,t.jsx)(r.a,{href:"https://url.spec.whatwg.org/#urlsearchparams",children:"URL specification"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(r.p,{children:"There are two ways to create a URL: either as an absolute URL or a relative URL."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-typescript",children:'let url: URL = new URL(`jstz://${my_function.address}/entrypoint`);\nlet url2: URL = new URL("../entrypoint_2", url.href);\n'})}),"\n",(0,t.jsxs)(r.p,{children:["Each ",(0,t.jsx)(r.code,{children:"jstz"})," smart function is assigned a unique address, akin to an IP address, starting with ",(0,t.jsx)(r.code,{children:"KT1"})," when the function is deployed.\nTo decode these addresses, ",(0,t.jsx)(r.code,{children:"jstz"})," employs its own URL scheme ",(0,t.jsx)(r.code,{children:"jstz://"}),".\nAn example URL for a ",(0,t.jsx)(r.code,{children:"jstz"})," smart function would therefore be ",(0,t.jsx)(r.code,{children:"jstz://KT19mYzcaYk55KttezwP4TbMrGCDpVuPW3Jw/"}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["It's important to note that if the base URL or the resulting URL is not valid, the constructor will raise a ",(0,t.jsx)(r.code,{children:"TypeError"})," exception.\nTo check whether URLs can be parsed correctly, you can use the static method ",(0,t.jsx)(r.a,{href:"#canParse",children:(0,t.jsx)(r.code,{children:"URL.canParse()"})}),"."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-typescript",children:'if (URL.canParse(relativePath, baseUrl)) {\n  let url = new URL(relativePath, baseUrl);\n  console.log(url.href);\n} else {\n  // the URL cannot be parsed, take appropriate action.\n  console.error("Invalid URL");\n}\n'})}),"\n",(0,t.jsx)(r.p,{children:"You can also modify a URL by setting its properties."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-typescript",children:'let url = new URL("jstz://KT19mYzcaYk55KttezwP4TbMrGCDpVuPW3Jw/"); // not a valid address, we\'ll have to change it\nurl.hostname = Ledger.selfAddress;\nurl.pathname = "accounts";\nurl.hash = "#id";\nconsole.log(url.href); // jstz://KT1../accounts#id\n'})}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.a,{href:"/previews/jstz/docusaurus/api/url_search_params",children:(0,t.jsx)(r.code,{children:"URLSearchParams"})})," API may be used to build and manipulate search parameters. To get the search parameters from the URL, you can make use of the ",(0,t.jsx)(r.code,{children:".searchParams"})," instance property."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-typescript",children:'let url = new URL(`jstz://${address}/?first_name=Dave`);\nswitch (url.searchParams.get("first_name")) {\n  case "Jim":\n    url.searchParams.set("last_name", "Jones");\n    break;\n  case "Sarah":\n    url.searchParams.set("last_name", "Smith");\n    break;\n  case "Dave":\n    url.searchParams.set("last_name", "Davies");\n    break;\n}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"constructor",children:"Constructor"}),"\n",(0,t.jsx)(r.h3,{id:"new-urlurl-string-base-string-url",children:(0,t.jsx)(r.code,{children:"new URL(url: string, base?: string): URL"})}),"\n",(0,t.jsxs)(r.p,{children:["Constructs a URL from a given URL string and an optional base URL.\nIf ",(0,t.jsx)(r.code,{children:"base"})," if present then ",(0,t.jsx)(r.code,{children:"url"})," will be interpreted as a relative URL.\nIf ",(0,t.jsx)(r.code,{children:"base"})," is not present then ",(0,t.jsx)(r.code,{children:"url"})," will be interpreted as an absolute URL.\nRaises a ",(0,t.jsx)(r.code,{children:"TypeError"})," exception if the base URL or resulting URL aren't valid URLs."]}),"\n",(0,t.jsx)(r.h2,{id:"instance-properties",children:"Instance Properties"}),"\n",(0,t.jsx)(r.h3,{id:"urlhash-string",children:(0,t.jsx)(r.code,{children:"URL.hash: string"})}),"\n",(0,t.jsx)(r.p,{children:"The fragment identifier of the URL."}),"\n",(0,t.jsx)(r.h3,{id:"urlhost-string",children:(0,t.jsx)(r.code,{children:"URL.host: string"})}),"\n",(0,t.jsx)(r.p,{children:"The host, a string containing the hostname (see below), followed by a ':' and the port of the URL."}),"\n",(0,t.jsx)(r.h3,{id:"urlhostname-string",children:(0,t.jsx)(r.code,{children:"URL.hostname: string"})}),"\n",(0,t.jsxs)(r.p,{children:["The hostname of the URL. In ",(0,t.jsx)(r.code,{children:"jstz"})," this will usually be a ",(0,t.jsx)(r.code,{children:"KT1"})," address of a smart function."]}),"\n",(0,t.jsx)(r.h3,{id:"href",children:(0,t.jsx)(r.code,{children:"URL.href: string"})}),"\n",(0,t.jsx)(r.p,{children:"A stringifier, returns the whole URL."}),"\n",(0,t.jsx)(r.h3,{id:"readonly-urlorigin-string",children:(0,t.jsx)(r.code,{children:"readonly URL.origin: string"})}),"\n",(0,t.jsx)(r.p,{children:"The origin of the URL, specifically the scheme, the domain and the port."}),"\n",(0,t.jsx)(r.h3,{id:"urlpassword-string",children:(0,t.jsx)(r.code,{children:"URL.password: string"})}),"\n",(0,t.jsx)(r.p,{children:"The password specified before the domain name."}),"\n",(0,t.jsx)(r.h3,{id:"urlpathname-string",children:(0,t.jsx)(r.code,{children:"URL.pathname: string"})}),"\n",(0,t.jsxs)(r.p,{children:["The URL path. This will always begin with a ",(0,t.jsx)(r.code,{children:"'/'"})," and contains the part of the URL up until the query string or fragment."]}),"\n",(0,t.jsx)(r.h3,{id:"urlport-string",children:(0,t.jsx)(r.code,{children:"URL.port: string"})}),"\n",(0,t.jsxs)(r.p,{children:["The port number of the URL. This has no special meaning within ",(0,t.jsx)(r.code,{children:"jstz"})," and will not usually be present."]}),"\n",(0,t.jsx)(r.h3,{id:"urlprotocol-string",children:(0,t.jsx)(r.code,{children:"URL.protocol: string"})}),"\n",(0,t.jsxs)(r.p,{children:["The protocol scheme of the URL. Within ",(0,t.jsx)(r.code,{children:"jstz"})," this will usually be ",(0,t.jsx)(r.code,{children:"tezos:"})]}),"\n",(0,t.jsx)(r.h3,{id:"urlsearch-string",children:(0,t.jsx)(r.code,{children:"URL.search: string"})}),"\n",(0,t.jsxs)(r.p,{children:["The URL's search parameter string, This will include all the search parameters of the URL, each of which begins with a ",(0,t.jsx)(r.code,{children:"'?'"}),"."]}),"\n",(0,t.jsx)(r.h3,{id:"readonly-urlsearchparams-urlsearchparams",children:(0,t.jsx)(r.code,{children:"readonly URL.searchParams: URLSearchParams"})}),"\n",(0,t.jsxs)(r.p,{children:["The search parameter object. See ",(0,t.jsx)(r.a,{href:"/previews/jstz/docusaurus/api/url_search_params",children:(0,t.jsx)(r.code,{children:"URLSearchParams"})})," for more information."]}),"\n",(0,t.jsx)(r.h3,{id:"urlusername-string",children:(0,t.jsx)(r.code,{children:"URL.username: string"})}),"\n",(0,t.jsx)(r.p,{children:"The username specified before the domain name."}),"\n",(0,t.jsx)(r.h2,{id:"static-methods",children:"Static Methods"}),"\n",(0,t.jsx)(r.h3,{id:"canParse",children:(0,t.jsx)(r.code,{children:"URL.canParse(url: string, base?: string): boolean"})}),"\n",(0,t.jsxs)(r.p,{children:["Returns ",(0,t.jsx)(r.code,{children:"true"})," if the URL and base URL strings can be parsed into a valid URL."]}),"\n",(0,t.jsx)(r.h2,{id:"instance-methods",children:"Instance Methods"}),"\n",(0,t.jsx)(r.h3,{id:"urltostring-string",children:(0,t.jsx)(r.code,{children:"URL.toString(): string"})}),"\n",(0,t.jsxs)(r.p,{children:["An alias for ",(0,t.jsx)(r.a,{href:"#href",children:(0,t.jsx)(r.code,{children:"href"})}),"; returns the whole URL as a string."]}),"\n",(0,t.jsx)(r.h3,{id:"urltojson-string",children:(0,t.jsx)(r.code,{children:"URL.toJSON(): string"})}),"\n",(0,t.jsxs)(r.p,{children:["An alias for ",(0,t.jsx)(r.a,{href:"#href",children:(0,t.jsx)(r.code,{children:"href"})}),"; returns the whole URL as a string."]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>a,x:()=>l});var n=s(6540);const t={},i=n.createContext(t);function a(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);